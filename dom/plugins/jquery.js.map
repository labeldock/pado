{"version":3,"sources":["../../.src/dom/plugins/jquery.js"],"names":["$","window","document","require","e","jsdom","JSDOM","dom","contentType","userAgent","includeNodeLocations","global","isPointerEvent","getOriginalEvent","getElementPosition","el","element","xPosition","yPosition","offsetLeft","scrollLeft","clientLeft","offsetTop","scrollTop","clientTop","offsetParent","x","y","getPointerPosition","root","documentElement","evt","pos","touches","pageX","clientX","pageY","clientY","fn","extend","containsIn","node","eq","target","i","l","length","find","containsOut","predict","offset","offsetWidth","innerWidth","offsetHeight","innerHeight","result","top","left","width","height","right","bottom","center","middle","forEach","key","equalize"],"mappings":"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","sourcesContent":["import { isPlainObject } from '../../functions';\n\nlet $;\n\ntry {\n  (window,document);\n  $ = require('jquery');\n} catch(e){\n  const { JSDOM } = jsdom;\n  const dom = new JSDOM('<html><head><meta charset=\"utf-8\"></head><body></body></html>',{\n    contentType: \"text/html\",\n    userAgent: \"Mellblomenator/9000\",\n    includeNodeLocations: true\n  });\n  global.window = dom.window;\n  global.document = dom.document;\n  $ = require('jquery');\n}\n\nconst isPointerEvent = $.isPointerEvent = function (e){\n  \n}\n\nconst getOriginalEvent = $.getOriginalEvent = function(e){\n  \n};\n\nconst getElementPosition = $.getElementPosition = function(el){\n  let [ element ] = $(el);\n  \n  if(!element) return null;\n  \n  let xPosition = 0, yPosition = 0;\n  while(element){\n    xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft);\n    yPosition += (element.offsetTop  - element.scrollTop  + element.clientTop );\n    element = element.offsetParent;\n  }\n  return {x:xPosition,y:yPosition};\n}\n\n\nconst getPointerPosition = $.getPointerPosition = function(e, root){\n  root = !root ? document.documentElement : root;\n\n  const evt = getOriginalEvent(e);\n  const pos = getElementPosition(root);\n  if(!pos) return;\n  \n  pos.x = e.touches ? e.touches[0].pageX : e.clientX - pos.x;\n  pos.y = e.touches ? e.touches[0].pageY : e.clientY - pos.y;\n  return pos;\n}\n\n$.fn.extend({\n  //파라메터 노드가 제이쿼리가 가진 노드 안에 있는지 확인\n  containsIn (node){\n    var [ target ] = $(node).eq(0);\n    if(target) for(var i=0,l=this.length;i<l;i++){\n      if(this[i] === target) return true;\n      if(this.eq(i).find(target).length) return true;\n    }\n    return false;\n  },\n  //파라메터 노드가 제이쿼리가 가진 노드 밖에 있는지 확인\n  containsOut (node){\n    return !this.containsIn(node);\n  },\n  /*\n    //\n    $(window).predict()\n    $(window).predict({center:20});\n    $(window).predict({center:event});\n    \n    //TODO\n    $(window).predict(element)\n    $(window).predict(element, {center:20});\n  */\n  predict (offset){\n    const [ element ] = this.eq(0);\n    if(!element) return;\n    \n    const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = element[\"innerWidth\"] ? {\n      offsetTop   :0, \n      offsetLeft  :0, \n      offsetWidth :window.innerWidth, \n      offsetHeight:window.innerHeight\n    } : element;\n    \n    const result = {\n      top   :offsetTop,\n      left  :offsetLeft,\n      width :offsetWidth,\n      height:offsetHeight,\n      right :offsetLeft + offsetWidth,\n      bottom:offsetTop + offsetHeight,\n      center:(offsetWidth + offsetLeft) / 2,\n      middle:(offsetHeight + offsetTop) / 2\n    };\n      \n    if(isPointerEvent(offset)){\n      const { x:left, y:top } = getPointerPosition(offset);\n      offset = { left, top };\n    }\n      \n    if(offset && isPlainObject(offset)){\n      [\"top\", \"left\", \"width\", \"height\", \"right\", \"bottom\", \"center\", \"middle\"].forEach((key)=>{\n        if(typeof offset[key] !== \"number\") return;\n          \n        let equalize;\n          \n        switch(key){\n        case \"top\":\n        case \"middle\":\n          equalize = [\"y\", offset[key] - result[key]];\n          break;\n        case \"left\":\n        case \"center\":\n          equalize = [\"x\", offset[key] - result[key]];\n          break;\n        case \"width\":\n          equalize = [\"width\", offset[key] - result[key]];\n          break;\n        case \"height\":\n          equalize = [\"height\", offset[key] - result[key]];\n          break;\n        case \"right\":\n          break;\n        case \"bottom\":\n          break;\n        }\n          \n        switch(equalize && equalize[0]){\n        case \"x\":\n          result[\"left\"]   += equalize[1];\n          result[\"center\"] += equalize[1];\n          result[\"right\"]  += equalize[1];\n          break;\n        case \"y\":\n          result[\"top\"]    += equalize[1];\n          result[\"middle\"] += equalize[1];\n          result[\"bottom\"] += equalize[1];\n          break;\n        case \"width\":\n          result[\"width\"]  += equalize[1];\n          result[\"right\"]  += equalize[1];\n          result[\"center\"] += (result[\"right\"] - result[\"left\"] / 2);\n          break;\n        case \"height\":\n          result[\"height\"] += equalize[1];\n          result[\"bottom\"] += equalize[1];\n          result[\"middle\"] += (result[\"bottom\"] - result[\"top\"] / 2);\n          break;\n        }\n      });\n    }\n    \n    return result;\n  }\n});\n\nexport default $;"],"file":"jquery.js"}
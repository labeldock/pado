{"version":3,"sources":["../packages/pado/functions/remark.js"],"names":["fallback","value","fallbackFn","args","valueOf","stringTest","string","filterExp","defaultResult","indexOf","RegExp","test","some","filterKey","Boolean","keys","target","strict","result","filter","key","Object","isNaN","numberKey","parseInt","push","forEach","deepKeys","nestedDeepKeys","scope","total","child","useKey","length","currentScope","entries","it","v","k","matchString","search","at","Error","replace","s","substr","match","index","findIndex","__find_string","__find_regexp","i","substring","findIndexes","c","idxs","next"],"mappings":";;;;;;;;;;;;;;;;;;;;AAiBO,MAAMA,QAAQ,GAAG,SAAXA,QAAW,CAASC,KAAT,EAAgBC,UAAhB,EAAoC;AAAA,sCAALC,IAAK;AAALA,MAAAA,IAAK;AAAA;;AAC1D,WAAO,OAAOF,KAAP,KAAiB,WAAjB,GAA+BC,UAAU,MAAV,SAAcC,IAAd,CAA/B,GAAqDF,KAA5D;AACD,GAFM;;;;AAIA,MAAMG,OAAO,GAAG,SAAVA,OAAU,CAASH,KAAT,EAAwB;AAAA,uCAALE,IAAK;AAALA,MAAAA,IAAK;AAAA;;AAC7C,WAAO,OAAOF,KAAP,KAAiB,UAAjB,GAA8BA,KAAK,MAAL,SAASE,IAAT,CAA9B,GAA+CF,KAAtD;AACD,GAFM;;;;AAIA,MAAMI,UAAU,GAAG,SAAbA,UAAa,CAASC,MAAT,EAAiBC,SAAjB,EAA4BC,aAA5B,EAAgD;AAAA,QAApBA,aAAoB;AAApBA,MAAAA,aAAoB,GAAN,KAAM;AAAA;;AACxE,QAAG,CAAC,wBAAWF,MAAX,CAAJ,EAAwB,OAAO,KAAP;AACxB,QAAG,OAAOC,SAAP,KAAqB,WAAxB,EAAqC,OAAO,IAAP;AACrC,WAAO,wBAAWA,SAAX,IAAwB,CAACD,MAAM,GAAC,EAAR,EAAYG,OAAZ,CAAoBF,SAAS,GAAC,EAA9B,IAAoC,CAAC,CAA7D,GACPA,SAAS,YAAYG,MAArB,GAA8BH,SAAS,CAACI,IAAV,CAAeL,MAAf,CAA9B,GACA,qBAAQC,SAAR,IAAqBA,SAAS,CAACK,IAAV,CAAe,UAAAC,SAAS;AAAA,aAAEA,SAAS,KAAGP,MAAd;AAAA,KAAxB,CAArB,GACA,OAAOC,SAAP,KAAqB,UAArB,GAAkCO,OAAO,CAACP,SAAS,CAACD,MAAD,CAAV,CAAzC,GAA+D,KAH/D;AAID,GAPM;;;;AASA,MAAMS,IAAI,GAAG,SAAPA,IAAO,CAAUC,MAAV,EAAkBT,SAAlB,EAA6BU,MAA7B,EAAoC;AACtD,QAAMC,MAAM,GAAG,EAAf;AACA,QAAG,CAAC,wBAAWF,MAAX,CAAJ,EAAwB,OAAOE,MAAP;AAExB,QAAMC,MAAM,GAAG,OAAOZ,SAAP,KAAqB,UAArB,GAAkC,UAACa,GAAD;AAAA,aAAOb,SAAS,CAACa,GAAD,EAAMJ,MAAN,CAAhB;AAAA,KAAlC,GAAkET,SAAjF;AAEA,KAACU,MAAM,KAAK,IAAX,GAAkB,qBAAQD,MAAR,CAAlB,GAAoC,uBAAUA,MAAV,CAArC,KACAK,MAAM,CAACN,IAAP,CAAYC,MAAZ,EAAoBG,MAApB,CAA2B,UAAAC,GAAG,EAAE;AAC9B,UAAGE,KAAK,CAACF,GAAD,CAAR,EAAe;AACf,UAAMG,SAAS,GAAGC,QAAQ,CAACJ,GAAD,EAAM,EAAN,CAA1B;AACAf,MAAAA,UAAU,CAACkB,SAAD,EAAYJ,MAAZ,CAAV,IAAiCD,MAAM,CAACO,IAAP,CAAYD,QAAQ,CAACD,SAAD,EAAY,EAAZ,CAApB,CAAjC;AACD,KAJD,CADA,IAMA,CAACN,MAAM,KAAK,IAAX,GAAkB,2BAAcD,MAAd,CAAlB,GAA0C,wBAAWA,MAAX,CAA3C,KACAK,MAAM,CAACN,IAAP,CAAYC,MAAZ,EAAoBU,OAApB,CAA4B,UAAAN,GAAG,EAAE;AAC/Bf,MAAAA,UAAU,CAACe,GAAD,EAAMD,MAAN,CAAV,IAA2BD,MAAM,CAACO,IAAP,CAAYL,GAAZ,CAA3B;AACD,KAFD,CAPA;AAWA,WAAOF,MAAP;AACD,GAlBM;;;;AAqBA,MAAMS,QAAQ,GAAI,YAAW;AAClC,QAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAUZ,MAAV,EAAkBG,MAAlB,EAA0BU,KAA1B,EAAiCC,KAAjC,EAAuC;AAC5D,UAAG,OAAOd,MAAP,KAAkB,QAArB,EAA8B;AAC5BD,QAAAA,IAAI,CAACC,MAAD,EAAS,UAACI,GAAD,EAAMJ,MAAN,EAAe;AAC1B,cAAMe,KAAK,GAAIf,MAAM,CAACI,GAAD,CAArB;AACA,cAAMY,MAAM,GAAGb,MAAM,CAACY,KAAD,EAAQX,GAAR,EAAaS,KAAK,CAACI,MAAnB,CAArB;;AACA,cAAG,CAACD,MAAJ,EAAW;AACT;AACD;;AACD,cAAME,YAAY,GAAG,iBAAML,KAAN,CAArB;AACAK,UAAAA,YAAY,CAACT,IAAb,CAAkBL,GAAlB;AACAU,UAAAA,KAAK,CAACL,IAAN,CAAWS,YAAX;AACAN,UAAAA,cAAc,CAACG,KAAD,EAAQZ,MAAR,EAAgBe,YAAhB,EAA8BJ,KAA9B,CAAd;AACD,SAVG,EAUD,IAVC,CAAJ;AAWD;AACF,KAdD;;AAgBA,WAAO,UAAUd,MAAV,EAAkBG,MAAlB,EAAyB;AAC9B,UAAMD,MAAM,GAAG,EAAf;AACAU,MAAAA,cAAc,CAACZ,MAAD,EAASG,MAAM,GAAG,UAACY,KAAD,EAAQX,GAAR,EAAc;AAAED,QAAAA,MAAM,CAACY,KAAD,EAAQX,GAAR,CAAN;AAAoB,OAAvC,GAA0C;AAAA,eAAI,IAAJ;AAAA,OAAzD,EAAmE,EAAnE,EAAuEF,MAAvE,CAAd;AACA,aAAOA,MAAP;AACD,KAJD;AAKD,GAtBwB,EAAlB;;;;AAwBA,MAAMiB,OAAO,GAAG,SAAVA,OAAU,CAAUC,EAAV,EAAa;AAClC,QAAMlB,MAAM,GAAG,EAAf;;AACA,YAAQ,OAAOkB,EAAf;AACE,WAAK,QAAL;AACE;AACA,4BAAOA,EAAP,IAAa,CAAb,GACI,uBAAUA,EAAV,IAAgB,mBAAQA,EAAR,EAAYV,OAAZ,CAAoB,UAACW,CAAD,EAAIC,CAAJ,EAAQ;AAAEpB,UAAAA,MAAM,CAACO,IAAP,CAAY,CAACa,CAAD,EAAID,CAAJ,CAAZ;AAAqB,SAAnD,CAAhB,GACAhB,MAAM,CAACN,IAAP,CAAYqB,EAAZ,EAAgBV,OAAhB,CAAwB,UAAAN,GAAG,EAAE;AAAEF,UAAAA,MAAM,CAACO,IAAP,CAAY,CAACL,GAAD,EAAMgB,EAAE,CAAChB,GAAD,CAAR,CAAZ;AAA6B,SAA5D,CAFJ;AAGA;AANJ;;AAQA,WAAOF,MAAP;AACD,GAXM,C,CAaP;;;;;AACO,MAAMqB,WAAW,GAAG,SAAdA,WAAc,CAACH,EAAD,EAAKI,MAAL,EAAaC,EAAb,EAAsB;AAAA,QAATA,EAAS;AAATA,MAAAA,EAAS,GAAJ,CAAI;AAAA;;AAC/C,QAAG,OAAOL,EAAP,KAAc,QAAjB,EAA2B,MAAM,IAAIM,KAAJ,oCAA2CN,EAA3C,CAAN;AAC3B,QAAG,OAAOI,MAAP,KAAkB,QAArB,EAA+BA,MAAM,GAAGA,MAAM,CAACG,OAAP,CAAe,IAAIjC,MAAJ,CAAW,eAAX,EAA4B,GAA5B,CAAf,EAAiD,UAAAkC,CAAC;AAAA,oBAAOA,CAAP;AAAA,KAAlD,CAAT;AAC/B,QAAM1B,MAAM,GAAGkB,EAAE,CAACS,MAAH,CAAUJ,EAAV,EAAcK,KAAd,CAAoBN,MAApB,CAAf;AACA,WAAOtB,MAAM,GAAG,CAACA,MAAM,CAAC6B,KAAP,GAAeN,EAAhB,EAAoBvB,MAAM,CAAC,CAAD,CAAN,CAAUe,MAA9B,CAAH,GAA2C,CAAC,CAAC,CAAF,EAAK,CAAL,CAAxD;AACD,GALM;;;;AAOA,MAAMe,SAAS,GAAI,YAAW;AACnC,QAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACb,EAAD,EAAKI,MAAL,EAAaC,EAAb;AAAA,aAAkBL,EAAE,CAAC3B,OAAH,CAAW+B,MAAX,EAAmBC,EAAnB,CAAlB;AAAA,KAAtB;;AACA,QAAMS,aAAa,GAAG,SAAhBA,aAAgB,CAACd,EAAD,EAAKI,MAAL,EAAaC,EAAb,EAAkB;AACtC,UAAIU,CAAC,GAAGf,EAAE,CAACgB,SAAH,CAAaX,EAAE,IAAI,CAAnB,EAAsBD,MAAtB,CAA6BA,MAA7B,CAAR;AACA,aAAQW,CAAC,IAAI,CAAN,GAAYA,CAAC,IAAIV,EAAE,IAAI,CAAV,CAAb,GAA6BU,CAApC;AACD,KAHD;;AAIA,WAAO,UAACf,EAAD,EAAKI,MAAL,EAAaC,EAAb;AAAA,aAAkB,CAAED,MAAM,YAAY9B,MAAnB,GAA6BwC,aAA7B,GAA6CD,aAA9C,EAA6Db,EAA7D,EAAiEI,MAAjE,EAAyEC,EAAzE,CAAlB;AAAA,KAAP;AACD,GAPyB,EAAnB,C,CASP;;;;;AACO,MAAMY,WAAW,GAAI,YAAW;AACrC,WAAO,UAAUC,CAAV,EAAaV,CAAb,EAAgBH,EAAhB,EAAmB;AACxB,UAAG,OAAOa,CAAP,KAAa,QAAb,IAAyB,OAAOA,CAAP,KAAa,QAAzC,EAAkD;AAChD,YAAIC,IAAI,GAAG,EAAX;AAAe,YAAIX,CAAC,GAAG,wBAAWA,CAAX,IAAgBA,CAAhB,GAAoBA,CAAC,GAAG,EAAhC;AAAoC,YAAIH,EAAE,GAAI,CAACA,EAAD,IAAO,CAAC,sBAASA,EAAT,CAAR,IAAwBA,EAAE,GAAG,CAA9B,GAAmC,CAAnC,GAAuCA,EAAhD;AAAoD,YAAIe,IAAJ;;AACvG,WAAG;AACD,cAAIL,CAAC,GAAGH,SAAS,CAACM,CAAD,EAAIV,CAAJ,EAAOH,EAAP,CAAjB;;AACA,cAAGU,CAAC,GAAG,CAAC,CAAR,EAAU;AACRV,YAAAA,EAAE,GAAG,CAACG,CAAC,CAACX,MAAF,IAAY,CAAb,IAAkBkB,CAAvB;AACAI,YAAAA,IAAI,CAAC9B,IAAL,CAAU0B,CAAV;AACAK,YAAAA,IAAI,GAAG,IAAP;AACD,WAJD,MAIO;AACLA,YAAAA,IAAI,GAAG,KAAP;AACD;AACF,SATD,QASQA,IATR;;AAUA,eAAOD,IAAP;AACD;AACF,KAfD;AAgBD,GAjB2B,EAArB","sourcesContent":["import { \n  isNone,\n  likeString,\n  isNumber,\n  likeRegexp,\n  isArray,\n  likeArray,\n  likeObject,\n  isPlainObject\n} from './isLike'\n\nimport {\n  clone,\n  asArray\n} from './cast'\n\n\nexport const fallback = function(value, fallbackFn, ...args){\n  return typeof value === \"undefined\" ? fallbackFn(...args) : value;\n}\n\nexport const valueOf = function(value, ...args){\n  return typeof value === \"function\" ? value(...args) : value;\n}\n\nexport const stringTest = function(string, filterExp, defaultResult=false){\n  if(!likeString(string)) return false;\n  if(typeof filterExp === \"undefined\") return true;\n  return likeString(filterExp) ? (string+'').indexOf(filterExp+'') > -1 :\n  filterExp instanceof RegExp ? filterExp.test(string) :\n  isArray(filterExp) ? filterExp.some(filterKey=>filterKey===string) :\n  typeof filterExp === \"function\" ? Boolean(filterExp(string)) : false\n}\n\nexport const keys = function (target, filterExp, strict){\n  const result = []\n  if(!likeObject(target)) return result\n  \n  const filter = typeof filterExp === \"function\" ? (key)=>filterExp(key, target) : filterExp;\n  \n  (strict === true ? isArray(target) : likeArray(target)) && \n  Object.keys(target).filter(key=>{ \n    if(isNaN(key)) return;\n    const numberKey = parseInt(key, 10);\n    stringTest(numberKey, filter) && result.push(parseInt(numberKey, 10)) \n  }) || \n  (strict === true ? isPlainObject(target) : likeObject(target)) && \n  Object.keys(target).forEach(key=>{ \n    stringTest(key, filter) && result.push(key) \n  })\n  \n  return result\n}\n\n\nexport const deepKeys = (function (){\n  const nestedDeepKeys = function (target, filter, scope, total){\n    if(typeof target === \"object\"){\n      keys(target, (key, target)=>{\n        const child  = target[key]\n        const useKey = filter(child, key, scope.length)\n        if(!useKey){\n          return\n        }\n        const currentScope = clone(scope)\n        currentScope.push(key)\n        total.push(currentScope)\n        nestedDeepKeys(child, filter, currentScope, total)\n      }, true)\n    }\n  }\n  \n  return function (target, filter){\n    const result = []\n    nestedDeepKeys(target, filter ? (child, key)=>{ filter(child, key) } : ()=>true, [], result)\n    return result\n  }\n}())\n\nexport const entries = function (it){\n  const result = []\n  switch (typeof it){\n    case \"object\":\n      // eslint-disable-next-line no-unused-expressions\n      isNone(it) ? 0\n        : likeArray(it) ? asArray(it).forEach((v, k)=>{ result.push([k, v]) })\n        : Object.keys(it).forEach(key=>{ result.push([key, it[key]]) })\n      break\n  }\n  return result\n}\n\n//remark.spec.js\nexport const matchString = (it, search, at = 0)=>{\n  if(typeof it !== \"string\") throw new Error(`matchString :: worng argument ${it}`)\n  if(typeof search === \"string\") search = search.replace(new RegExp(\"(\\\\.|\\\\[|\\\\])\", \"g\"), s=>`\\\\${s}`)\n  const result = it.substr(at).match(search)\n  return result ? [result.index + at, result[0].length] : [-1, 0]\n}\n\nexport const findIndex = (function (){\n  const __find_string = (it, search, at)=>it.indexOf(search, at)\n  const __find_regexp = (it, search, at)=>{\n    let i = it.substring(at || 0).search(search)\n    return (i >= 0) ? (i + (at || 0)) : i\n  }\n  return (it, search, at)=>((search instanceof RegExp) ? __find_regexp : __find_string)(it, search, at)\n}())\n\n//remark.spec.js\nexport const findIndexes = (function (){\n  return function (c, s, at){\n    if(typeof c === \"string\" || typeof c === \"number\"){\n      var idxs = []; var s = likeRegexp(s) ? s : s + \"\"; var at = (!at || !isNumber(at) || at < 0) ? 0 : at; var next\n      do {\n        let i = findIndex(c, s, at)\n        if(i > -1){\n          at = (s.length || 1) + i\n          idxs.push(i) \n          next = true\n        } else {\n          next = false\n        }\n      } while(next)\n      return idxs\n    }\n  }\n}())\n"],"file":"remark.js"}
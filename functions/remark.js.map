{"version":3,"sources":["../packages/pado/functions/remark.js"],"names":["keys","target","filterExp","strict","result","filter","Object","key","isNaN","numberKey","parseInt","push","forEach","entries","it","v","k","deepKeys","nestedDeepKeys","scope","total","child","useKey","length","currentScope","matchString","search","at","Error","replace","RegExp","s","substr","match","index","findIndex","__find_string","indexOf","__find_regexp","i","substring","findIndexes","c","idxs","next"],"mappings":"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","sourcesContent":["import { \n  isNone,\n  isNumber,\n  likeRegexp,\n  isArray,\n  likeArray,\n  likeObject,\n  isPlainObject\n} from './isLike'\n\nimport {\n  clone,\n  asArray\n} from './cast'\n\nexport const keys = function (target, filterExp, strict){\n  const result = []\n  if(!likeObject(target)) return result\n  \n  const filter = typeof filterExp === \"function\" ? filterExp : ()=>true;\n  \n  (strict === true ? isArray(target) : likeArray(target)) && \n  Object.keys(target).filter(key=>{ if(isNaN(key)) return; const numberKey = parseInt(key, 10); filter(numberKey, target) && result.push(parseInt(numberKey, 10)) }) || \n  (strict === true ? isPlainObject(target) : likeObject(target)) && \n  Object.keys(target).forEach(key=>{ filter(key, target) && result.push(key) })\n  \n  return result\n}\n\nexport const entries = function (it){\n  const result = []\n  switch (typeof it){\n    case \"object\":\n      // eslint-disable-next-line no-unused-expressions\n      isNone(it) ? 0\n        : likeArray(it) ? asArray(it).forEach((v, k)=>{ result.push([k, v]) })\n        : Object.keys(it).forEach(key=>{ result.push([key, it[key]]) })\n      break\n  }\n  return result\n}\n\nexport const deepKeys = (function (){\n  const nestedDeepKeys = function (target, filter, scope, total){\n    if(typeof target === \"object\"){\n      keys(target, (key, target)=>{\n        const child  = target[key]\n        const useKey = filter(child, key, scope.length)\n        if(!useKey){\n          return\n        }\n        const currentScope = clone(scope)\n        currentScope.push(key)\n        total.push(currentScope)\n        nestedDeepKeys(child, filter, currentScope, total)\n      }, true)\n    }\n  }\n  \n  return function (target, filter){\n    const result = []\n    nestedDeepKeys(target, filter ? (child, key)=>{ filter(child, key) } : ()=>true, [], result)\n    return result\n  }\n}())\n\n//remark.spec.js\nexport const matchString = (it, search, at = 0)=>{\n  if(typeof it !== \"string\") throw new Error(`matchString :: worng argument ${it}`)\n  if(typeof search === \"string\") search = search.replace(new RegExp(\"(\\\\.|\\\\[|\\\\])\", \"g\"), s=>`\\\\${s}`)\n  const result = it.substr(at).match(search)\n  return result ? [result.index + at, result[0].length] : [-1, 0]\n}\n\nexport const findIndex = (function (){\n  const __find_string = (it, search, at)=>it.indexOf(search, at)\n  const __find_regexp = (it, search, at)=>{\n    let i = it.substring(at || 0).search(search)\n    return (i >= 0) ? (i + (at || 0)) : i\n  }\n  return (it, search, at)=>((search instanceof RegExp) ? __find_regexp : __find_string)(it, search, at)\n}())\n\n//remark.spec.js\nexport const findIndexes = (function (){\n  return function (c, s, at){\n    if(typeof c === \"string\" || typeof c === \"number\"){\n      var idxs = []; var s = likeRegexp(s) ? s : s + \"\"; var at = (!at || !isNumber(at) || at < 0) ? 0 : at; var next\n      do {\n        let i = findIndex(c, s, at)\n        if(i > -1){\n          at = (s.length || 1) + i\n          idxs.push(i) \n          next = true\n        } else {\n          next = false\n        }\n      } while(next)\n      return idxs\n    }\n  }\n}())\n"],"file":"remark.js"}
{"version":3,"sources":["../.src/functions/remark.js"],"names":["keys","target","filterExp","strict","result","filter","Object","isNaN","key","numberKey","parseInt","push","forEach","entries","it","v","k","deepKeys","nestedDeepKeys","scope","total","child","useKey","length","currentScope","matchString","search","at","Error","replace","RegExp","s","substr","match","index","findIndex","__find_string","indexOf","__find_regexp","i","substring","findIndexes","c","idxs","mvc","next"],"mappings":"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","sourcesContent":["import { \n  isNone,\n  isNumber,\n  likeRegexp,\n  likeString,\n  isObject,\n  isArray,\n  likeArray,\n  likeObject,\n  isPlainObject,\n  isEnumerableObject\n} from './isLike'\n\nimport {\n  clone,\n  asArray\n} from './cast'\n\nexport const keys = function (target, filterExp, strict){\n  const result = []\n  if(!likeObject(target)) return result\n  \n  const filter = typeof filterExp === \"function\" ? filterExp : ()=>true;\n  \n  (strict === true ? isArray(target) : likeArray(target)) && \n  Object.keys(target).filter(key=>{ if(isNaN(key)) return; const numberKey = parseInt(key, 10); filter(numberKey, target) && result.push(parseInt(numberKey, 10)) }) || \n  (strict === true ? isPlainObject(target) : likeObject(target)) && \n  Object.keys(target).forEach(key=>{ filter(key, target) && result.push(key) })\n  \n  return result\n}\n\nexport const entries = function (it){\n  const result = []\n  switch (typeof it){\n    case \"object\":\n      isNone(it) ? 0\n        : likeArray(it) ? asArray(it).forEach((v, k)=>{ result.push([k, v]) })\n        : Object.keys(it).forEach(key=>{ result.push([key, it[key]]) })\n      break\n  }\n  return result\n}\n\nexport const deepKeys = (function (){\n  const nestedDeepKeys = function (target, filter, scope, total){\n    if(typeof target === \"object\"){\n      keys(target, (key, target)=>{\n        const child  = target[key]\n        const useKey = filter(child, key, scope.length)\n        if(!useKey){\n          return\n        }\n        const currentScope = clone(scope)\n        currentScope.push(key)\n        total.push(currentScope)\n        nestedDeepKeys(child, filter, currentScope, total)\n      }, true)\n    }\n  }\n  \n  return function (target, filter){\n    const result = []\n    nestedDeepKeys(target, filter ? filter(child, key) : ()=>true, [], result)\n    return result\n  }\n}())\n\n//remark.spec.js\nexport const matchString = (it, search, at = 0)=>{\n  if(typeof it !== \"string\") throw new Error(`matchString :: worng argument ${it}`)\n  if(typeof search === \"string\") search = search.replace(new RegExp(\"(\\\\.|\\\\[|\\\\])\", \"g\"), s=>`\\\\${s}`)\n  const result = it.substr(at).match(search)\n  return result ? [result.index + at, result[0].length] : [-1, 0]\n}\n\nexport const findIndex = (function (){\n  const __find_string = (it, search, at)=>it.indexOf(search, at)\n  const __find_regexp = (it, search, at)=>{\n    let i = it.substring(at || 0).search(search)\n    return (i >= 0) ? (i + (at || 0)) : i\n  }\n  return (it, search, at)=>((search instanceof RegExp) ? __find_regexp : __find_string)(it, search, at)\n}())\n\n//remark.spec.js\nexport const findIndexes = (function (){\n  return function (c, s, at){\n    if(typeof c === \"string\" || typeof c === \"number\"){\n      var idxs = []; var mvc = c + \"\"; var s = likeRegexp(s) ? s : s + \"\"; var at = (!at || !isNumber(at) || at < 0) ? 0 : at; var next\n      do {\n        let i = findIndex(c, s, at)\n        if(i > -1){\n          at = (s.length || 1) + i\n          idxs.push(i) \n          next = true\n        } else {\n          next = false\n        }\n      } while(next)\n      return idxs\n    }\n  }\n}())\n"],"file":"remark.js"}
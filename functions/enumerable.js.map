{"version":3,"sources":["../packages/pado/functions/enumerable.js"],"names":["all","data","fn","length","i","l","times","result","push","hashMap","object","k","pairs","inputArr","ai","al","map","applyArgs","apply","undefined","deepForEach","nsData","key","proc","startParam","nestedTreeDownProcess","nested","parentReturn","depth","procIndex","forEach","forKey","destChilds","Object","keys","ok","procReturn","dest","select","fineded","index","concat"],"mappings":";;;;;;;;;;;;;;;;;;;;AASO,MAAMA,GAAG,GAAG,SAANA,GAAM,CAAUC,IAAV,EAAgBC,EAAhB,EAAmB;AACpCD,IAAAA,IAAI,GAAG,mBAAQA,IAAR,CAAP;;AAEA,QAAGA,IAAI,CAACE,MAAL,KAAgB,CAAnB,EAAqB;AACnB,aAAO,KAAP;AACD;;AAED,SAAI,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGJ,IAAI,CAACE,MAAxB,EAAgCC,CAAC,GAAGC,CAApC,EAAuCD,CAAC,EAAxC,EAA2C;AACzC,UAAG,CAACF,EAAE,CAACD,IAAI,CAACG,CAAD,CAAL,EAAUA,CAAV,CAAN,EAAmB;AACjB,eAAO,KAAP;AACD;AACF;;AAAA;AAED,WAAO,IAAP;AACD,GAdM;;;;AAgBA,MAAME,KAAK,GAAG,SAARA,KAAQ,CAAUH,MAAV,EAAkBD,EAAlB,EAAqB;AACxC,QAAMK,MAAM,GAAG,EAAf;;AACA,SAAI,IAAIH,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGF,MAAnB,EAA2BC,CAAC,GAAGC,CAA/B,EAAkCD,CAAC,EAAnC,EAAsC;AACpCG,MAAAA,MAAM,CAACC,IAAP,CAAYN,EAAE,CAACE,CAAD,CAAd;AACD;;AACD,WAAOG,MAAP;AACD,GANM;;;;AAQA,MAAME,OAAO,GAAG,SAAVA,OAAU,CAAUC,MAAV,EAAkBR,EAAlB,EAAqB;AAC1C,QAAG,OAAOQ,MAAP,KAAkB,QAAlB,IAA8B,CAAC,qBAAQA,MAAR,CAAlC,EAAmD,KAAI,IAAIC,CAAR,IAAaD,MAAb;AAAqBA,MAAAA,MAAM,CAACC,CAAD,CAAN,GAAYT,EAAE,CAACQ,MAAM,CAACC,CAAD,CAAP,EAAYA,CAAZ,CAAd;AAArB,KAAnD,MACK,OAAOT,EAAE,CAACQ,MAAD,EAAU,KAAK,CAAf,CAAT;AACL,WAAOA,MAAP;AACD,GAJM;;;;AAMA,MAAME,KAAK,GAAG,SAARA,KAAQ,CAACC,QAAD,EAAWX,EAAX,EAAgB;AACnC,QAAIK,MAAM,GAAG,EAAb;;AACA,SAAI,IAAIH,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGQ,QAAQ,CAACV,MAA5B,EAAoCC,CAAC,GAAGC,CAAxC,EAA2CD,CAAC,EAA5C,EAA+C;AAC7C,WAAI,IAAIU,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAGV,CAArB,EAAwBS,EAAE,GAAGC,EAA7B,EAAkCX,CAAC,KAAKU,EAAN,IAAYP,MAAM,CAACC,IAAP,CAAY,CAACK,QAAQ,CAACT,CAAD,CAAT,EAAcS,QAAQ,CAACC,EAAD,CAAtB,CAAZ,CAAb,EAAwDA,EAAE,EAA3F;AAA8F;AAA9F;AACD;;AACD,WAAO,OAAOZ,EAAP,KAAc,UAAd,GAA2BK,MAAM,CAACS,GAAP,CAAW,UAAAC,SAAS;AAAA,aAAEf,EAAE,CAACgB,KAAH,CAASC,SAAT,EAAoBF,SAApB,CAAF;AAAA,KAApB,CAA3B,GAAmFV,MAA1F;AACD,GANM;;;;AAQA,MAAMa,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD,EAASC,GAAT,EAAcC,IAAd,EAAoBC,UAApB,EAAiC;AAC1D,QAAIH,MAAM,IAAIC,GAAV,IAAiBC,IAArB,EAA2B;AACzB,UAAME,qBAAqB,GAAG,SAAxBA,qBAAwB,CAASC,MAAT,EAAiBJ,GAAjB,EAAsBC,IAAtB,EAA4BI,YAA5B,EAA0CC,KAA1C,EAAiD;AAC7E,UAAEA,KAAF;AACA,YAAIC,SAAS,GAAG,CAAhB;AAEA,2BAAQH,MAAR,EAAgBI,OAAhB,CAAwB,UAAC7B,IAAD,EAAO8B,MAAP,EAAkB;AACxC,cAAI,qBAAQ9B,IAAR,CAAJ,EAAmB;AACjBA,YAAAA,IAAI,CAACE,MAAL,IAAesB,qBAAqB,CAACxB,IAAD,EAAOqB,GAAP,EAAYC,IAAZ,EAAkBI,YAAlB,EAAgCC,KAAhC,CAApC;AACD,WAFD,MAEO;AACL,gBAAK,qBAAQF,MAAR,KAAmB,sBAASzB,IAAT,CAApB,IAAwC,sBAASA,IAAT,KAAkB8B,MAAM,IAAIT,GAAxE,EAA8E;AAC5E,kBAAMU,UAAU,GAAG,EAAnB;;AAEA,kBAAIV,GAAG,KAAKW,MAAZ,EAAoB;AAClB,mCAAQA,MAAM,CAACC,IAAP,CAAYjC,IAAZ,CAAR,EAA2B6B,OAA3B,CAAmC,UAAAK,EAAE,EAAI;AACvC,uCAAQlC,IAAI,CAACkC,EAAD,CAAZ,KAAqBH,UAAU,CAACxB,IAAX,CAAgBP,IAAI,CAACkC,EAAD,CAApB,CAArB;AACD,iBAFD;AAGD;;AAED,qBAAOlC,IAAI,CAACqB,GAAD,CAAX,KAAqB,QAArB,IAAiCU,UAAU,CAACxB,IAAX,CAAgBP,IAAI,CAACqB,GAAD,CAApB,CAAjC;AAEA,kBAAMc,UAAU,GAAGb,IAAI,CAACtB,IAAD,EAAO0B,YAAP,EAAqBC,KAArB,EAA4BC,SAAS,EAArC,CAAvB;AAEA,iCAAQG,UAAR,EAAoBF,OAApB,CAA4B,UAAAO,IAAI,EAAI;AAAEZ,gBAAAA,qBAAqB,CAACY,IAAD,EAAOf,GAAP,EAAYC,IAAZ,EAAkBa,UAAlB,EAA8BR,KAA9B,CAArB;AAA4D,eAAlG;AACD;AACF;AACF,SApBD;AAqBD,OAzBD;;AA2BA,UAAI,sBAASP,MAAT,KAAoB,CAAC,qBAAQA,MAAR,CAAzB,EAA0C;AACxC,YAAMW,UAAU,GAAG,EAAnB;AAEAV,QAAAA,GAAG,KAAKW,MAAR,IAAkBA,MAAM,CAACC,IAAP,CAAYb,MAAZ,EAAoBS,OAApB,CAA4B,UAAAK,EAAE,EAAI;AAClD,+BAAQd,MAAM,CAACc,EAAD,CAAd,KAAuBH,UAAU,CAACxB,IAAX,CAAgBa,MAAM,CAACc,EAAD,CAAtB,CAAvB;AACD,SAFiB,CAAlB;AAGA,eAAOd,MAAM,CAACC,GAAD,CAAb,KAAuB,QAAvB,IAAmCU,UAAU,CAACxB,IAAX,CAAgBa,MAAM,CAACC,GAAD,CAAtB,CAAnC;AAEAE,QAAAA,UAAU,GAAGD,IAAI,CAACF,MAAD,EAASG,UAAT,EAAqB,CAArB,CAAjB;AAEA,2BAAQQ,UAAR,EAAoBF,OAApB,CAA4B,UAAAO,IAAI,EAAI;AAClCZ,UAAAA,qBAAqB,CAACY,IAAD,EAAOf,GAAP,EAAYC,IAAZ,EAAkBC,UAAlB,EAA8B,CAA9B,CAArB;AACD,SAFD;AAGD,OAbD,MAaO;AACLC,QAAAA,qBAAqB,CAACJ,MAAD,EAASC,GAAT,EAAcC,IAAd,EAAoBC,UAApB,EAAgC,CAAC,CAAjC,CAArB;AACD;;AACD,aAAOH,MAAP;AACD;AACF,GA/CM;;;;AAiDA,MAAMK,MAAM,GAAG,SAATA,MAAS,CAACL,MAAD,EAASC,GAAT,EAAcgB,MAAd,EAAsBf,IAAtB,EAA6B;AACjD,QAAIhB,MAAM,GAAG,EAAb;AACA,QAAIgC,OAAO,GAAG,KAAd;AACAnB,IAAAA,WAAW,CAACC,MAAD,EAASC,GAAT,EAAc,UAACrB,IAAD,EAAO0B,YAAP,EAAqBC,KAArB,EAA4BY,KAA5B,EAAsC;AAC7D,UAAID,OAAJ,EAAa;;AACb,UAAI,OAAOD,MAAP,KAAkB,UAAlB,GAA+BA,MAAM,CAACrC,IAAD,EAAO0B,YAAP,EAAqBC,KAArB,EAA4BY,KAA5B,CAArC,GAA0EvC,IAAI,KAAKqC,MAAvF,EAA+F;AAC7FC,QAAAA,OAAO,GAAG,IAAV;AACA,eAAOhC,MAAM,GAAGoB,YAAY,CAACc,MAAb,CAAoB,CAACxC,IAAD,CAApB,CAAhB;AACD;;AACD,aAAO0B,YAAY,CAACc,MAAb,CAAoB,CAACxC,IAAD,CAApB,CAAP;AACD,KAPU,EAOR,EAPQ,CAAX;;AASA,QAAI,OAAOsB,IAAP,KAAgB,UAApB,EAAgC;AAC9B,yBAAQhB,MAAR,EAAgBuB,OAAhB,CAAwBP,IAAxB;AACD;;AAED,WAAOhB,MAAP;AACD,GAjBM","sourcesContent":["import {\n  isArray,\n  isObject\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nexport const all = function (data, fn){\n  data = asArray(data)\n  \n  if(data.length === 0){\n    return false\n  }\n  \n  for(let i = 0, l = data.length; i < l; i++){\n    if(!fn(data[i], i)){\n      return false\n    } \n  };\n  \n  return true\n}\n\nexport const times = function (length, fn){\n  const result = []\n  for(var i = 0, l = length; i < l; i++){\n    result.push(fn(i))\n  }\n  return result\n}\n\nexport const hashMap = function (object, fn){\n  if(typeof object === \"object\" && !isArray(object)) for(var k in object) object[k] = fn(object[k], k)\n  else return fn(object, (void 0))\n  return object\n}\n\nexport const pairs = (inputArr, fn)=>{\n  let result = []\n  for(let i = 0, l = inputArr.length; i < l; i++){\n    for(let ai = 0, al = l; ai < al; (i !== ai && result.push([inputArr[i], inputArr[ai]])), ai++);\n  }\n  return typeof fn === \"function\" ? result.map(applyArgs=>fn.apply(undefined, applyArgs)) : result\n}\n\nexport const deepForEach = (nsData, key, proc, startParam)=>{\n  if (nsData && key && proc) {\n    const nestedTreeDownProcess = function(nested, key, proc, parentReturn, depth) {\n      ++depth;\n      let procIndex = 0;\n\n      asArray(nested).forEach((data, forKey) => {\n        if (isArray(data)) {\n          data.length && nestedTreeDownProcess(data, key, proc, parentReturn, depth);\n        } else {\n          if ((isArray(nested) && isObject(data)) || (isObject(data) && forKey == key)) {\n            const destChilds = [];\n\n            if (key === Object) {\n              asArray(Object.keys(data)).forEach(ok => {\n                isArray(data[ok]) && destChilds.push(data[ok]);\n              });\n            }\n\n            typeof data[key] === \"object\" && destChilds.push(data[key]);\n\n            const procReturn = proc(data, parentReturn, depth, procIndex++);\n\n            asArray(destChilds).forEach(dest => { nestedTreeDownProcess(dest, key, proc, procReturn, depth); });\n          }\n        }\n      });\n    };\n\n    if (isObject(nsData) && !isArray(nsData)) {\n      const destChilds = [];\n\n      key === Object && Object.keys(nsData).forEach(ok => {\n        isArray(nsData[ok]) && destChilds.push(nsData[ok]);\n      });\n      typeof nsData[key] === \"object\" && destChilds.push(nsData[key]);\n\n      startParam = proc(nsData, startParam, 0);\n\n      asArray(destChilds).forEach(dest => {\n        nestedTreeDownProcess(dest, key, proc, startParam, 0);\n      });\n    } else {\n      nestedTreeDownProcess(nsData, key, proc, startParam, -1);\n    }\n    return nsData;\n  }\n};\n\nexport const nested = (nsData, key, select, proc)=>{\n  let result = [];\n  let fineded = false;\n  deepForEach(nsData, key, (data, parentReturn, depth, index) => {\n    if (fineded) return;\n    if (typeof select === \"function\" ? select(data, parentReturn, depth, index) : data === select) {\n      fineded = true;\n      return result = parentReturn.concat([data]);\n    }\n    return parentReturn.concat([data]);\n  }, []);\n\n  if (typeof proc === \"function\") {\n    asArray(result).forEach(proc);\n  }\n\n  return result;\n};\n"],"file":"enumerable.js"}
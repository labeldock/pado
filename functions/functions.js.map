{"version":3,"sources":["../.src/src/functions/functions.js"],"names":["FUNCTION_EXPORTS","UNIQUE","array","value","result","i","l","length","unique","i2","l2","push","HAS_VALUE","defaultObjectValueFunc","object","functionKeyObjectValueProc","functionKey","Boolean","selectKeyObjectValueProc","leftSelect","rightSelect","useLeftSelector","useRightSelector","hasOwnProperty","obj","key","getKey","proc","objKey","GET_KEY_BY","STRING_CAST","text","defaultOrder","finder","at","idxs","hist","count","pin","strlen","order","next","start","size","findedIndex","indexOf","RegExp","cs","substring","ma","match","string","struct","end","noneCastStruct","nextOrder","FIND_INDEXES","__find_string","c","s","p","__find_regexp","search","mvc","__find","EACH_PROC","arr","STATIC_FOR_EACH_PROC","a","Array","al","NaN","keys","Object","EACH","FOR_EACH","REDUCE","meta","v","CLEAR_OF","data","fillFn","sp","prototype","splice","call","INSERT_OF","MOVE_OF","oldIndex","newIndex","CONCAT_OF","appends","FILTER_OF","func","exitFn","exitCnt","ri","exit","SORT_OF","filter","b","undefined","rl","REBASE","ref","refValue","d","refKey","assign","split","deepKey","trim","NESTED_HAS_PROC","pointer","ki","k","APART","block","blockEnd","aparts","buffer","dept","parts","part","greb","console","log","startIndex","DIFF_STRUCTURE","before","after","afterKeys","beforeKeys","canDiff","analysis","concat","redu","missing","surplus","diff","pass","angular","equals","TOGGLE","ta","cv","set","index","arguments","TRUN","ts","abs","Math","floor","FINALLY_EXPORTS","reduce","dest","camelKey","toLowerCase","replace","substr","toUpperCase","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;AAwBA,MAAMA,mBAAmB,EAAzB;;AAEA,MAAMC,SAASD,iBAAiBC,MAAjB,GAA0B,UAASC,KAAT,EAAe;AACtD,QAAIC,QAAQ,EAAZ;AAAA,QAAeC,SAAS,EAAxB;AAAA,QAA4BF,QAAQ,mBAAQA,KAAR,CAApC;;AACA,SAAI,IAAIG,IAAE,CAAN,EAAQC,IAAEJ,MAAMK,MAApB,EAA2BF,IAAEC,CAA7B,EAA+BD,GAA/B,EAAmC;AACjC,UAAIG,SAAS,IAAb;;AACA,WAAI,IAAIC,KAAG,CAAP,EAASC,KAAGN,OAAOG,MAAvB,EAA8BE,KAAGC,EAAjC,EAAoCD,IAApC,EAAyC;AACvC,YAAGP,MAAMG,CAAN,KAAYD,OAAOK,EAAP,CAAf,EAA0B;AACxBD,mBAAS,KAAT;AAAgB;AACjB;AACF;;AACD,UAAGA,UAAQ,IAAX,EAAiBJ,OAAOO,IAAP,CAAYT,MAAMG,CAAN,CAAZ;AAClB;;AACD,WAAOD,MAAP;AACD,GAZD;;AAcA,MAAMQ,YAAYZ,iBAAiBY,SAAjB,GAA8B,YAAU;AACxD,QAAIC,yBAAyB,SAAzBA,sBAAyB,CAASC,MAAT,EAAgBX,KAAhB,EAAsB;AACjD,aAAOW,WAAWX,KAAlB;AACD,KAFD;;AAIA,QAAIY,6BAA6B,SAA7BA,0BAA6B,CAASC,WAAT,EAAqB;AACpD,aAAO,UAASF,MAAT,EAAgBX,KAAhB,EAAsB;AAC3B,eAAOc,QAAQD,YAAYF,MAAZ,EAAmBX,KAAnB,CAAR,CAAP;AACD,OAFD;AAGD,KAJD;;AAMA,QAAIe,2BAA2B,SAA3BA,wBAA2B,CAASC,UAAT,EAAoBC,WAApB,EAAgC;AAC7D,UAAIC,kBAAoB,OAAOF,UAAP,KAAsB,QAAtB,IAAkC,OAAOA,UAAP,KAAsB,QAAhF;AACA,UAAIG,mBAAmBH,eAAeC,WAAf,GAA6BC,eAA7B,GAAgD,OAAOD,WAAP,KAAuB,QAAvB,IAAmC,OAAOA,WAAP,KAAuB,QAAjI;AAEA,aAAO,UAASN,MAAT,EAAgBX,KAAhB,EAAsB;AAC3B,YAAGkB,mBAAoB,CAACP,OAAOS,cAAP,CAAsBJ,UAAtB,CAAxB,EAA2D,OAAO,KAAP;AAC3D,YAAGG,oBAAoB,CAACnB,MAAMoB,cAAN,CAAqBH,WAArB,CAAxB,EAA2D,OAAO,KAAP;AAE3D,eAAO,CAACC,kBAAkB,kBAAIP,MAAJ,EAAWK,UAAX,CAAlB,GAA2CL,MAA5C,OAAyDQ,mBAAmB,kBAAInB,KAAJ,EAAUiB,WAAV,CAAnB,GAA4CjB,KAArG,CAAP;AACD,OALD;AAMD,KAVD;;AAYA,WAAO,UAASqB,GAAT,EAAarB,KAAb,EAAmBsB,GAAnB,EAAuBC,MAAvB,EAA8B;AACnC,UAAG,OAAOD,GAAP,KAAe,SAAlB,EAA4B;AAC1B,YAAG,OAAOC,MAAP,KAAkB,SAArB,EAA+B;AAC7BA,mBAASD,GAAT;AACD;;AACDA,cAAM,KAAK,CAAX;AACD;;AAED,UAAGD,QAAQrB,KAAX,EAAiB;AACf,eAAO,IAAP;AACD,OAFD,MAEO,IAAG,sBAASqB,GAAT,CAAH,EAAiB;AACtB,YAAGrB,UAAW,KAAK,CAAhB,IAAsBsB,QAAS,KAAK,CAAvC,EAA2C,OAAO,CAAC,qBAAQD,GAAR,CAAR;AAE3C,YAAIG,IAAJ;;AAEA,YAAGF,GAAH,EAAO;AACL,cAAG,OAAOA,GAAP,KAAe,UAAlB,EAA8B;AAC5BE,mBAAOZ,2BAA2BU,GAA3B,CAAP;AACD,WAFD,MAEO,IAAG,qBAAQA,GAAR,KAAgBA,IAAIlB,MAAJ,GAAa,CAAhC,EAAkC;AACvCoB,mBAAOT,yBAAyBO,IAAI,CAAJ,CAAzB,EAAgCA,IAAI,CAAJ,CAAhC,CAAP;AACD,WAFM,MAEA,IAAG,OAAOA,GAAP,KAAe,QAAf,IAA2B,OAAOA,GAAP,KAAe,QAA7C,EAAsD;AAC3DE,mBAAOT,yBAAyBO,GAAzB,EAA6BA,GAA7B,CAAP;AACD;AACF,SARD,MAQO;AACLE,iBAAOd,sBAAP;AACD;;AAED,YAAG,qBAAQW,GAAR,CAAH,EAAgB;AACd,eAAI,IAAInB,IAAE,CAAN,EAAQC,IAAEkB,IAAIjB,MAAlB,EAAyBF,IAAEC,CAA3B,EAA6BD,GAA7B;AAAkC,gBAAGsB,KAAKH,IAAInB,CAAJ,CAAL,EAAYF,KAAZ,CAAH,EAAuB,OAAOuB,SAASrB,CAAT,GAAa,IAApB;AAAzD;AACD,SAFD,MAEO;AACL,eAAI,IAAIuB,MAAR,IAAkBJ,GAAlB;AAAuB,gBAAGA,IAAID,cAAJ,CAAmBK,MAAnB,KAA8BD,KAAKH,IAAII,MAAJ,CAAL,EAAiBzB,KAAjB,CAAjC,EAA0D,OAAOuB,SAASE,MAAT,GAAkB,IAAzB;AAAjF;AACD;AACF;;AAED,aAAOF,SAAS,KAAK,CAAd,GAAkB,KAAzB;AACD,KAnCD;AAoCD,GA3D+C,EAAhD;;AA6DA,MAAMG,aAAa7B,iBAAiB6B,UAAjB,GAA8B,UAASf,MAAT,EAAgBX,KAAhB,EAAsB;AACrE,QAAG,wBAAWA,KAAX,CAAH,EAAqB;AACnB,UAAG,qBAAQW,MAAR,CAAH,EAAoB,KAAI,IAAIT,IAAE,CAAN,EAAQC,IAAEQ,OAAOP,MAArB,EAA4BF,IAAEC,CAA9B,EAAgCD,GAAhC;AAAqC,YAAGF,MAAMW,OAAOT,CAAP,CAAN,EAAgBA,CAAhB,MAAqB,IAAxB,EAA8B,OAAOA,CAAP;AAAnE;AACpB,UAAG,sBAASS,MAAT,CAAH,EAAqB,KAAI,IAAIW,GAAR,IAAeX,MAAf;AAAuB,YAAGX,MAAMW,OAAOW,GAAP,CAAN,EAAkBA,GAAlB,MAAyB,IAA5B,EAAkC,OAAOA,GAAP;AAAzD;AACtB,KAHD,MAGO;AACL,UAAG,qBAAQX,MAAR,CAAH,EAAoB,KAAI,IAAIT,IAAE,CAAN,EAAQC,IAAEQ,OAAOP,MAArB,EAA4BF,IAAEC,CAA9B,EAAgCD,GAAhC;AAAqC,YAAGS,OAAOT,CAAP,MAAYF,KAAf,EAAsB,OAAOE,CAAP;AAA3D;AACpB,UAAG,sBAASS,MAAT,CAAH,EAAqB,KAAI,IAAIW,GAAR,IAAeX,MAAf;AAAuB,YAAGA,OAAOW,GAAP,MAActB,KAAjB,EAAwB,OAAOsB,GAAP;AAA/C;AACtB;AACF,GARD;;AAWA,MAAMK,cAAc9B,iBAAiB8B,WAAjB,GAAgC,YAAU;AAC5D,WAAO,UAASC,IAAT,EAAcC,YAAd,EAA2BC,MAA3B,EAAkCC,EAAlC,EAAqC;AAC1C,UAAG,OAAOH,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,QAA/C,EAAwD;AACtD,YAAII,OAAQ,EAAZ;AACA,YAAIC,OAAQ,EAAZ;AACA,YAAIC,QAAQ,CAAZ;AACA,YAAIC,MAAS,CAACJ,EAAD,IAAO,CAAC,sBAASA,EAAT,CAAR,IAAwBA,KAAK,CAA9B,GAAiC,CAAjC,GAAmCA,EAA/C;AACA,YAAIK,SAAQR,KAAKxB,MAAjB;AACA,YAAIiC,QAAQR,YAAZ;AACA,YAAIS,IAAJ;;AAEA,YAAG,OAAOR,MAAP,KAAkB,UAArB,EAAgC;AAC9BA,mBAAS,KAAK,CAAd;AACD;;AAED,WAAG;AACD,cAAIS,QAAQ,KAAK,CAAjB;AACA,cAAIC,OAAQ,KAAK,CAAjB;;AAEA,cAAG,OAAOH,KAAP,KAAiB,QAApB,EAA6B;AAC3B,gBAAII,cAAcb,KAAKc,OAAL,CAAaL,KAAb,EAAmBF,GAAnB,CAAlB;;AACA,gBAAGM,gBAAgB,CAAC,CAApB,EAAsB;AACpBF,sBAAQE,WAAR;AACAD,qBAAQH,MAAMjC,MAAd;AACD;AACF,WAND,MAMO,IAAIiC,iBAAiBM,MAArB,EAA6B;AAClC,gBAAIC,KAAKhB,KAAKiB,SAAL,CAAeV,OAAO,CAAtB,CAAT;AACA,gBAAIW,KAAKF,GAAGG,KAAH,CAASV,KAAT,CAAT;;AACA,gBAAGS,EAAH,EAAM;AACJP,sBAAQK,GAAGF,OAAH,CAAWI,EAAX,KAAkBA,GAAG1C,MAAH,GAAY,CAA9B,CAAR;AACAoC,qBAAQM,GAAG1C,MAAX;AACD;AACF;;AAED8B;;AAEA,cAAG,OAAOK,KAAP,KAAiB,WAApB,EAAgC;AAC9B,gBAAIS,SAASpB,KAAKiB,SAAL,CAAeN,KAAf,EAAqBA,QAAQC,IAA7B,CAAb;AACA,gBAAIS,SAAS;AAACD,4BAAD;AAAQT,0BAAR;AAAcC,wBAAd;AAAmBU,mBAAIX,QAAQC,IAA/B,CAEb;;AAFa,aAAb;;AAGA,gBAAGL,MAAMI,KAAT,EAAe;AACb,kBAAIY,iBAAiB;AACnBH,wBAAOpB,KAAKiB,SAAL,CAAeV,GAAf,EAAmBI,KAAnB,CADY;AAEnBA,uBAAMJ,GAFa;AAGnBK,sBAAKD,QAAMJ,GAHQ;AAInBe,qBAAIX;AAJe,eAArB;AAMAT,wBAAUA,OAAO,KAAP,EAAaqB,cAAb,EAA4BlB,IAA5B,EAAiCC,KAAjC,CAAV;AACD,aAb6B,CAe9B;;;AACAC,kBAAMI,QAAQC,IAAd,CAhB8B,CAkB9B;;AACA,gBAAIY,YAAYtB,UAAUA,OAAO,IAAP,EAAYmB,MAAZ,EAAmBhB,IAAnB,EAAwBC,KAAxB,CAA1B;;AACA,gBAAG,wBAAWkB,SAAX,CAAH,EAAyB;AACvBf,sBAAQe,SAAR;AACD,aAFD,MAEO;AACLf,sBAAQR,YAAR;AACD,aAxB6B,CA0B9B;;;AACAG,iBAAKxB,IAAL,CAAU+B,KAAV;AACAN,iBAAKzB,IAAL,CAAU;AAACwC,4BAAD;AAAQT,0BAAR;AAAcC;AAAd,aAAV,EA5B8B,CA8B9B;;AACA,gBAAGL,OAAOC,MAAV,EAAiB;AACfE,qBAAO,KAAP;AACD,aAFD,MAEO;AACLA,qBAAO,IAAP;AACD;AACF,WApCD,MAoCO;AACL,gBAAIW,UAAS;AACTD,sBAAOpB,KAAKiB,SAAL,CAAeV,GAAf,EAAmBC,MAAnB,CADE;AAETG,qBAAMJ,GAFG;AAGTK,oBAAKD,QAAMJ,GAHF;AAITe,mBAAId;AAJK,aAAb;AAMAN,sBAAUA,OAAO,KAAP,EAAamB,OAAb,EAAoBhB,IAApB,EAAyBC,KAAzB,CAAV;AACAI,mBAAO,KAAP;AACD;AAEF,SApED,QAoESJ,QAAQ,IAAT,GAAiB,KAAjB,GAAyBI,IApEjC;;AAqEA,eAAON,IAAP;AACD;AACF,KArFD;AAsFD,GAvFmD,EAApD;AAyFA;;;;;;;AAKA,MAAMqB,eAAexD,iBAAiBwD,YAAjB,GAAiC,YAAU;AAC9D,QAAIC,gBAAgB,SAAhBA,aAAgB,CAACC,CAAD,EAAGC,CAAH,EAAKC,CAAL;AAAA,aAASF,EAAEb,OAAF,CAAUc,CAAV,EAAYC,CAAZ,CAAT;AAAA,KAApB;;AACA,QAAIC,gBAAgB,SAAhBA,aAAgB,CAACH,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAS;AAC3B,UAAIvD,IAAIqD,EAAEV,SAAF,CAAYY,KAAK,CAAjB,EAAoBE,MAApB,CAA2BH,CAA3B,CAAR;AACA,aAAQtD,KAAK,CAAN,GAAYA,KAAKuD,KAAK,CAAV,CAAZ,GAA4BvD,CAAnC;AACD,KAHD;;AAIA,WAAO,UAASqD,CAAT,EAAWC,CAAX,EAAazB,EAAb,EAAgB;AACnB,UAAG,OAAOwB,CAAP,KAAa,QAAb,IAAyB,OAAOA,CAAP,KAAa,QAAzC,EAAkD;AAChD,YAAIvB,OAAK,EAAT;AAAA,YAAa4B,MAAIL,IAAE,EAAnB;AAAA,YAAuBC,IAAE,wBAAWA,CAAX,IAAcA,CAAd,GAAgBA,IAAE,EAA3C;AAAA,YAA+CzB,KAAI,CAACA,EAAD,IAAO,CAAC,sBAASA,EAAT,CAAR,IAAwBA,KAAK,CAA9B,GAAiC,CAAjC,GAAmCA,EAArF;AAAA,YAAyF8B,SAASL,aAAab,MAAd,GAAsBe,aAAtB,GAAoCJ,aAArI;AAAA,YAAqJhB,IAArJ;;AACA,WAAG;AACD,cAAIpC,IAAI2D,OAAON,CAAP,EAASC,CAAT,EAAWzB,EAAX,CAAR;;AACA,cAAG7B,IAAI,CAAC,CAAR,EAAU;AACR6B,iBAAK,CAACyB,EAAEpD,MAAF,IAAY,CAAb,IAAkBF,CAAvB;AACA8B,iBAAKxB,IAAL,CAAUN,CAAV;AACAoC,mBAAO,IAAP;AACD,WAJD,MAIO;AACLA,mBAAO,KAAP;AACD;AACF,SATD,QASQA,IATR;;AAUA,eAAON,IAAP;AACD;AACF,KAfH;AAgBD,GAtBqD,EAAtD;;AAwBA,MAAM8B,YAAYjE,iBAAiBiE,SAAjB,GAA6B,UAASC,GAAT,EAAavC,IAAb,EAAkB;AAC7D,QAAGuC,IAAI3D,MAAJ,GAAa,CAAhB,EAAkB;AACd,WAAI,IAAIF,IAAE,CAAN,EAAQC,IAAE4D,IAAI3D,MAAJ,GAAW,CAAzB,EAA2BF,IAAEC,CAA7B,EAA+BqB,KAAKuC,IAAI7D,CAAJ,CAAL,EAAYA,CAAZ,EAAc,KAAd,GAAsBA,GAArD;AAAyD;AAAzD;;AACAsB,WAAKuC,IAAIA,IAAI3D,MAAJ,GAAW,CAAf,CAAL,EAAuB2D,IAAI3D,MAAJ,GAAW,CAAlC,EAAoC,IAApC;AACH,KAHD,MAGO,IAAG2D,IAAI3D,MAAJ,IAAc,CAAjB,EAAoB;AACvBoB,WAAKuC,IAAI,CAAJ,CAAL,EAAY,CAAZ,EAAc,IAAd;AACH;;AACD,WAAOA,GAAP;AACH,GARD;;AAUA,MAAMC,uBAAuBnE,iBAAiBmE,oBAAjB,GAAwC,UAAS3C,GAAT,EAAaG,IAAb,EAAkB;AACnF,QAAG,OAAOH,GAAP,KAAe,QAAlB,EAA4B,KAAI,IAAInB,IAAE,CAAN,EAAQ+D,IAAE5C,eAAe6C,KAAzB,EAA+BC,KAAGF,IAAE5C,IAAIjB,MAAN,GAAagE,GAA/C,EAAmDC,OAAKC,OAAOD,IAAP,CAAYhD,GAAZ,CAAxD,EAAyElB,IAAEkE,KAAKjE,MAApF,EAA2FF,IAAEC,CAA7F,EAA+FqB,KAAKH,IAAIgD,KAAKnE,CAAL,CAAJ,CAAL,EAAkBmE,KAAKnE,CAAL,CAAlB,EAA0BA,CAA1B,EAA4BC,CAA5B,EAA8BgE,EAA9B,GAAkCjE,GAAjI;AAAqI;AAArI;AAC5B,WAAOmB,GAAP;AACH,GAHD;;AAKA,MAAIkD,OAAW,SAAXA,IAAW,CAACvE,KAAD,EAAOwB,IAAP;AAAA,WAAcsC,UAAU,mBAAQ9D,KAAR,CAAV,EAAyBwB,IAAzB,CAAd;AAAA,GAAf;;AACA,MAAIgD,WAAW,SAAXA,QAAW,CAACxE,KAAD,EAAOwB,IAAP;AAAA,WAAcwC,qBAAqBhE,KAArB,EAA2BwB,IAA3B,CAAd;AAAA,GAAf;;AACA,MAAIiD,SAAW,SAAXA,MAAW,CAASzE,KAAT,EAAewB,IAAf,EAAoBkD,IAApB,EAAyB;AACtC1E,YAAQ,mBAAQA,KAAR,CAAR;AACA,WAAO8D,UAAU9D,KAAV,EAAgB,UAAS2E,CAAT,EAAWzE,CAAX,EAAaC,CAAb,EAAe;AAAEuE,aAAOlD,KAAKkD,IAAL,EAAUC,CAAV,EAAYzE,CAAZ,EAAcC,CAAd,CAAP;AAA0B,KAA3D,GAA6DuE,IAApE;AACD,GAHD;;AAKA,MAAME,WAAW/E,iBAAiB+E,QAAjB,GAA4B,UAASC,IAAT,EAAcC,MAAd,EAAqBC,EAArB,EAAwB;AACnE,QAAGF,gBAAgBX,KAAnB,EAAyB;AACvBa,WAAKb,MAAMc,SAAN,CAAgBC,MAAhB,CAAuBC,IAAvB,CAA4BL,IAA5B,EAAiC,CAAjC,EAAmCA,KAAKzE,MAAxC,CAAL;AACD,KAFD,MAEO,IAAG,OAAOyE,IAAP,IAAe,QAAlB,EAA4B;AACjCE,WAAK,EAAL;;AACA,WAAI,IAAIzD,GAAR,IAAeuD,IAAf,EAAoB;AAAEE,WAAGzD,GAAH,IAAUuD,KAAKvD,GAAL,CAAV;AAAqB,eAAOuD,KAAKvD,GAAL,CAAP;AAAmB;AAC/D;;AACD,WAAQwD,UAAUA,OAAOD,IAAP,EAAYE,EAAZ,CAAX,EAA6BF,IAApC;AACD,GARD;;AAUA,MAAMM,YAAYtF,iBAAiBsF,SAAjB,GAA6B,UAASN,IAAT,EAAcF,CAAd,EAAgBV,CAAhB,EAAkB;AAC/D,yBAAQY,IAAR,KAAiBA,KAAKI,MAAL,CAAY,OAAOhB,CAAP,KAAa,QAAb,GAAsBA,CAAtB,GAAwB,CAApC,EAAsC,CAAtC,EAAwCU,CAAxC,CAAjB;AACA,WAAOE,IAAP;AACD,GAHD;;AAKA,MAAMO,UAAUvF,iBAAiBuF,OAAjB,GAA2B,UAASP,IAAT,EAAcQ,QAAd,EAAuBC,QAAvB,EAAgC;AACzE,QAAGD,aAAaC,QAAb,IAAyB,qBAAQT,IAAR,CAAzB,IAA0C,OAAOQ,QAAP,KAAoB,QAA9D,IAA0E,OAAOC,QAAP,KAAoB,QAA9F,IAA0GD,YAAY,CAAtH,IAA2HA,WAAWR,KAAKzE,MAA9I,EAAqJ;AACnJ8D,YAAMc,SAAN,CAAgBC,MAAhB,CAAuBC,IAAvB,CAA4BL,IAA5B,EAAiCS,WAAWT,KAAKzE,MAAhB,GAAyByE,KAAKzE,MAA9B,GAAuCkF,QAAxE,EAAiF,CAAjF,EAAmFpB,MAAMc,SAAN,CAAgBC,MAAhB,CAAuBC,IAAvB,CAA4BL,IAA5B,EAAiCQ,QAAjC,EAA0C,CAA1C,EAA6C,CAA7C,CAAnF;AACD;;AACD,WAAOR,IAAP;AACD,GALD;;AAOA,MAAMU,YAAY1F,iBAAiB0F,SAAjB,GAA6B,UAASV,IAAT,EAAcW,OAAd,EAAsB;AACnE,QAAIX,OAAO,mBAAQA,IAAR,CAAX;AACA,WAAON,KAAKiB,OAAL,EAAa,UAASxF,KAAT,EAAe;AAAE6E,WAAKrE,IAAL,CAAUR,KAAV;AAAmB,KAAjD,GAAoD6E,IAA3D;AACD,GAHD;;AAMA,MAAMY,YAAY5F,iBAAiB4F,SAAjB,GAA6B,UAASZ,IAAT,EAAca,IAAd,EAAmBC,MAAnB,EAA0B;AACvE,QAAId,OAAU,mBAAQA,IAAR,CAAd;AACA,QAAIe,UAAU,CAAd;;AAEA,SAAI,IAAI1F,IAAE,CAAN,EAAQ2F,KAAG,CAAX,EAAaxB,OAAKC,OAAOD,IAAP,CAAYQ,IAAZ,CAAlB,EAAoC1E,IAAEkE,KAAKjE,MAA/C,EAAsDF,IAAEC,CAAxD,EAA0DD,KAAI2F,IAA9D,EAAmE;AACjE,UAAIvE,MAAQ+C,KAAKnE,CAAL,CAAZ;AACA,UAAIF,QAAQ6E,KAAKvD,GAAL,CAAZ;AACA,UAAIrB,SAASyF,KAAK1F,KAAL,EAAWsB,GAAX,CAAb;;AACA,UAAGrB,UAAU,KAAb,EAAoB;AAClB,YAAI6F,OAAO5B,MAAMc,SAAN,CAAgBC,MAAhB,CAAuBC,IAAvB,CAA4BL,IAA5B,EAAiC3E,CAAjC,EAAmC,CAAnC,CAAX;AACAA;AACAC;AACA,eAAOwF,MAAP,KAAkB,UAAlB,IAAgCA,OAAO3F,KAAP,EAAa6F,EAAb,EAAgBD,SAAhB,CAAhC;AACD;AACF;;AAED,WAAOf,IAAP;AACD,GAjBD;;AAmBA,MAAMkB,UAAUlG,iBAAiBkG,OAAjB,GAA2B,UAASlB,IAAT,EAAcmB,MAAd,EAAqB;AAC9D,QAAGnB,KAAKzE,MAAL,IAAe,CAAlB,EAAoB;AAClB,aAAOyE,IAAP;AACD;;AAED,YAAOmB,MAAP;AACA,WAAK,MAAL;AACEA,iBAAS,gBAAS/B,CAAT,EAAWgC,CAAX,EAAa;AAAE,iBAAOhC,IAAEgC,CAAT;AAAa,SAArC;;AACA;;AACF,WAAKC,SAAL;AACA,WAAK,KAAL;AACA;AACE,YAAG,OAAOF,MAAP,KAAkB,UAArB,EAAgC;AAC9BA,mBAAS,gBAAS/B,CAAT,EAAWgC,CAAX,EAAa;AAAE,mBAAOhC,IAAEgC,CAAT;AAAa,WAArC;AACD;;AACD;AAVF;;AAaA,QAAIhG,SAAS,CAAC4E,KAAK,CAAL,CAAD,CAAb;;AAEA,SAAI,IAAI3E,IAAE,CAAN,EAAQC,IAAE0E,KAAKzE,MAAnB,EAA0BF,IAAEC,CAA5B,EAA8BD,GAA9B,EAAkC;AAChC,WAAI,IAAI2F,KAAG,CAAP,EAASM,KAAGlG,OAAOG,MAAvB,EAA8ByF,KAAGM,EAAjC,EAAoCN,IAApC,EAAyC;AACvC,YAAGG,OAAOnB,KAAK3E,CAAL,CAAP,EAAeD,OAAO4F,EAAP,CAAf,MAA+B,IAAlC,EAAuC;AACrCV,oBAAUlF,MAAV,EAAiB4E,KAAK3E,CAAL,CAAjB,EAAyB2F,EAAzB;AACA;AACD;;AACD,YAAIA,KAAK,CAAN,KAAa5F,OAAOG,MAAvB,EAA8B;AAC5BH,iBAAOO,IAAP,CAAYqE,KAAK3E,CAAL,CAAZ;AACD;AACF;AACF;;AAED0E,aAASC,IAAT;;AAEA,SAAI,IAAI3E,IAAE,CAAN,EAAQC,IAAEF,OAAOG,MAArB,EAA4BF,IAAEC,CAA9B,EAAgC0E,KAAKrE,IAAL,CAAUP,OAAOC,CAAP,CAAV,GAAqBA,GAArD;AAAyD;AAAzD;;AAEA,WAAO2E,IAAP;AACD,GArCD;;AAuCA,MAAMuB,SAASvG,iBAAiBuG,MAAjB,GAA0B,UAAS/E,GAAT,EAAagF,GAAb,EAAiB;AACxD,QAAIpG,SAAS,EAAb;;AACA,SAAI,IAAIqB,GAAR,IAAeD,GAAf,EAAmB;AACjB,UAAGC,QAAQ,IAAX,EAAgB;AACd,YAAIgF,WAAWjF,IAAIC,GAAJ,CAAf;;AACA,aAAI,IAAIpB,IAAE,CAAN,EAAQqG,IAAEjC,OAAOD,IAAP,CAAYgC,GAAZ,CAAV,EAA2BlG,IAAEoG,EAAEnG,MAAnC,EAA0CF,IAAEC,CAA5C,EAA8CD,GAA9C,EAAkD;AAChD,cAAIsG,SAASD,EAAErG,CAAF,CAAb;;AACA,cAAG,OAAOoG,QAAP,KAAoB,UAAvB,EAAkC;AAChCrG,mBAAOuG,MAAP,IAAiBnF,IAAIC,GAAJ,CAAjB;AACD,WAFD,MAEO;AACL,gBAAI,OAAOgF,QAAP,KAAoB,QAApB,IAAgC,OAAOA,QAAP,KAAoB,QAArD,IAAkE,oBAAOA,QAAP,CAArE,EAAsF;AACpFrG,qBAAOuG,MAAP,IAAiBF,QAAjB;AACD,aAFD,MAEO;AACLrG,qBAAOuG,MAAP,IAAiBlC,OAAOmC,MAAP,CAAcxG,OAAOuG,MAAP,CAAd,EAA6BF,QAA7B,CAAjB;AACD;AACF;AACF;AACF,OAdD,MAcO,IAAGhF,IAAIoB,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAvB,EAAyB;AAC9B6B,aAAKjD,IAAIoF,KAAJ,CAAU,GAAV,CAAL,EAAoB,UAASC,OAAT,EAAiB;AACnCA,oBAAUA,QAAQC,IAAR,EAAV;;AACA,cAAG,OAAOvF,IAAIC,GAAJ,CAAP,KAAoB,UAAvB,EAAkC;AAChCrB,mBAAO0G,OAAP,IAAkBtF,IAAIC,GAAJ,CAAlB;AACD,WAFD,MAEO;AACL,gBAAI,CAACrB,OAAOmB,cAAP,CAAsBuF,OAAtB,CAAD,IAAmC,OAAOtF,IAAIC,GAAJ,CAAP,KAAoB,QAAxD,IAAqE,oBAAOD,IAAIC,GAAJ,CAAP,CAAxE,EAAyF;AACvFrB,qBAAO0G,OAAP,IAAkBtF,IAAIC,GAAJ,CAAlB;AACD,aAFD,MAEO;AACLrB,qBAAO0G,OAAP,IAAkBrC,OAAOmC,MAAP,CAAexG,OAAO0G,OAAP,MAAoB,qBAAQtF,IAAIC,GAAJ,CAAR,IAAoB,EAApB,GAAyB,EAA7C,CAAf,EAAiED,IAAIC,GAAJ,CAAjE,EAA2ED,IAAIsF,OAAJ,CAA3E,CAAlB;AACD;AAEF;AACF,SAZD;AAaD,OAdM,MAcA;AACL,YAAG,OAAOtF,IAAIC,GAAJ,CAAP,KAAoB,UAAvB,EAAkC;AAChCrB,iBAAOqB,GAAP,IAAcD,IAAIC,GAAJ,CAAd;AACD,SAFD,MAEO;AACL,cAAI,OAAOrB,OAAOqB,GAAP,CAAP,KAAuB,QAAvB,IAAmC,OAAOD,IAAIC,GAAJ,CAAP,KAAoB,QAAxD,IAAqE,oBAAOD,IAAIC,GAAJ,CAAP,CAAxE,EAAyF;AACvFrB,mBAAOqB,GAAP,IAAcD,IAAIC,GAAJ,CAAd;AACD,WAFD,MAEO;AACLrB,mBAAOqB,GAAP,IAAcgD,OAAOmC,MAAP,CAAcxG,OAAOqB,GAAP,CAAd,EAA0BD,IAAIC,GAAJ,CAA1B,CAAd;AACD;AACF;AACF;AACF;;AACD,WAAOrB,MAAP;AACD,GA5CD,C,CAgDA;;;AACA,MAAM4G,kBAAkBhH,iBAAiBgH,eAAjB,GAAmC,UAASxF,GAAT,EAAaC,GAAb,EAAiB;AAC1E,QAAI+C,OAAO/C,IAAIoF,KAAJ,CAAU,GAAV,CAAX;AACA,QAAG,CAACrC,KAAKjE,MAAT,EAAiB,OAAO,KAAP;AAEjB,QAAI0G,UAAUzF,GAAd;;AACA,SAAI,IAAI0F,EAAR,IAAc1C,IAAd,EAAmB;AACjB,UAAI2C,IAAI3C,KAAK0C,EAAL,CAAR;;AAEA,UAAG,CAACD,QAAQ1F,cAAR,CAAuB4F,CAAvB,CAAJ,EAA8B;AAC5B,eAAO,KAAP;AACD,OAFD,MAEO;AACLF,kBAAUA,QAAQE,CAAR,CAAV;AACD;AACF;;AACD,WAAO,IAAP;AACD,GAfD;;AAiBA,MAAMC,QAAQpH,iBAAiBoH,KAAjB,GAAyB,UAASrF,IAAT,EAAc8E,KAAd,EAAoBQ,KAApB,EAA0BC,QAA1B,EAAmC;AACxE,QAAG,OAAOvF,IAAP,KAAgB,QAAnB,EAA6B,OAAO,CAACA,IAAD,CAAP;AAE7B,QAAI3B,SAAS2B,KAAK8E,KAAL,CAAWA,UAAQ,IAAR,GAAa,KAAb,GAAmBA,SAAO,KAArC,CAAb;;AAEA,QAAG,wBAAWQ,KAAX,CAAH,EAAqB;AACnB,UAAG,CAAC,wBAAWC,QAAX,CAAJ,EAAyB;AACvBA,mBAAWD,KAAX;AACD;;AAED,UAAIE,SAAS,EAAb;AACA,UAAIC,SAAS;AAAEC,cAAK,CAAP;AAAUC,eAAM;AAAhB,OAAb;;AAEA,WAAI,IAAIhB,IAAEtG,MAAN,EAAaC,IAAE,CAAf,EAAiBC,IAAEoG,EAAEnG,MAAzB,EAAgCF,IAAEC,CAAlC,EAAoCD,GAApC,EAAwC;AACtC,YAAIsH,OAAOjB,EAAErG,CAAF,CAAX;AACA,YAAIuH,OAAO;AACTlF,iBAAMc,aAAamE,IAAb,EAAkBN,KAAlB,CADG;AAEThE,eAAMG,aAAamE,IAAb,EAAkBL,QAAlB;AAFG,SAAX;AAKAO,gBAAQC,GAAR,CAAY,YAAZ,EAA0BH,IAA1B,EAAgCC,IAAhC;;AAEA,aAAI,IAAIlB,KAAEkB,KAAKlF,KAAX,EAAiBrC,KAAE,CAAnB,EAAqBC,KAAEoG,GAAEnG,MAA7B,EAAoCF,KAAEC,EAAtC,EAAwC,EAAED,EAA1C,EAA4C;AAC1C,cAAI0H,aAAarB,GAAErG,EAAF,CAAjB;AACD;AACF;;AAED,aAAOkH,MAAP;AACD,KAvBD,MAuBO;AACL,aAAOnH,MAAP;AACD;AACF,GA/BD;;AAiCA,MAAM4H,iBAAiBhI,iBAAiBgI,cAAjB,GAAkC,UAASC,MAAT,EAAgBC,KAAhB,EAAsB;AAC7E,QAAIC,YAAY1D,OAAOD,IAAP,CAAY0D,KAAZ,CAAhB;AACA,QAAIE,UAAJ;AACA,QAAIC,UAAU,KAAd;;AACA,QAAG,sBAASJ,MAAT,CAAH,EAAoB;AAClB,UAAG,qBAAQA,MAAR,CAAH,EAAmB;AACjBG,qBAAaH,MAAb;AACD,OAFD,MAEO;AACLG,qBAAa3D,OAAOD,IAAP,CAAYyD,MAAZ,CAAb;AACAI,kBAAa,IAAb;AACD;AACF,KAPD,MAOO;AACLD,mBAAa,EAAb;AACD;;AAED,QAAIE,WAAW;AACbJ,aAAMA,KADO;AAEbD,cAAOA,MAFM;AAGbzD,YAAKI,OAAO3E,OAAOkI,UAAUI,MAAV,CAAiBH,UAAjB,CAAP,CAAP,EAA4C,UAASI,IAAT,EAAc/G,GAAd,EAAkB;AAAE+G,aAAK/G,GAAL,IAAY4E,SAAZ;AAAwB,eAAOmC,IAAP;AAAc,OAAtG,EAAuG,EAAvG,CAHQ;AAIbtF,aAAM,EAJO;AAKbuF,eAAQ,EALK;AAMbC,eAAQ,EANK;AAObC,YAAK,EAPQ;AAQbC,YAAK;AARQ,KAAf,CAf6E,CA0B7E;;AACA,SAAI,IAAI1B,EAAR,IAAckB,UAAd,EAAyB;AACvB,UAAG,CAACA,WAAW7G,cAAX,CAA0B2F,EAA1B,CAAJ,EAAmC;AAEnC,UAAIzF,MAAM2G,WAAWlB,EAAX,CAAV;;AAEA,UAAGF,gBAAgBkB,KAAhB,EAAsBzG,GAAtB,CAAH,EAA8B;AAC5B6G,iBAASpF,KAAT,CAAevC,IAAf,CAAoBc,GAApB;AACA6G,iBAAS9D,IAAT,CAAc/C,GAAd,IAAqB,OAArB;;AAEA,YAAG4G,WAAW,CAACQ,QAAQC,MAAR,CAAe,kBAAIZ,KAAJ,EAAUzG,GAAV,CAAf,EAA8B,kBAAIwG,MAAJ,EAAWxG,GAAX,CAA9B,CAAf,EAA+D;AAC7D6G,mBAASK,IAAT,CAAchI,IAAd,CAAmBc,GAAnB;AACA6G,mBAAS9D,IAAT,CAAc/C,GAAd,IAAqB,MAArB;AACD;AACF,OARD,MAQO;AACL6G,iBAASI,OAAT,CAAiB/H,IAAjB,CAAsBc,GAAtB;AACA6G,iBAAS9D,IAAT,CAAc/C,GAAd,IAAqB,SAArB;AACD;AACF,KA5C4E,CA8C7E;;;AACAiD,SAAKyD,SAAL,EAAe,UAAS1G,GAAT,EAAa;AAC1B,UAAG,CAACb,UAAU0H,SAASpF,KAAnB,EAAyBzB,GAAzB,CAAJ,EAAkC;AAChC6G,iBAASG,OAAT,CAAiB9H,IAAjB,CAAsBc,GAAtB;AACA6G,iBAAS9D,IAAT,CAAc/C,GAAd,IAAqB,SAArB;AACD;AACF,KALD,EA/C6E,CAsD7E;;AACA6G,aAASM,IAAT,GAAgB,CAACN,SAASG,OAAT,CAAiBlI,MAAlB,IAA4B,CAAC+H,SAASI,OAAT,CAAiBnI,MAA9D;AAEA,WAAO+H,QAAP;AACD,GA1DD,C,CA4DA;;;AACA,MAAMS,SAAS/I,iBAAiB+I,MAAjB,GAA0B,UAASC,EAAT,EAAYC,EAAZ,EAAeC,GAAf,EAAmB;AAC1D,QAAIC,QAAQ,CAAC,CAAb;;AACA,SAAI,IAAIzC,IAAE,mBAAQsC,EAAR,CAAN,EAAkB1I,MAAEoG,EAAEnG,MAAtB,EAA6BF,MAAE,CAAnC,EAAqCA,MAAEC,GAAvC,EAAyCD,KAAzC,EAA6C;AAC3C,UAAGqG,EAAErG,GAAF,KAAQ4I,EAAX,EAAe;AAAEE,gBAAQ9I,MAAE,CAAV;AAAa;AAAQ;AACvC;;AACD,QAAG+I,UAAU7I,MAAV,GAAmB,CAAtB,EAAyB,KAAI,IAAIF,IAAE,CAAN,EAAQC,IAAE0I,GAAGzI,MAAjB,EAAwBF,IAAEC,CAA1B,EAA4BD,GAA5B;AAAiC,UAAI2I,GAAG3I,CAAH,KAAS6I,GAAb,EAAmB,OAAOF,GAAG3I,CAAH,CAAP;AAApD;AACzB8I,YAAQH,GAAGzI,MAAH,IAAa4I,KAAb,GAAqB,CAArB,GAAyBA,KAAjC;AACA,WAAOH,GAAGG,KAAH,CAAP;AACD,GARD;;AAUA,MAAME,OAAOrJ,iBAAiBqJ,IAAjB,GAAwB,UAAShJ,CAAT,EAAWuD,CAAX,EAAa0F,EAAb,EAAgB;AACnD,QAAGjJ,IAAI,CAAP,EAAU;AAAE,UAAIkJ,MAAMC,KAAKD,GAAL,CAASlJ,IAAEiJ,EAAX,CAAV;AAA0BjJ,UAAIuD,KAAG2F,MAAI3F,CAAJ,GAAM2F,MAAI3F,CAAV,GAAY2F,GAAf,CAAJ;AAA0B;;AAAA;AAChED,SAAGA,KAAGA,EAAH,GAAM,CAAT;AAAWjJ,QAAEmJ,KAAKC,KAAL,CAAWpJ,IAAEiJ,EAAb,CAAF;AACX,WAAQ1F,IAAIvD,CAAL,GAAQA,CAAR,GAAUA,IAAEuD,CAAnB;AACD,GAJD;;AAMA,MAAI8F,kBAAkBjF,OAAOD,IAAP,CAAYxE,gBAAZ,EAA8B2J,MAA9B,CAAqC,UAACC,IAAD,EAAMnI,GAAN,EAAY;AACrE,QAAIoI,WAAWpI,IAAIqI,WAAJ,GAAkBC,OAAlB,CAA0B,SAA1B,EAAoC,aAAG;AACpD,aAAOpG,EAAEqG,MAAF,CAAS,CAAT,EAAYC,WAAZ,EAAP;AACD,KAFc,CAAf;AAIAL,SAAKC,QAAL,IAAiB7J,iBAAiByB,GAAjB,CAAjB;AAEA,WAAOmI,IAAP;AACD,GARqB,EAQpB,EARoB,CAAtB;AAUAM,SAAOC,OAAP,qBAAsBT,eAAtB","sourcesContent":["import { \n  isNone, \n  isObject,\n  isArray,\n  isFunction,\n  isNumber,\n  likeNumber,\n  isNode,\n  isEmpty,\n  likeRegexp,\n  isExsist,\n  notExsist\n} from './isLike'\n\nimport {\n  toArray,\n  asArray,\n  instance\n} from './cast'\n\nimport {\n  get\n} from './reducer';\n\nconst FUNCTION_EXPORTS = {};\n\nconst UNIQUE = FUNCTION_EXPORTS.UNIQUE = function(array){\n  var value = [],result = [], array = toArray(array);\n  for(var i=0,l=array.length;i<l;i++){\n    var unique = true;\n    for(var i2=0,l2=result.length;i2<l2;i2++){\n      if(array[i] == result[i2]){\n        unique = false; break;\n      }\n    }\n    if(unique==true) result.push(array[i]);\n  }\n  return result;\n}\n\nconst HAS_VALUE = FUNCTION_EXPORTS.HAS_VALUE = (function(){\n  var defaultObjectValueFunc = function(object,value){\n    return object === value;\n  };\n    \n  var functionKeyObjectValueProc = function(functionKey){\n    return function(object,value){\n      return Boolean(functionKey(object,value));\n    };\n  };\n    \n  var selectKeyObjectValueProc = function(leftSelect,rightSelect){\n    var useLeftSelector  = (typeof leftSelect === \"string\" || typeof leftSelect === \"number\")\n    var useRightSelector = leftSelect === rightSelect ? useLeftSelector : (typeof rightSelect === \"string\" || typeof rightSelect === \"number\");\n        \n    return function(object,value){\n      if(useLeftSelector  && !object.hasOwnProperty(leftSelect)) return false;\n      if(useRightSelector && !value.hasOwnProperty(rightSelect)) return false;\n            \n      return (useLeftSelector ? get(object,leftSelect) : object) === (useRightSelector ? get(value,rightSelect) : value);\n    };\n  };\n    \n  return function(obj,value,key,getKey){\n    if(typeof key === \"boolean\"){\n      if(typeof getKey !== \"boolean\"){\n        getKey = key;\n      }\n      key = void 0;\n    }\n        \n    if(obj === value){\n      return true;\n    } else if(isObject(obj)){\n      if(value === (void 0) && key === (void 0)) return !isEmpty(obj);\n            \n      var proc;\n            \n      if(key){\n        if(typeof key === \"function\") {\n          proc = functionKeyObjectValueProc(key);\n        } else if(isArray(key) && key.length > 1){\n          proc = selectKeyObjectValueProc(key[0],key[1]);\n        } else if(typeof key === \"string\" || typeof key === \"number\"){\n          proc = selectKeyObjectValueProc(key,key);\n        }\n      } else {\n        proc = defaultObjectValueFunc;\n      }\n            \n      if(isArray(obj)){\n        for(var i=0,l=obj.length;i<l;i++) if(proc(obj[i],value)) return getKey ? i : true;\n      } else {\n        for(var objKey in obj) if(obj.hasOwnProperty(objKey) && proc(obj[objKey],value)) return getKey ? objKey : true; \n      }\n    }\n        \n    return getKey ? void 0 : false;\n  }\n}());\n\nconst GET_KEY_BY = FUNCTION_EXPORTS.GET_KEY_BY = function(object,value){\n  if(isFunction(value)){\n    if(isArray(object)) for(var i=0,l=object.length;i<l;i++) if(value(object[i],i)===true) return i;\n    if(isObject(object)) for(var key in object) if(value(object[key],key)===true) return key;\n  } else {\n    if(isArray(object)) for(var i=0,l=object.length;i<l;i++) if(object[i]===value) return i;\n    if(isObject(object)) for(var key in object) if(object[key]===value) return key;\n  }\n}\n\n\nconst STRING_CAST = FUNCTION_EXPORTS.STRING_CAST = (function(){\n  return function(text,defaultOrder,finder,at){\n    if(typeof text === \"string\" || typeof text === \"number\"){\n      let idxs  = []\n      let hist  = []\n      let count = 0\n      let pin   = (!at || !isNumber(at) || at < 0)?0:at\n      let strlen= text.length\n      let order = defaultOrder\n      let next\n      \n      if(typeof finder !== \"function\"){ \n        finder = void 0\n      }\n      \n      do {\n        let start = void 0;\n        let size  = void 0;\n        \n        if(typeof order === \"string\"){\n          let findedIndex = text.indexOf(order,pin)\n          if(findedIndex !== -1){\n            start = findedIndex\n            size  = order.length\n          }\n        } else if (order instanceof RegExp) {\n          let cs = text.substring(pin || 0);\n          let ma = cs.match(order);\n          if(ma){\n            start = cs.indexOf(ma) + (ma.length - 1)\n            size  = ma.length\n          } \n        }\n        \n        count++;\n        \n        if(typeof start !== \"undefined\"){\n          let string = text.substring(start,start + size);\n          let struct = {string,start,size,end:start + size}\n          \n          //before pin\n          if(pin < start){\n            let noneCastStruct = {\n              string:text.substring(pin,start),\n              start:pin,\n              size:start-pin,\n              end:start\n            }\n            finder && finder(false,noneCastStruct,hist,count)\n          }\n          \n          //now pin\n          pin = start + size;\n\n          //order\n          let nextOrder = finder && finder(true,struct,hist,count);\n          if(likeRegexp(nextOrder)){\n            order = nextOrder\n          } else {\n            order = defaultOrder\n          }\n          \n          //idx\n          idxs.push(start)\n          hist.push({string,start,size})\n          \n          //to be countinue\n          if(pin >= strlen){\n            next = false\n          } else {\n            next = true;\n          }\n        } else {\n          let struct = {\n              string:text.substring(pin,strlen),\n              start:pin,\n              size:start-pin,\n              end:strlen\n          }\n          finder && finder(false,struct,hist,count);\n          next = false;\n        }\n        \n      } while((count > 1000) ? false : next)\n      return idxs;\n    }\n  }\n}())\n\n/*\n  bow.findIndexes(\"hello world\",\"l\") [2,3,9]\n  bow.findIndexes(\"hello world\",/l/) [2,3,9]\n  bow.findIndexes(\"hello world\",/\\s/) [5]\n*/\nconst FIND_INDEXES = FUNCTION_EXPORTS.FIND_INDEXES = (function(){\n  var __find_string = (c,s,p)=>c.indexOf(s,p)\n  var __find_regexp = (c,s,p)=>{\n    let i = c.substring(p || 0).search(s);\n    return (i >= 0) ? (i + (p || 0)) : i;\n  }\n  return function(c,s,at){\n      if(typeof c === \"string\" || typeof c === \"number\"){\n        var idxs=[], mvc=c+\"\", s=likeRegexp(s)?s:s+\"\", at=(!at || !isNumber(at) || at < 0)?0:at, __find=((s instanceof RegExp)?__find_regexp:__find_string), next;\n        do {\n          let i = __find(c,s,at);\n          if(i > -1){\n            at = (s.length || 1) + i;\n            idxs.push(i); \n            next = true;\n          } else {\n            next = false;\n          }\n        } while(next)\n        return idxs;\n      }\n    }\n}());\n\nconst EACH_PROC = FUNCTION_EXPORTS.EACH_PROC = function(arr,proc){\n    if(arr.length > 1){\n        for(var i=0,l=arr.length-1;i<l;proc(arr[i],i,false), i++);\n        proc(arr[arr.length-1],arr.length-1,true);\n    } else if(arr.length == 1) {\n        proc(arr[0],0,true);\n    }\n    return arr;\n}\n\nconst STATIC_FOR_EACH_PROC = FUNCTION_EXPORTS.STATIC_FOR_EACH_PROC = function(obj,proc){\n    if(typeof obj === \"object\") for(var i=0,a=obj instanceof Array,al=a?obj.length:NaN,keys=Object.keys(obj),l=keys.length;i<l;proc(obj[keys[i]],keys[i],i,l,al),i++);\n    return obj;\n}\n\nlet EACH     = (value,proc)=>EACH_PROC(asArray(value),proc)\nlet FOR_EACH = (value,proc)=>STATIC_FOR_EACH_PROC(value,proc)\nlet REDUCE   = function(value,proc,meta){\n  value = asArray(value);\n  return EACH_PROC(value,function(v,i,l){ meta = proc(meta,v,i,l); }),meta;\n}\n\nconst CLEAR_OF = FUNCTION_EXPORTS.CLEAR_OF = function(data,fillFn,sp){\n  if(data instanceof Array){\n    sp = Array.prototype.splice.call(data,0,data.length);\n  } else if(typeof data == \"object\") {\n    sp = {};\n    for(var key in data){ sp[key] = data[key]; delete data[key]; } \n  }\n  return (fillFn && fillFn(data,sp)), data;\n}\n\nconst INSERT_OF = FUNCTION_EXPORTS.INSERT_OF = function(data,v,a){\n  isArray(data) && data.splice(typeof a === \"number\"?a:0,0,v)\n  return data;\n}\n\nconst MOVE_OF = FUNCTION_EXPORTS.MOVE_OF = function(data,oldIndex,newIndex){\n  if(oldIndex !== newIndex && isArray(data) && typeof oldIndex === \"number\" && typeof newIndex === \"number\" && oldIndex >= 0 && oldIndex < data.length){\n    Array.prototype.splice.call(data,newIndex > data.length ? data.length : newIndex,0,Array.prototype.splice.call(data,oldIndex,1)[0]);\n  }\n  return data;\n}\n\nconst CONCAT_OF = FUNCTION_EXPORTS.CONCAT_OF = function(data,appends){\n  var data = asArray(data);\n  return EACH(appends,function(value){ data.push(value); }), data;\n}\n\n\nconst FILTER_OF = FUNCTION_EXPORTS.FILTER_OF = function(data,func,exitFn){\n  var data    = asArray(data);\n  var exitCnt = 0;\n\n  for(var i=0,ri=0,keys=Object.keys(data),l=keys.length;i<l;i++,ri++){\n    var key   = keys[i];\n    var value = data[key];\n    var result = func(value,key);\n    if(result == false) {\n      var exit = Array.prototype.splice.call(data,i,1);\n      i--;\n      l--;\n      typeof exitFn === \"function\" && exitFn(value,ri,exitCnt++);\n    }\n  }\n  \n  return data;\n}\n\nconst SORT_OF = FUNCTION_EXPORTS.SORT_OF = function(data,filter){\n  if(data.length == 0){\n    return data;\n  }\n  \n  switch(filter){\n  case 'desc':\n    filter = function(a,b){ return a>b; }\n    break;\n  case undefined:\n  case 'asc':\n  default:\n    if(typeof filter !== \"function\"){\n      filter = function(a,b){ return a<b; }\n    }\n    break;\n  }\n\n  var result = [data[0]];\n\n  for(var i=1,l=data.length;i<l;i++){\n    for(var ri=0,rl=result.length;ri<rl;ri++){\n      if(filter(data[i],result[ri]) === true){\n        INSERT_OF(result,data[i],ri);\n        break;\n      }\n      if((ri + 1) === result.length){\n        result.push(data[i]);\n      }\n    }\n  }\n\n  CLEAR_OF(data);\n\n  for(var i=0,l=result.length;i<l;data.push(result[i]),i++);\n  \n  return data;\n}\n\nconst REBASE = FUNCTION_EXPORTS.REBASE = function(obj,ref){\n  var result = {};\n  for(var key in obj){\n    if(key === \".*\"){\n      var refValue = obj[key];\n      for(var i=0,d=Object.keys(ref),l=d.length;i<l;i++){\n        var refKey = d[i];\n        if(typeof refValue === \"function\"){\n          result[refKey] = obj[key];\n        } else {\n          if((typeof refValue !== \"object\" && typeof refValue !== \"object\") || isNode(refValue)){\n            result[refKey] = refValue;\n          } else {\n            result[refKey] = Object.assign(result[refKey],refValue);\n          }\n        }\n      }\n    } else if(key.indexOf(\",\") > -1){\n      EACH(key.split(\",\"),function(deepKey){\n        deepKey = deepKey.trim();\n        if(typeof obj[key] === \"function\"){\n          result[deepKey] = obj[key];\n        } else {\n          if((!result.hasOwnProperty(deepKey) && typeof obj[key] !== \"object\") || isNode(obj[key])){\n            result[deepKey] = obj[key];\n          } else {\n            result[deepKey] = Object.assign( result[deepKey] || (isArray(obj[key]) ? [] : {}), obj[key], obj[deepKey] );\n          }\n\n        }\n      });\n    } else {\n      if(typeof obj[key] === \"function\"){\n        result[key] = obj[key];\n      } else {\n        if((typeof result[key] !== \"object\" && typeof obj[key] !== \"object\") || isNode(obj[key])){\n          result[key] = obj[key]\n        } else {\n          result[key] = Object.assign(result[key],obj[key]);\n        }\n      }\n    }\n  }\n  return result;\n}\n\n\n\n//TODO: Union HAS_VALUE\nconst NESTED_HAS_PROC = FUNCTION_EXPORTS.NESTED_HAS_PROC = function(obj,key){\n  var keys = key.split(\".\");\n  if(!keys.length) return false;\n\n  var pointer = obj;\n  for(var ki in keys){\n    var k = keys[ki];\n\n    if(!pointer.hasOwnProperty(k)){\n      return false;\n    } else {\n      pointer = pointer[k];\n    }\n  }\n  return true;\n}\n\nconst APART = FUNCTION_EXPORTS.APART = function(text,split,block,blockEnd){\n  if(typeof text !== \"string\") return [text];\n  \n  let result = text.split(split===true?/\\s+/:split||/\\s+/);\n  \n  if(likeRegexp(block)){\n    if(!likeRegexp(blockEnd)){\n      blockEnd = block;\n    }\n    \n    let aparts = []\n    let buffer = { dept:0, parts:[] }\n    \n    for(let d=result,i=0,l=d.length;i<l;i++){\n      let part = d[i]\n      let greb = {\n        start:FIND_INDEXES(part,block), \n        end  :FIND_INDEXES(part,blockEnd) \n      }\n      \n      console.log(\"part, greb\", part, greb);\n      \n      for(let d=greb.start,i=0,l=d.length;i<l;++i){\n        let startIndex = d[i]\n      }\n    }\n    \n    return aparts;\n  } else {\n    return result;\n  }\n}\n\nconst DIFF_STRUCTURE = FUNCTION_EXPORTS.DIFF_STRUCTURE = function(before,after){\n  var afterKeys = Object.keys(after);\n  var beforeKeys;\n  var canDiff = false;\n  if(isObject(before)){\n    if(isArray(before)){\n      beforeKeys = before;\n    } else {\n      beforeKeys = Object.keys(before);\n      canDiff    = true;\n    }\n  } else {\n    beforeKeys = [];\n  }\n\n  var analysis = {\n    after:after,\n    before:before,\n    keys:REDUCE(UNIQUE(afterKeys.concat(beforeKeys)),function(redu,key){ redu[key] = undefined;  return redu; },{}),\n    match:[],\n    missing:[],\n    surplus:[],\n    diff:[],\n    pass:false\n  };\n  \n  //match, missing\n  for(var ki in beforeKeys){\n    if(!beforeKeys.hasOwnProperty(ki)) continue;\n      \n    var key = beforeKeys[ki];\n      \n    if(NESTED_HAS_PROC(after,key)){\n      analysis.match.push(key);\n      analysis.keys[key] = \"match\";\n\n      if(canDiff && !angular.equals(get(after,key),get(before,key))) {\n        analysis.diff.push(key);\n        analysis.keys[key] = \"diff\";\n      }\n    } else {\n      analysis.surplus.push(key);\n      analysis.keys[key] = \"surplus\";\n    }\n  }\n\n  //surplus\n  EACH(afterKeys,function(key){\n    if(!HAS_VALUE(analysis.match,key)){\n      analysis.missing.push(key);\n      analysis.keys[key] = \"missing\";\n    }\n  });\n\n  //absolute\n  analysis.pass = !analysis.missing.length && !analysis.surplus.length;\n\n  return analysis;\n}\n\n//PINPONGPOOL INTERFACE\nconst TOGGLE = FUNCTION_EXPORTS.TOGGLE = function(ta,cv,set){\n  var index = -1;\n  for(let d=asArray(ta),l=d.length,i=0;i<l;i++){\n    if(d[i] == cv) { index = i+1; break; }\n  }\n  if(arguments.length > 2) for(var i=0,l=ta.length;i<l;i++) if( ta[i] == set ) return ta[i];\n  index = ta.length == index ? 0 : index;\n  return ta[index];\n}\n\nconst TRUN = FUNCTION_EXPORTS.TRUN = function(i,p,ts){\n  if(i < 0) { var abs = Math.abs(i/ts); i = p-(abs>p?abs%p:abs); }; \n  ts=ts?ts:1;i=Math.floor(i/ts);\n  return (p > i)?i:i%p;\n}\n\nlet FINALLY_EXPORTS = Object.keys(FUNCTION_EXPORTS).reduce((dest,key)=>{\n  let camelKey = key.toLowerCase().replace(/\\_[\\w]/g,s=>{\n    return s.substr(1).toUpperCase();\n  })\n  \n  dest[camelKey] = FUNCTION_EXPORTS[key]\n  \n  return dest\n},{})\n\nmodule.exports = { ...FINALLY_EXPORTS }"],"file":"functions.js"}
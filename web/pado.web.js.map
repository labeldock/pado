{"version":3,"file":"pado.web.js","sources":["../.src/web/env/window.js","../.src/web/env/storage.js","../.src/modules/dimension/baseDimenstion.js","../.src/functions/isLike.js","../.src/web/env/dom.js","../.src/functions/cast.js","../.src/functions/functions.js","../.src/functions/draw.js","../.src/web/env/url.js","../.src/web/plugins/jquery.js","../.src/web/helper/dragHelper.js","../.src/web/helper/repeatHelper.js","../.src/web/helper/index.js","../.src/pado.web.js"],"sourcesContent":["const WINDOW_POPUP_DEFAULT_WIDTH = 1100;\nconst WINDOW_POPUP_DEFAULT_HEIGHT = 900;\n\nexport const openWindow = function(href, windowParam) {\n  const hasParam   = typeof windowParam === \"object\";\n  const windowName = hasParam && windowParam[\"name\"] || \"_blank\";\n  const useResize  = (hasParam && windowParam[\"resize\"]+\"\") !== \"false\";\n\n  let destWindowWidth  = (hasParam && windowParam[\"width\"] || WINDOW_POPUP_DEFAULT_WIDTH);\n  let destWindowHeight = (hasParam && windowParam[\"height\"] || WINDOW_POPUP_DEFAULT_HEIGHT);\n  let destWindowTop    = (hasParam && windowParam[\"top\"] || windowParam[\"y\"] || 0);\n  let destWindowLeft   = (hasParam && windowParam[\"left\"] || windowParam[\"x\"] || 0);\n\n  const availMaxWidth = screen.availWidth;\n  let availMaxHeight = screen.availHeight;\n\n  // IE bottom bar\n  if(navigator.platform.indexOf(\"Win\") === 0) {\n    availMaxHeight -= 65;\n  }\n\n  if(destWindowWidth > availMaxWidth) destWindowWidth = availMaxWidth;\n  if(destWindowHeight > availMaxHeight) destWindowHeight = availMaxHeight;\n\n  const newWindow = window.open(\n    href,\n    windowName,\n    `top=${destWindowTop},left=${destWindowLeft},width=${destWindowWidth},height=${destWindowHeight}${useResize ? \",resizable=1\" : \",resizable=0\"},scrollbars=yes,status=1`\n  );\n\n  return newWindow;\n};\n\nexport const closeWindow = function(){\n  window.close();\n};\n\nexport const openTab = function(href) {\n  const newWindow = window.open(href, '_blank');\n  newWindow.focus();\n  return newWindow;\n};\n\nexport const historyBack = function({ catchFallback }) {\n  try {\n    const history = window.history;\n    const initialPage = history.length < 2;\n\n    if(initialPage && catchFallback) {\n      if(typeof catchFallback === \"string\") {\n        location.href = catchFallback;\n      }\n      if(typeof catchFallback === \"function\") {\n        return catchFallback();\n      }\n    } else {\n      history.back();\n    }\n  } catch (e) {\n    return null;\n  }\n};","const toDataString = function(tods){ \n\tswitch(typeof tods){\n\t\tcase \"string\":\n      return `\"${tods}\"`\n\t\tcase \"object\":\n      return JSON.stringify(tods)\n    case \"boolean\": case \"undefined\": case \"number\":\n\t\tdefault:\n      return `${tods}`;\n\t}\n};\n\nconst fromDataString = function(v){ \n  return eval(\"(\" + v + \")\");\n};\n\n//로컬스토리지 데이터 저장\nexport const setLocalData = function(k,v){\n  const localStorage = window.localStorage;\n  if(typeof k === \"object\"){\n    Object.keys(k).forEach(key=>{\n      localStorage.setItem(key,toDataString(k[key]));\n    });\n  } else {\n    localStorage.setItem(k,toDataString(v));\n  }\n  return true;\n};\n\n//로컬스토리지 데이터 불러오기\nexport const getLocalData = function(k){\n  const localStorage = window.localStorage;\n  if(!arguments.length) return localStorage;\n  let stringData = localStorage.getItem(k);\n  return (stringData==null) ? undefined : fromDataString(stringData);\n};","const Point = function(x=0,y=0,z=0,w=0){\n  const __ref = { x,y,z,w };\n  \n  Object.defineProperties(this,{\n    x:{ enumerable:true, get(){ return __ref.x; } },\n    y:{ enumerable:true, get(){ return __ref.y; } },\n    z:{ enumerable:true, get(){ return __ref.z; } },\n    w:{ enumerable:true, get(){ return __ref.w; } },\n  });\n};\n\nPoint.prototype = {\n  pull (width=0, angle=\"horizontal\"){\n    const { x, y, z, w } = this;\n    \n    switch(angle){\n      case \"h\": case \"horizontal\":\n        const xHalf = width <= 0 ? 0 : width/2;\n        return new Line(x-xHalf, y, z, w, x+xHalf, y, z, w);\n      default:\n    }\n  },\n  toObject (){\n    return {\n      x:this.x,\n      y:this.y,\n      z:this.z,\n      w:this.w\n    }\n  }\n};\n\nconst Line = function(sx,sy,sz,sw,ex,ey,ez,ew){\n  const __ref = { sx,sy,sz,sw,ex,ey,ez,ew };\n  \n  Object.defineProperties(this,{\n    start:{\n      enumerable:true,\n      get (){\n        return {\n          x:__ref.sx,\n          y:__ref.sy,\n          w:__ref.sw,\n          z:__ref.sz\n        }\n      }\n    },\n    end:{\n      enumerable:true,\n      get (){\n        return {\n          x:__ref.ex,\n          y:__ref.ey,\n          w:__ref.ew,\n          z:__ref.ez\n        }\n      }\n    }\n  });\n};\n\nLine.prototype =  {\n  points:function(pointCount=2){\n    const { start:{x:sx,y:sy,z:sz,w:sw}, end:{x:ex,y:ey,z:ez,w:ew} } = this;\n    const divCount = pointCount-1;\n    const [dx, dy, dz, dw]=[\n      ex-sx/divCount,\n      ey-sy/divCount,\n      ez-sz/divCount,\n      ew-sw/divCount\n    ];\n    \n    return Array(2).fill().map((v,i)=>new Point(sx+(dx*i),sy+(dy*i),sz+(dz*i),sw+(dw*i)));\n  },\n  point:function(order){\n    switch(order){\n    case \"e\": case \"end\":\n      const { x:px,y:py,z:pz,w:pw } = this.end;\n      return new Point(px,py,pz,pw);\n    case \"c\": case \"m\": case \"center\": case \"middle\":\n      const { x:sx, y:sy, z:sz, w:sw } = this.start;\n      const { x:ex, y:ey, z:ez, w:ew } = this.end;\n      return new Point(\n        sx/2 + ex/2,\n        sy/2 + ey/2,\n        sz/2 + ez/2,\n        sw/2 + ew/2\n      );\n    case \"s\": case \"start\":\n    default:\n      const { x,y,z,w } = this.start;\n      return new Point(x,y,z,w);\n    }\n  }\n};\n\n\n\n\nconst Rect = function(left=0,top=0,width=0,height=0,x,y,valid=true){\n  const __ref = { left,top,width,height,x,y,valid }\n  \n  Object.defineProperties(this,{\n    x:{ enumerable:true, get(){ return typeof __ref.x === \"number\" ? __ref.x : __ref.left; } },\n    y:{ enumerable:true, get(){ return typeof __ref.y === \"number\" ? __ref.y : __ref.top; } },\n    width:{ enumerable:true, get(){ return __ref.width; } },\n    height:{ enumerable:true, get(){ return __ref.height; } },\n    left:{ enumerable:true, get(){ return __ref.left; } },\n    top:{ enumerable:true, get(){ return __ref.top; } },\n    right:{ enumerable:true, get(){ return this.left + this.width; } },\n    bottom:{ enumerable:true, get(){ return this.top + this.height; } },\n    valid:{ get(){ return typeof __ref.valid === \"boolean\" ? __ref.valid : (\n      typeof __ref.left === \"number\" &&\n      typeof __ref.top === \"number\" &&\n      __ref.width >= 0 &&\n      __ref.height >= 0\n    ) } }\n  });\n};\n\nRect.prototype = {\n  point (){\n    return new Point(this.x,this.y);\n  },\n  line (order){\n    switch(order){\n    case \"top\": case \"t\":\n      return new Line(this.left,this.top,0,0,this.right,this.top,0,0);\n    case \"right\": case \"r\":\n      return new Line(this.right,this.top,0,0,this.right,this.bottom,0,0);\n    case \"bottom\": case \"b\":\n      return new Line(this.left,this.bottom,0,0,this.right,this.bottom,0,0);\n    case \"left\": case \"l\":\n      return new Line(this.left,this.top,0,0,this.left,this.bottom,0,0);\n    }\n  },\n  toJSON (){\n    return {\n      x:this.x,\n      y:this.y,\n      width:this.width,\n      height:this.height,\n      left:this.left,\n      top:this.top,\n      right:this.right,\n      bottom:this.bottom,\n      valid:this.valid\n    }\n  }\n};\n\nexport const point = function(x,y,z,w){\n  return typeof x === \"object\" ? \n  new Ponint(x.x,x.y,x.z,x.w) : \n  new Ponint(x,y,z,w);\n};\n\nexport const line = function(start,end){\n  new Line(start.x,start.y,start.z,start.w,end.x,end.y,end.z,end.w);\n};\n\nexport const rect = function(left,top,width,height,x,y,valid){\n  return typeof left === \"object\" ?\n  new Rect(left.left,left.top,left.width,left.height,left.x,left.y,left.valid) :\n  new Rect(left,top,width,height,x,y,valid);\n};\n","export const isAbsoluteNaN = function(it){\n  return it!==it && typeof it === \"number\"\n}\n\nexport const isNone = function(data) {\n  return isAbsoluteNaN(data) || data === undefined || data === null\n}\n\nexport const isNumber = function(it){\n  return (typeof it === \"number\" && !isAbsoluteNaN(it))\n}\n\nexport const isInfinity = function(it){\n  return it === Number.POSITIVE_INFINITY || it === Number.NEGATIVE_INFINITY\n}\n\nexport const isInteger = function(value) {\n  //NaN, null, undefined\n  if(isNone(value) === true) return false\n  \n  if(typeof value === \"string\") {\n    value = value.trim()\n  }\n\n  if(!(/string|number/.test(typeof value)) || isInfinity(value) || isNaN(value)) {\n    return false\n  }\n\n  return value == parseInt(value, 10);\n}\n\nexport const isArray = function(data) {\n  return Array.isArray(data) || data instanceof Array;\n}\n\nexport const isObject   = it=>(it !== null && typeof it === \"object\") ? true : false\nexport const isFunction = (it)=>typeof it === \"function\"\n\n/*\n  * likeObject is have hasOwnProperty\n*/\nexport const likeObject = (it)=>isObject(it) || isFunction(it)\n\nexport const likeString = function(data) {\n  if(typeof data === \"string\") return true\n  if(isNumber(data)) return true\n  return false\n}\n\nexport const likeNumber = function(data) {\n  if(isNumber(data) || isInfinity(data)) return true\n  if(typeof data === \"string\") return String(parseFloat(data)) === String(data)\n  return false\n}\n\nexport const likeArray = (function(nodeFn,webFn){\n  let definedNodeList\n  \n  try {\n    definedNodeList = (0 instanceof NodeList)\n    definedNodeList = true\n  } catch(e) {\n    definedNodeList = false;\n  }\n  \n  return definedNodeList ? webFn : nodeFn;\n}(\n  //nodeFn\n  function(data){\n    return (typeof data === \"object\" && data.hasOwnProperty(\"length\")) ? \n    true :\n    isArray(data);\n  },\n  //webFn\n  function(data){\n    return (typeof data === \"object\" && data.hasOwnProperty(\"length\")) ?\n    true :\n    isArray(data) || data instanceof NodeList;\n  }\n))\n\n//TODO : native isPlainObject\nexport const isNode = (a)=>isObject(a) && typeof a.nodeType === \"number\"\n\nexport const isEmpty = function(it){\n  if (typeof it === \"undefined\") return true;\n  if (typeof it === \"string\")return it.trim().length < 1 ? true : false;\n  if (typeof it === \"object\"){\n    if(it == null) return true;\n    if(it instanceof RegExp) return false;      \n    if(isArray(it)) {\n      return !it.length;\n    } else {\n      for (var prop in it) return false; return true;\n    }\n  }\n  if (typeof it === \"number\"){\n    //NaN check || false\n    return it!==it || false;\n  }\n  if (typeof it === \"function\")return false;\n  if (typeof it === \"boolean\")return false;\n  return true;\n}\n\n// check JSON, input.value possible value\nexport const isPresence = function(it){\n  return it === undefined || isAbsoluteNaN(it) ? false : true;\n}\n\nexport const likeRegexp = (s)=> (typeof s === \"string\") || (s instanceof RegExp)\n\nexport const isPlainObject = data => typeof data === \"object\" && data.constructor === Object\n\nexport const isEnumerableObject = data => isPlainObject(data) || isArray(data)\n\n// none(undfinec, null, NaN), value(1,\"1\"), hash({}), array([]), node, object(new, Date), function, boolean\nexport const eqof = function(it){\n  const typeIt = typeof it;\n  switch(typeIt){\n  case \"number\":\n    if(isAbsoluteNaN(it)) return \"none\";\n  case \"string\":\n    return \"value\";\n    break;\n  case \"object\":\n    if(isNone(it)) return \"none\";\n    if(likeArray(it)) return \"array\";\n    if(isNode(it)) return \"node\";\n    if(!isPlainObject(it)) return \"object\";\n    return \"hash\";\n    break;\n  case \"undefined\":\n    return \"none\";\n    break;\n  case \"function\":\n  case \"boolean\":\n  default:\n    return typeIt;\n    break;\n  }\n}\n\nconst baseEq = function(value, other, filter, depth=0, strict){\n  if(arguments.length < 2) return false;\n  \n  const valueType = eqof(value);\n  const otherType = eqof(other);\n  \n  if(valueType !== otherType) return false;\n  \n  switch(valueType){\n  case \"none\":\n    return true;\n  case \"array\":\n    if(value.length !== other.length){\n      return false;\n    }\n    return value.every((vValue,i)=>{\n      const oValue = other[i];\n      return (typeof filter === \"function\" && filter(i,[vValue,oValue],depth) === false) ? true : baseEq(vValue,oValue,filter,depth+1,strict);\n    });\n    break;\n  case \"hash\":\n    const vKeys = Object.keys(value), oKeys = Object.keys(other);\n    if(vKeys.length !== oKeys.length || !baseEq(vKeys.sort(),oKeys.sort())) return false;\n    return vKeys.every((key)=>{\n      const vValue = value[key];\n      const oValue = other[key];\n      return (typeof filter === \"function\" && filter(key,[vValue,oValue],depth) === false) ? true : baseEq(vValue,oValue,filter,depth+1,strict);\n    });\n    break;\n  case \"node\":\n  case \"object\":\n  case \"function\":\n  case \"boolean\":\n  case \"value\":\n  default:\n    return strict ? value === other : value == other;\n  }\n}\n\nexport const isEqual   = (value, other, filter, depth)=>baseEq(value, other, filter, depth, true);\nexport const likeEqual = (value, other, filter, depth)=>baseEq(\n  value,\n  other,\n  (key,values,depth)=>/^(\\$|\\_)/.test(key) ? false : typeof filter === \"function\" ? filter(key,values,depth) : true, \n  depth, \n  true\n);\nexport const eqeq      = (value, other, filter, depth)=>baseEq(value, other, filter, depth, false);\n\nexport const isExsist = function(value){\n  if(value === true){\n    return true;\n  }\n  if(value === false){\n    return false;\n  }\n  if(typeof value === \"string\" || typeof value === \"number\"){\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport const notExsist = value=>!isExsist(value)\n\nexport const likePromise = (target)=>(typeof target === \"object\" && target !== null && typeof target['then'] === \"function\" && typeof target['catch'] === \"function\");","import { rect } from \"../../modules/dimension\";\nimport { likeArray, isNode } from \"../../functions/isLike\";\n\nexport const getNode = function(el){\n  let select = likeArray(el) ? el[0] : el;\n  return isNode(select) ? select : undefined;\n};\n\nexport const isElement = function(el){\n  return el instanceof Element;\n};\n\nexport const getBoundingRect = function(el){\n  el = getNode(el);\n  \n  if(!isElement(el)){\n    return rect({\n      x:0,y:0,left:0,top:0,width:0,height:0,right:0,bottom:0,valid:false\n    });\n  }\n  \n  const doc = document;\n  const win = window;\n  const body = doc.body;\n\n  let offsetX = win.pageXOffset !== undefined ? win.pageXOffset :\n  (doc.documentElement || body.parentNode || body).scrollLeft;\n  let offsetY = win.pageYOffset !== undefined ? win.pageYOffset :\n  (doc.documentElement || body.parentNode || body).scrollTop;\n  \n  const boundingRect = el.getBoundingClientRect();\n\n  if (el !== body) {\n    var parent = el.parentNode;\n\n    while (parent !== body) {\n      offsetX += parent.scrollLeft;\n      offsetY += parent.scrollTop;\n      parent   = parent.parentNode;\n    }\n  }\n  \n  return rect({\n    x     : boundingRect.left + offsetX,\n    y     : boundingRect.top + offsetY,\n    left  : boundingRect.left + offsetX,\n    top   : boundingRect.top + offsetY,\n    width : boundingRect.width,\n    height: boundingRect.height,\n    right : boundingRect.right + offsetX,\n    bottom: boundingRect.bottom + offsetY,\n    valid : true\n  });\n}\n\nexport const getElementBoundingRect = function(el){\n  el = getNode(el);\n  \n  const doc  = document;\n  const win  = window;\n  \n  const elRect = getBoundingRect(el).toJSON();\n  \n  if(elRect.valid === false){\n    return rect(elRect);\n  }\n  \n  let current = el;\n  let parent  = el.parentNode;\n  \n  do {\n    if(parent && (!parent.html && !parent.body)  && /absoute|relative|fixed/.test(win.getComputedStyle(parent).getPropertyValue(\"position\"))){\n      const { top, left } = getBoundingRect(parent);\n      elRect.top   -= top;\n      elRect.left  -= left;\n      elRect.right  = elRect.left + elRect.width;\n      elRect.bottom = elRect.top + elRect.height;\n      current = parent = null;\n    } else if(!parent) {\n      current = null;\n    } else {\n      current = parent;\n      parent = current.parentNode;\n    }\n  } while( !!parent )\n  \n  return rect(elRect);\n}\n\nexport const windowRect = function(){\n  return rect({\n    left:window.screenLeft || window.screenX,\n    top:window.screenTop || window.screenY,\n    width:window.outerWidth,\n    height:window.outerHeight\n  });\n}\n\nexport const screenRect = function(){\n  return rect({\n    left:0,\n    top:0,\n    width:screen.width,\n    height:screen.height\n  });\n}\n\nconst SVGBuilder = function(){\n  this.drawVariants = [];\n};\n\nSVGBuilder.prototype = {\n  addPath (points,attributes){\n    this.drawVariants.push({\n      tag:\"path\",\n      attributes,\n      params:points\n    })\n    return this;\n  },\n  createElement (){\n    const svgTag = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\n    let realMaxWidth  = 0;\n    let realMaxHeigth = 0; \n    \n    this.drawVariants.forEach(({ tag, attributes, params})=>{\n      if( tag === \"path\"){\n        const pathElement = document.createElementNS('http://www.w3.org/2000/svg', \"path\");\n        pathElement.setAttribute(\"fill\",\"transparent\");\n        pathElement.setAttribute(\"stroke\",\"gray\");\n        pathElement.setAttribute(\"stroke-width\",\"1\");\n        pathElement.setAttribute(\"stroke-linecap\",\"butt\");\n        pathElement.setAttribute(\"stroke-linejoin\",\"miter\");\n        \n        let dValue = \"\";\n        \n        params.forEach((point, index)=>{\n          const prefix = index === 0 ? 'M' : 'L';\n          if(point.x > realMaxWidth) realMaxWidth = point.x;\n          if(point.y > realMaxHeigth) realMaxHeigth = point.y;\n          dValue += `${prefix}${point.x} ${point.y} `;\n        });\n        \n        pathElement.setAttribute(\"d\",dValue);\n        svgTag.appendChild(pathElement);\n      }\n    });\n    \n    svgTag.setAttribute(\"width\",realMaxWidth);\n    svgTag.setAttribute(\"height\",realMaxHeigth);\n    return svgTag;\n  }\n}\n\nexport const makeSVG = function(){\n  return new SVGBuilder();\n}","import {\n  isArray,\n  isNone,\n  isAbsoluteNaN,\n  isPlainObject,\n  isObject\n} from './isLike'\n\nexport const asArray = function(data, defaultArray = undefined) {\n  if(isArray(data)) {\n    return data;\n  }\n  if(isNone(data)) {\n    return isArray(defaultArray) ? defaultArray\n      : isNone(defaultArray) ? [] : [defaultArray];\n  }\n  if(typeof data === \"object\" && typeof data.toArray === \"function\") {\n    return data.toArray();\n  }\n  return [data];\n};\n\nexport const toArray = function(data,option){\n  if(typeof data === \"undefined\" || data === null || data === NaN ) return [];\n  if(isArray(data)) return Array.prototype.slice.call(data);\n  if(typeof data === \"object\" && typeof data.toArray === \"function\") return data.toArray();\n  if(typeof data === \"string\", typeof option === \"string\") return data.split(option);\n  return [data];\n}\n\nexport const asObject = function(data, defaultKey = \"default\") {\n  if(isPlainObject(data)){\n    return data;\n  } else {\n    return { [defaultKey]:data }\n  }\n};\n\nexport const toNumber = function(v,d){\n  switch(typeof v){ case \"number\":return v;case \"string\":var r=v.replace(/[^.\\d\\-]/g,\"\")*1;return isAbsoluteNaN(r)?0:r;break; }\n  switch(typeof d){ case \"number\":return d;case \"string\":var r=d*1;return isAbsoluteNaN(r)?0:r;break; }\n  return 0;\n}\n\nexport const cleanObject = function(data){\n  if(data instanceof Array){\n    Array.prototype.splice.call(data,0,data.length)\n  } else if(typeof data == \"object\") {\n    Object.keys(data).forEach(key=>{ delete data[key] })\n  }\n  return data\n}\n\nexport const clone = function(target){\n  switch(typeof target){\n  case \"undefined\": case \"function\": case \"boolean\": case \"number\": case \"string\": return target; break;\n  case \"object\":\n    if(target === null) return target;\n    \n    if(isArray(target)){\n      let r=[];\n      for(let i=0,length=target.length;i<length;i++)r.push(target[i]);\n      return r;\n    }\n    \n    if(!isPlainObject(target)){\n      if(target instanceof Date){\n        let r=new Date();\n        r.setTime(target.getTime());\n        return r;\n      }\n      return target;\n    }\n    \n    let r={};\n    \n    Object.keys(target).forEach(k=>{\n      if(target.hasOwnProperty(k)) r[k]=target[k];\n    });\n    return r;\n    break;\n  default : \n    console.error(\"clone::copy failed : target => \",target);\n    return target; \n    break\n  }\n}\n\nexport const cloneDeep = function(target){\n  if(typeof target === \"object\"){\n    let d;\n    if(isArray(target)) {\n      if(!isArray(d)) { d = [] };\n      for (var i=0,l=target.length;i<l;i++) d.push( ((typeof target[i] === \"object\" && target[i] !== null ) ? clone(target[i]) : target[i]) )\n        return d;\n    } else {\n      d = {}\n      Object.keys(target).forEach(p=>{\n        (typeof target[p] === \"object\" && target[p] !== null && d[p]) ? clone(target[p],d[p]) : d[p] = target[p];\n      });\n      return d;\n    }\n  } else {\n    return clone(target);\n  }\n};\n\nexport const free = function(datum){\n  const dest = {}\n  Object.keys(datum).forEach(key=>{\n    if(!/^\\$/.test(key)){\n      dest[key] = cloneDeep(datum[key])\n    }\n  });\n  return dest;\n}\n\nconst getKeyWithValue = function(obj,value){\n  if(isArray(obj)){\n    for(var i=0,l=obj.length;i<l;i++) if(obj[i]===value) return i;\n  } \n  if(isObject(obj)){\n    for(var key in obj) if(obj[key]===value) return key;\n  }\n  return undefined;\n};\n\nexport const removeValue = function(obj,value){\n  var detect = true;\n  var array  = isArray(obj);\n\n  while(detect) {\n    var key = getKeyWithValue(obj,value);\n    if(typeof key === \"undefined\"){\n      detect = false;\n    } else {\n      if(array){\n        obj.splice(key,1);\n      } else {\n        delete obj[key];\n      }\n    }\n  }\n\n  return obj;\n};\n\nexport const instance = function(func,proto){\n  var ins,DummyInstance=function(param){ if(typeof param === \"object\") for(var k in param) this[k] = param[k]; };\n  if(typeof func == \"object\"){\n    if(typeof proto === \"object\") DummyInstance.prototype = proto;\n    ins = new DummyInstance(func);\n  }\n  if(typeof func == \"function\"){\n    if(typeof proto === \"object\") func.prototype = proto;\n    ins = (new func());\n  }\n  return ins;\n}\n\nexport const alloc = function(init) {\n  let fn = init();\n  const rn = function(...args) {\n    return fn.apply(this, args);\n  };\n  rn['reset'] = function() { fn = init(rn, rn); };\n  rn['$constructor'] = fn;\n  return rn;\n};\n\nconst syncData = (function(){\n  const ENTER_HOOK  = (newDatum)=>_.assign({}, newDatum);\n  const UPDATE_HOOK = (oldDatum, newDatum)=>_.assign({}, oldDatum, newDatum);\n  \n  return function(oldData, newData, getId, options) {\n    if(!/string|function/.test(typeof getId)) throw new Error(\"syncData need getId\");\n  \n    if(typeof getId === \"string\") {\n      const getIdString = getId;\n      getId = e=>_.get(e, getIdString);\n    }\n\n    oldData = asArray(oldData);\n    newData = asArray(newData);\n\n    const result = [];\n    const hooks  = asObject(options,\"afterEach\")\n    \n    if(typeof hooks[\"enter\"] !== \"function\"){\n      hooks[\"enter\"] = ENTER_HOOK;\n    }\n    \n    if(typeof hooks[\"update\"] !== \"function\"){\n      hooks[\"update\"] = UPDATE_HOOK;\n    }\n    \n    const oldDataMap = _.map(oldData, e=>{\n      return { id: getId(e), ref: e };\n    });\n    \n    \n    asArray(newData).forEach((newDatum, i)=>{\n      const newId = getId(newDatum);\n      let oldDatum = _.get(oldDataMap[_.findIndex(oldDataMap, e=>e.id === newId)], \"ref\");\n      let genDatum;\n      let dirty = false;\n\n      if(oldDatum) {\n        // change is not dirty, modify is dirty\n        if(typeof oldDatum !== typeof newDatum) {\n          dirty = false;\n        } else { // same type\n          const oldOwnKeys = Object.keys(oldDatum).filter(key=>!(key.indexOf(\"$\") === 0));\n          const newOwnKeys = Object.keys(newDatum).filter(key=>!(key.indexOf(\"$\") === 0));\n\n          // inspect key chnage\n          if(_.isEqual(oldOwnKeys, newOwnKeys)) {\n            dirty = !_.isEqual(_.pick(oldDatum, oldOwnKeys), _.pick(newDatum, newOwnKeys));\n          } else {\n            dirty = true;\n          }\n        }\n        \n        if(typeof hooks[\"beforeUpdate\"] === \"function\"){\n          if(hooks[\"beforeUpdate\"](oldDatum, newDatum) === false){\n            return;\n          }\n        }\n        \n        genDatum = hooks[\"update\"](oldDatum, newDatum);\n        \n        if(typeof hooks[\"afterUpdate\"] === \"function\"){\n          genDatum = hooks[\"afterUpdate\"](genDatum, oldDatum, newDatum);\n        }\n      } else {\n        if(typeof hooks[\"beforeEnter\"] === \"function\"){\n          if(hooks[\"beforeEnter\"](newDatum) === false){\n            return;\n          }\n        }\n        \n        genDatum = hooks[\"enter\"](newDatum);\n        \n        if(typeof hooks[\"afterEnter\"] === \"function\"){\n          genDatum = hooks[\"afterEnter\"](genDatum, newDatum);\n        }\n      }\n\n      if(typeof hooks[\"afterEach\"] === \"function\") {\n        hooks[\"afterEach\"](genDatum, i, dirty);\n      }\n\n      result.push(genDatum);\n    });\n\n    return result;\n  }\n}())","import { \n  isObject,\n  isArray,\n  isFunction,\n  isNode,\n  isEmpty,\n  likeRegexp,\n} from './isLike'\n\nimport {\n  toArray,\n  asArray,\n  instance\n} from './cast'\n\nimport {\n  get\n} from './read';\n\nexport const unique = function(array){\n  var value = [],result = [], array = toArray(array);\n  for(var i=0,l=array.length;i<l;i++){\n    var unique = true;\n    for(var i2=0,l2=result.length;i2<l2;i2++){\n      if(array[i] == result[i2]){\n        unique = false; break;\n      }\n    }\n    if(unique==true) result.push(array[i]);\n  }\n  return result;\n}\n\nexport const getKeyBy = function(object,value){\n  if(isFunction(value)){\n    if(isArray(object)) for(var i=0,l=object.length;i<l;i++) if(value(object[i],i)===true) return i;\n    if(isObject(object)) for(var key in object) if(value(object[key],key)===true) return key;\n  } else {\n    if(isArray(object)) for(var i=0,l=object.length;i<l;i++) if(object[i]===value) return i;\n    if(isObject(object)) for(var key in object) if(object[key]===value) return key;\n  }\n}\n\nexport const clearOf = function(data,fillFn,sp){\n  if(data instanceof Array){\n    sp = Array.prototype.splice.call(data,0,data.length);\n  } else if(typeof data == \"object\") {\n    sp = {};\n    for(var key in data){ sp[key] = data[key]; delete data[key]; } \n  }\n  return (fillFn && fillFn(data,sp)), data;\n}\n\nexport const insertOf = function(data,v,a){\n  isArray(data) && data.splice(typeof a === \"number\"?a:0,0,v)\n  return data;\n}\n\nexport const moveOf = function(data,oldIndex,newIndex){\n  if(oldIndex !== newIndex && isArray(data) && typeof oldIndex === \"number\" && typeof newIndex === \"number\" && oldIndex >= 0 && oldIndex < data.length){\n    Array.prototype.splice.call(data,newIndex > data.length ? data.length : newIndex,0,Array.prototype.splice.call(data,oldIndex,1)[0]);\n  }\n  return data;\n}\n\nexport const concatOf = function(data,appends){\n  var data = asArray(data);\n  return asArray(appends).forEach(value=>{ data.push(value); }), data;\n}\n\n\nexport const filterOf = function(data,func,exitFn){\n  var data    = asArray(data);\n  var exitCnt = 0;\n\n  for(var i=0,ri=0,keys=Object.keys(data),l=keys.length;i<l;i++,ri++){\n    var key   = keys[i];\n    var value = data[key];\n    var result = func(value,key);\n    if(result == false) {\n      var exit = Array.prototype.splice.call(data,i,1);\n      i--;\n      l--;\n      typeof exitFn === \"function\" && exitFn(value,ri,exitCnt++);\n    }\n  }\n  \n  return data;\n}\n\nexport const sortOf = function(data,filter){\n  if(data.length == 0){\n    return data;\n  }\n  \n  switch(filter){\n  case 'desc':\n    filter = function(a,b){ return a>b; }\n    break;\n  case undefined:\n  case 'asc':\n  default:\n    if(typeof filter !== \"function\"){\n      filter = function(a,b){ return a<b; }\n    }\n    break;\n  }\n\n  var result = [data[0]];\n\n  for(var i=1,l=data.length;i<l;i++){\n    for(var ri=0,rl=result.length;ri<rl;ri++){\n      if(filter(data[i],result[ri]) === true){\n        insertOf(result,data[i],ri);\n        break;\n      }\n      if((ri + 1) === result.length){\n        result.push(data[i]);\n      }\n    }\n  }\n\n  clearOf(data);\n\n  for(var i=0,l=result.length;i<l;data.push(result[i]),i++);\n  \n  return data;\n}\n\nexport const rebase = function(obj,ref){\n  var result = {};\n  for(var key in obj){\n    if(key === \".*\"){\n      var refValue = obj[key];\n      for(var i=0,d=Object.keys(ref),l=d.length;i<l;i++){\n        var refKey = d[i];\n        if(typeof refValue === \"function\"){\n          result[refKey] = obj[key];\n        } else {\n          if((typeof refValue !== \"object\" && typeof refValue !== \"object\") || isNode(refValue)){\n            result[refKey] = refValue;\n          } else {\n            result[refKey] = Object.assign(result[refKey],refValue);\n          }\n        }\n      }\n    } else if(key.indexOf(\",\") > -1){\n      key.split(\",\").forEach(deepKey=>{\n        deepKey = deepKey.trim();\n        if(typeof obj[key] === \"function\"){\n          result[deepKey] = obj[key];\n        } else {\n          if((!result.hasOwnProperty(deepKey) && typeof obj[key] !== \"object\") || isNode(obj[key])){\n            result[deepKey] = obj[key];\n          } else {\n            result[deepKey] = Object.assign( result[deepKey] || (isArray(obj[key]) ? [] : {}), obj[key], obj[deepKey] );\n          }\n\n        }\n      })\n    } else {\n      if(typeof obj[key] === \"function\"){\n        result[key] = obj[key];\n      } else {\n        if((typeof result[key] !== \"object\" && typeof obj[key] !== \"object\") || isNode(obj[key])){\n          result[key] = obj[key]\n        } else {\n          result[key] = Object.assign(result[key],obj[key]);\n        }\n      }\n    }\n  }\n  return result;\n}\n\n\n\n//TODO: Union hasValue\nconst NESTED_HAS_PROC = function(obj,key){\n  var keys = key.split(\".\");\n  if(!keys.length) return false;\n\n  var pointer = obj;\n  for(var ki in keys){\n    var k = keys[ki];\n\n    if(!pointer.hasOwnProperty(k)){\n      return false;\n    } else {\n      pointer = pointer[k];\n    }\n  }\n  return true;\n}\n\nexport const apart = function(text,split,block,blockEnd){\n  if(typeof text !== \"string\") return [text];\n  \n  let result = text.split(split===true?/\\s+/:split||/\\s+/);\n  \n  if(likeRegexp(block)){\n    if(!likeRegexp(blockEnd)){\n      blockEnd = block;\n    }\n    \n    let aparts = []\n    let buffer = { dept:0, parts:[] }\n    \n    for(let d=result,i=0,l=d.length;i<l;i++){\n      let part = d[i]\n      let greb = {\n        start:findIndexes(part,block), \n        end  :findIndexes(part,blockEnd) \n      }\n      \n      console.log(\"part, greb\", part, greb);\n      \n      for(let d=greb.start,i=0,l=d.length;i<l;++i){\n        let startIndex = d[i]\n      }\n    }\n    \n    return aparts;\n  } else {\n    return result;\n  }\n}\n\nexport const diffStructure = function(before,after){\n  var afterKeys = Object.keys(after);\n  var beforeKeys;\n  var canDiff = false;\n  if(isObject(before)){\n    if(isArray(before)){\n      beforeKeys = before;\n    } else {\n      beforeKeys = Object.keys(before);\n      canDiff    = true;\n    }\n  } else {\n    beforeKeys = [];\n  }\n\n  var analysis = {\n    after:after,\n    before:before,\n    keys:unique(afterKeys.concat(beforeKeys)).reduce((dest,key)=>{ dest[key] = undefined;  return dest; },{}),\n    match:[],\n    missing:[],\n    surplus:[],\n    diff:[],\n    pass:false\n  };\n  \n  //match, missing\n  for(var ki in beforeKeys){\n    if(!beforeKeys.hasOwnProperty(ki)) continue;\n      \n    var key = beforeKeys[ki];\n      \n    if(NESTED_HAS_PROC(after,key)){\n      analysis.match.push(key);\n      analysis.keys[key] = \"match\";\n\n      if(canDiff && !angular.equals(get(after,key),get(before,key))) {\n        analysis.diff.push(key);\n        analysis.keys[key] = \"diff\";\n      }\n    } else {\n      analysis.surplus.push(key);\n      analysis.keys[key] = \"surplus\";\n    }\n  }\n\n  //surplus\n  asArray(afterKeys).forEach(key=>{\n    if(!hasValue(analysis.match,key)){\n      analysis.missing.push(key);\n      analysis.keys[key] = \"missing\";\n    }\n  });\n\n  //absolute\n  analysis.pass = !analysis.missing.length && !analysis.surplus.length;\n\n  return analysis;\n}\n\n//PINPONGPOOL INTERFACE\nexport const toggle = function(ta,cv,set){\n  var index = -1;\n  for(let d=asArray(ta),l=d.length,i=0;i<l;i++){\n    if(d[i] == cv) { index = i+1; break; }\n  }\n  if(arguments.length > 2) for(var i=0,l=ta.length;i<l;i++) if( ta[i] == set ) return ta[i];\n  index = ta.length == index ? 0 : index;\n  return ta[index];\n}","/*\n  usage\n  const size = 20\n  const stroke = 1\n\n  const { x, y, radius, diameter } = drawCircleVars(size, stroke);\n  \n  const d = `M${x} ${y} \n  a ${radius} ${radius} 0 0 1 0 ${diameter}\n  a ${radius} ${radius} 0 0 1 0 -${diameter}`\n\n  <svg viewbox=\"0 0 {size} {size}\">\n    <path d=\"{d}\" stroke-width=\"stroke\"></path>\n  </svg>\n*/\nexport const drawCircleVars = function(circleWidth, strokeWidth=0, drawRatio=1){\n  const circumference = ((circleWidth - strokeWidth) / 2 ) * ( 3.14159 * 2 );\n  const radius        = (circumference / ( 3.14159 * 2 ));\n  const diameter      = (radius * 2);\n  const x             = circleWidth / 2;\n  const y             = strokeWidth / 2;\n  //const circumLength  = drawRatio == 1 ? drawRatio : drawRatio * circumference;\n    \n  return { x, y, radius, diameter, circumference, circleWidth, strokeWidth };\n};","import { isArray, asArray } from '../../functions';\n\nexport const readUrl = function(inputUrl){\n  let info;\n  let url; \n    \n  try {\n    url  = inputUrl?inputUrl:window.document.URL.toString();\n    info = /([\\w]+)(\\:[\\/]+)([^/]*\\@|)([\\w\\d\\.\\-\\_\\+]+)(\\:[\\d]+|)(\\/|)([\\w\\d\\.\\/\\-\\_\\;\\=]+|)(\\?[\\d\\w\\=\\&\\%\\,\\.\\/\\(\\)-]+|)(\\#[\\d\\w]*|)/.exec(url);\n  } catch(e) {\n    info = null;\n  }\n  \n  if(info === null) {\n    console.error(\"faild parse url\",inputUrl);\n    return {\n      url:url || null,\n      valid:false\n    };\n  }\n  \n  const protocol = info[1];\n  const divider = info[2];\n  const userinfo = info[3];\n  const hostname = info[4];\n  const port = info[5].substring(1);\n  const path = info[6]+info[7];\n  const query = info[8];\n  const fragment = info[9];\n  const filename = /(\\/|)([\\w\\d\\.\\-\\_]+|)$/.exec(info[6]+info[7])[2];\n  const host = info[1]+info[2]+info[4]+info[5];\n  const params = (function(){\n    const result = {};\n    if(query){\n      query.substr(1).split(\"&\").forEach((onePiece)=>{\n        const entry = onePiece.split(\"=\");\n        result[decodeURI(entry[0])] = decodeURI(entry[1]);\n      });\n    }\n    return result;\n  }());\n\n  return {\n    url,\n    protocol,\n    divider,\n    userinfo,\n    hostname,\n    port,\n    path,\n    query,\n    fragment,\n    filename,\n    host,\n    params,\n    valid:true\n  };\n};\n    \nexport const serialize = function(obj,transform){\n  const params = [];\n  let invalid  = [];\n  \n  Object.keys(obj).forEach(key=>{\n    let value = obj[key];\n    let stringValue = \"\";\n\n    if(typeof value === \"undefined\"){\n      return;\n    } else if(value === null){\n      stringValue = \"\";\n    } else if(isArray(value)){\n      return value.each((val)=>{\n        typeof transform === \"function\" ?\n        params.push(transform(key) + \"=\" + transform(val)):\n        params.push(key + \"=\" + val);\n      });\n    } else if(typeof value === \"object\") {\n      return invalid.push(key);\n    } else {\n      stringValue = value + \"\";\n    }\n          \n    typeof transform === \"function\" ?\n    params.push(transform(key) + \"=\" + transform(stringValue)):\n    params.push(key + \"=\" + stringValue);\n  })\n      \n  if(invalid.length){\n    invalid = null;\n  }\n  \n  return params.join(\"&\");\n}","import { isPlainObject } from '../../functions';\n\nconst $ = require('jquery');\n\nconst getCurrentTarget = function(originalEvent, fallbackElement){\n  let result = originalEvent.currentTarget || originalEvent.target;\n  return (result && result.documentElement) ? (fallbackElement || result.documentElement) : document.documentElement;\n}\n\nconst isElementEvent = $.isElementEvent = function (e){\n  return typeof e.stopPropagation === \"function\";\n}\n\nconst getOriginalEvent = $.getOriginalEvent = function(e){\n  if(!isElementEvent(e)) return undefined;\n};\n\nconst getElementPosition = $.getElementPosition = function(el){\n  let [ element ] = $(el);\n  \n  if(!element) return null;\n  \n  let xPosition = 0;\n  let yPosition = 0;\n  \n  while(element && !element.documentElement){\n    xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft);\n    yPosition += (element.offsetTop  - element.scrollTop  + element.clientTop );\n    element   = element.offsetParent;\n  }\n  \n  return {x:xPosition,y:yPosition};\n}\n\n\nconst getPointerPosition = $.getPointerPosition = function(e, root){\n  \n  root = !root ? document.documentElement : root;\n\n  const evt = getOriginalEvent(e);\n  const pos = getElementPosition(root);\n  \n  if(!pos) return;\n  \n  pos.x = e.touches ? e.touches[0].pageX : e.clientX - pos.x;\n  pos.y = e.touches ? e.touches[0].pageY : e.clientY - pos.y;\n  return pos;\n}\n\n$.fn.extend({\n  //파라메터 노드가 제이쿼리가 가진 노드 안에 있는지 확인\n  containsIn (node){\n    var [ target ] = $(node).eq(0);\n    if(target) for(var i=0,l=this.length;i<l;i++){\n      if(this[i] === target) return true;\n      if(this.eq(i).find(target).length) return true;\n    }\n    return false;\n  },\n  //파라메터 노드가 제이쿼리가 가진 노드 밖에 있는지 확인\n  containsOut (node){\n    return !this.containsIn(node);\n  },\n  /*\n    //\n    $(window).predict()\n    $(window).predict({center:20});\n    $(window).predict({center:event});\n    \n    //TODO\n    $(window).predict(element)\n    $(window).predict(element, {center:20});\n  */\n  predict (option,root){\n    const [ element ] = this.eq(0);\n    if(!element) return;\n    \n    const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = element[\"innerWidth\"] ? {\n      offsetTop   :0, \n      offsetLeft  :0, \n      offsetWidth :window.innerWidth, \n      offsetHeight:window.innerHeight\n    } : element;\n    \n    const result = {\n      top   :offsetTop,\n      left  :offsetLeft,\n      width :offsetWidth,\n      height:offsetHeight,\n      right :offsetLeft + offsetWidth,\n      bottom:offsetTop + offsetHeight,\n      center:offsetLeft + offsetWidth / 2,\n      middle:offsetTop + offsetHeight / 2\n    };\n    \n    \n    //if(isElementEvent(option)){\n    //  const { x:left, y:top } = getPointerPosition(offset);\n    //  option = { left, top };\n    //}\n      \n    if(isPlainObject(option)){\n      const allProps = [\"top\", \"left\", \"width\", \"height\", \"right\", \"bottom\", \"center\", \"middle\"].filter(key=>option.hasOwnProperty(key));\n      \n      //event option\n      allProps.forEach((key)=>{\n        const optionOfKey = option[key]\n        if(!isElementEvent(optionOfKey)) return;\n        const pointerPosition = getPointerPosition(optionOfKey,root || getCurrentTarget(optionOfKey, element) || element);\n        if(!pointerPosition) return;\n        \n        if(/left|width|right|center/.test(key)){\n          option[key] = pointerPosition[\"x\"]\n        }\n        \n        if(/top|middle|bottom|height/.test(key)){\n          option[key] = pointerPosition[\"y\"]\n        }\n      });\n      \n      allProps.forEach((key)=>{\n        if(typeof option[key] !== \"number\") return;\n\n        const valueOfKey = result[key];  \n        let equalize;\n        \n        switch(key){\n        case \"top\":\n        case \"middle\":\n          equalize = [\"y\", option[key] - valueOfKey];\n          break;\n        case \"left\":\n        case \"center\":\n          equalize = [\"x\", option[key] - valueOfKey];\n          break;\n        case \"width\":\n          equalize = [\"width\", option[key] - valueOfKey];\n          break;\n        case \"height\":\n          equalize = [\"height\", option[key] - valueOfKey];\n          break;\n        case \"right\":\n          break;\n        case \"bottom\":\n          break;\n        }\n          \n        switch(equalize && equalize[0]){\n        case \"x\":\n          result[\"left\"]   += equalize[1];\n          result[\"center\"] += equalize[1];\n          result[\"right\"]  += equalize[1];\n          break;\n        case \"y\":\n          result[\"top\"]    += equalize[1];\n          result[\"middle\"] += equalize[1];\n          result[\"bottom\"] += equalize[1];\n          break;\n        case \"width\":\n          result[\"width\"]  += equalize[1];\n          result[\"right\"]  += equalize[1];\n          result[\"center\"] += (result[\"right\"] - result[\"left\"] / 2);\n          break;\n        case \"height\":\n          result[\"height\"] += equalize[1];\n          result[\"bottom\"] += equalize[1];\n          result[\"middle\"] += (result[\"bottom\"] - result[\"top\"] / 2);\n          break;\n        }\n      });\n    }\n    \n    return result;\n  },\n  flash (){\n    \n  }\n});\n\nexport default $;","import $ from '../plugins/jquery';\nimport { rebase } from '../../functions';\n\n//드래그\nconst pointerParse = ({ clientX, clientY })=>{\n  return {\n    x:clientX,\n    y:clientY\n  };\n};\n\nexport default function DragHelper(element,option){\n  const $element = $(element).eq(0);\n  let startFn;\n  let moveFn;\n  let endFn;\n  \n  let dragParams = null;\n  let firstDrag  = null;\n  let lastDrag   = null;\n  \n  const resetOptions = function(){\n    const getOptions = rebase(typeof option === \"function\" ? option({ element:$element }) : option);\n    startFn = getOptions[\"start\"];\n    moveFn = getOptions[\"move\"];\n    endFn = getOptions[\"end\"];\n  };\n  \n  const getCurrentPointerDrag = function(originalEvent){\n    const pointerDrag = pointerParse(originalEvent);\n  \n    //현재 이동한 거리\n    pointerDrag.moveX = pointerDrag.x - lastDrag.x;\n    pointerDrag.moveY = pointerDrag.y - lastDrag.y;\n    \n    //처음으로부터 변경된 거리\n    pointerDrag.offsetX = pointerDrag.x - firstDrag.x;\n    pointerDrag.offsetY = pointerDrag.y - firstDrag.y;\n    \n    //처음으로 부터 변경되어 엘리먼트 오프셋 크기\n    pointerDrag.leftValue = dragParams.offset.left + pointerDrag.offsetX;\n    pointerDrag.topValue  = dragParams.offset.top + pointerDrag.offsetY;\n    \n    pointerDrag.left = pointerDrag.leftValue + \"px\";\n    pointerDrag.top  = pointerDrag.topValue + pointerDrag.offsetY + \"px\";\n    \n    return pointerDrag;\n  }\n  \n  const dragEnter = function({ originalEvent }){\n    //init\n    resetOptions();\n    \n    //\n    const elementOffset = $element.predict();\n    const pointerDrag   = pointerParse(originalEvent);\n    \n    firstDrag = pointerDrag;\n    lastDrag  = pointerDrag;\n    \n    dragParams = { offset:elementOffset, pointer:undefined, event:originalEvent };\n    dragParams.pointer = getCurrentPointerDrag(originalEvent);\n    \n    startFn && startFn(dragParams);\n    \n    $(document)\n    .on(\"mousemove\",dragMove)\n    .on(\"mouseup\",dragExit);\n    \n    $(\"body\").attr(\"dragging\", \"\");\n  };\n  \n  const dragMove = function({ originalEvent }){\n    const pointerDrag = pointerParse(originalEvent);\n    if(!moveFn){\n      lastDrag = pointerDrag;\n      return;\n    } else {\n      dragParams.pointer = getCurrentPointerDrag(originalEvent);\n      dragParams.event   = originalEvent;\n      moveFn(dragParams);\n      lastDrag = pointerDrag;\n    }\n  };\n  \n  const dragExit = function({ originalEvent }){\n    dragParams.pointer = getCurrentPointerDrag(originalEvent);\n    dragParams.event   = originalEvent;\n    endFn && endFn(dragParams);\n    dragParams = undefined;\n    \n    $(document)\n    .off(\"mousemove\",dragMove)\n    .off(\"mouseup\",dragExit);\n    \n    $(\"body\").removeAttr(\"dragging\");\n  };\n  \n  $element.on(\"mousedown\",dragEnter);\n  \n  return $element;\n}","import { asArray } from '../../functions';\n\nexport default function RepeatHelper({ key, enter:enterFn, update:updateFn, exit:exitFn }){\n  // {key:string, vm:Component}\n  let oldBag = [];\n  \n  // 모델의 키를 얻는 함수\n  const getKey = typeof key === \"function\" ? key : function(datum){\n    return datum[key];\n  }\n  \n  // ng-repeat, v-for와 같은 리피터 구현체 (d3의 data().enter().exit() 컨샙이 비슷함)\n  const repeater = function(data){\n    let newData = asArray(data);\n    let newBag  = [];\n    \n    //새 데이터를 검사합니다.\n    newData.forEach((datum, index)=>{\n      //키를 추출합니다.\n      const newDatumKey = getKey(datum) || index;\n      \n      //키 샘플입니다.\n      const newMeta = {\n        key:newDatumKey,\n        datum:datum,\n      };\n      \n      //매치되는 오래된 메타를 확인합니다.\n      const matchOldMeta = oldBag.find(old=>old.key === newDatumKey);\n      \n      //오래된 메타가 확인될 시\n      if(matchOldMeta){\n        //exit를 하지 않고 살립니다.\n        newMeta.vm = matchOldMeta.vm;\n        matchOldMeta.$continue = true;\n      }\n      \n      newBag.push(newMeta);\n    });\n    \n    //exit (require)\n    oldBag.forEach(oldMeta=>{\n      if(!oldMeta.$continue){\n        exitFn(oldMeta);\n      }\n    });\n    \n    //메타에 추가 정보 입력 (prevVm)\n    newBag.forEach((newMeta, index)=>{\n      const prevMeta = newBag[index - 1];\n      if(prevMeta && prevMeta[\"vm\"]){\n        newMeta[\"prevVm\"] = prevMeta[\"vm\"];\n      }\n    });\n    \n    //enter (require)\n    newBag.forEach((newMeta, index)=>{\n      if(!newMeta.vm){\n        let result = enterFn(newMeta, index);\n        if(!result){\n          throw new Error(\"enter는 반드시 vm을 리턴해야합니다.\");\n        } else {\n          newMeta[\"vm\"] = result;\n        }\n      }\n    });\n    \n    //update (option)\n    updateFn && newBag.forEach((newMeta, index)=>{\n      updateFn(newMeta, index);\n    });\n    \n    //history change\n    oldBag = newBag;\n  }\n  \n  //컴포넌트에서 정렬된 데이터를 얻기위한 용도로 제작. Component에서 (개발 시간상) 한계로 이곳에서 수행\n  repeater[\"vm\"] = function(){\n    return oldBag.map(d=>d.vm);\n  }\n  \n  return repeater;\n};","import _dragHelper from './dragHelper';\nimport _repeatHelper from './repeatHelper';\n\nexport const dragHelper   = _dragHelper\nexport const repeatHelper = _repeatHelper","import * as helpers from './web/index.js'\nconst DEFAULT = { ...helpers }\nexport default DEFAULT;"],"names":["WINDOW_POPUP_DEFAULT_WIDTH","WINDOW_POPUP_DEFAULT_HEIGHT","openWindow","href","windowParam","hasParam","windowName","useResize","destWindowWidth","destWindowHeight","destWindowTop","destWindowLeft","availMaxWidth","screen","availWidth","availMaxHeight","availHeight","navigator","platform","indexOf","newWindow","window","open","closeWindow","close","openTab","focus","historyBack","catchFallback","history","initialPage","length","location","back","e","toDataString","tods","JSON","stringify","fromDataString","v","eval","setLocalData","k","localStorage","Object","keys","forEach","setItem","key","getLocalData","arguments","stringData","getItem","undefined","Point","x","y","z","w","__ref","defineProperties","enumerable","get","prototype","pull","width","angle","xHalf","Line","toObject","sx","sy","sz","sw","ex","ey","ez","ew","start","end","points","pointCount","divCount","dx","dy","dz","dw","Array","fill","map","i","point","order","px","py","pz","pw","Rect","left","top","height","valid","right","bottom","line","toJSON","rect","isAbsoluteNaN","it","isNone","data","isArray","isObject","likeArray","nodeFn","webFn","definedNodeList","NodeList","hasOwnProperty","isNode","a","nodeType","isPlainObject","constructor","getNode","el","select","isElement","Element","getBoundingRect","doc","document","win","body","offsetX","pageXOffset","documentElement","parentNode","scrollLeft","offsetY","pageYOffset","scrollTop","boundingRect","getBoundingClientRect","parent","getElementBoundingRect","elRect","current","html","test","getComputedStyle","getPropertyValue","windowRect","screenLeft","screenX","screenTop","screenY","outerWidth","outerHeight","screenRect","SVGBuilder","drawVariants","addPath","attributes","push","tag","params","createElement","svgTag","createElementNS","realMaxWidth","realMaxHeigth","pathElement","setAttribute","dValue","index","prefix","appendChild","makeSVG","asArray","defaultArray","toArray","rebase","obj","ref","result","refValue","d","l","refKey","assign","split","deepKey","trim","readUrl","inputUrl","info","url","URL","toString","exec","console","error","protocol","divider","userinfo","hostname","port","substring","path","query","fragment","filename","host","substr","onePiece","entry","decodeURI","serialize","transform","invalid","value","stringValue","each","val","join","$","require","getCurrentTarget","originalEvent","fallbackElement","currentTarget","target","isElementEvent","stopPropagation","getOriginalEvent","getElementPosition","element","xPosition","yPosition","offsetLeft","clientLeft","offsetTop","clientTop","offsetParent","getPointerPosition","root","evt","pos","touches","pageX","clientX","pageY","clientY","fn","extend","containsIn","node","eq","find","containsOut","predict","option","offsetWidth","innerWidth","offsetHeight","innerHeight","center","middle","allProps","filter","optionOfKey","pointerPosition","valueOfKey","equalize","flash","pointerParse","DragHelper","$element","startFn","moveFn","endFn","dragParams","firstDrag","lastDrag","resetOptions","getOptions","getCurrentPointerDrag","pointerDrag","moveX","moveY","leftValue","offset","topValue","dragEnter","elementOffset","pointer","event","on","dragMove","dragExit","attr","off","removeAttr","RepeatHelper","enterFn","enter","updateFn","update","exitFn","exit","oldBag","getKey","datum","repeater","newData","newBag","newDatumKey","newMeta","matchOldMeta","old","vm","$continue","oldMeta","prevMeta","Error","dragHelper","_dragHelper","repeatHelper","_repeatHelper","DEFAULT","helpers"],"mappings":"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"}
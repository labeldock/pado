{"version":3,"file":"pado.web.js","sources":["../packages/pado/web/env/window.js","../packages/pado/web/env/storage.js","../packages/pado/functions/isLike.js","../packages/pado/functions/cast.js","../packages/pado/functions/enumerable.js","../packages/pado/functions/nice.js","../packages/pado/functions/matrix.js","../packages/pado/modules/matrix.js","../packages/pado/modules/stance.js","../packages/pado/web/env/dom.js","../packages/pado/functions/functions.js","../packages/pado/functions/draw.js","../packages/pado/web/env/url.js","../packages/pado/web/env/transform.js","../packages/pado/web/env/svg.js","../packages/pado/web/finder/query-selector.js","../packages/pado/web/finder/query-finder.js","../packages/pado/web/finder/easy.js","../packages/pado/web/helper/dragHelper.js","../packages/pado/web/helper/repeatHelper.js","../packages/pado/web/helper/index.js","../packages/pado/web/index.js","../packages/pado/pado.web.js"],"sourcesContent":["const { windowServiceReserveSession, getOpenerPresenceProperties } = (function (){\n  //to children\n  const reservedSessionStorage = {}\n  \n  //my window\n  let pulledWindowToken\n  let pulledWindowSession\n  let openerPresenceProps\n  \n  //(부모) 윈도우의 정보를 저장\n  const windowServiceReserveSession = function (name, data, listenHandshake){\n    if(listenHandshake === true){\n      window.windowServiceHandshake = function (){\n        delete window.windowServiceHandshake\n        return name\n      }\n    }\n    reservedSessionStorage[name] = data\n    return reservedSessionStorage[name]\n  }\n\n  //자식에게 세션을 당겨올수 있도록 지원\n  const windowServicePullSession = function (name){\n    //console.log(\"windowServicePullSession\",name);\n    var data = reservedSessionStorage[name]\n    delete reservedSessionStorage[name]\n    return data\n  }\n  \n  //\n  const getOpenerPresenceProperties = function (){\n    if(typeof openerPresenceProps === \"function\"){\n      return openerPresenceProps()\n    }\n    return openerPresenceProps\n  }\n  \n  window.windowServiceReserveSession = windowServiceReserveSession\n  window.windowServicePullSession = windowServicePullSession\n\n  try {\n    if(window.opener && window.opener.windowServiceHandshake){\n      pulledWindowToken = window.opener.windowServiceHandshake()\n    }\n  } catch (e){\n    console.warn(\"window.opener.windowServiceHandshake error\")\n  }\n    \n  if(pulledWindowToken && window.opener && window.opener.windowServicePullSession){\n    pulledWindowSession = window.opener.windowServicePullSession(pulledWindowToken)\n    openerPresenceProps = pulledWindowSession\n    \n    //임의로 언로드 됐을때 세션을 임시 저장\n    var saveSessionFn = function (){\n      try {\n        window.opener &&\n        window.opener.windowServiceReserveSession &&\n        window.opener.windowServiceReserveSession(pulledWindowSession.token, pulledWindowSession, true)\n      } catch (e){\n        console.warn(\"Parent window not found.\", e)\n      }\n    }\n    \n    window.addEventListener(\"beforeunload\", saveSessionFn)\n  }\n  \n  return { windowServiceReserveSession, getOpenerPresenceProperties }\n}())\n\nexport const windowProps = getOpenerPresenceProperties\n\nconst WINDOW_POPUP_DEFAULT_WIDTH = 1100\nconst WINDOW_POPUP_DEFAULT_HEIGHT = 900\n\nexport const openWindow = function (href, windowParam){\n  const hasParam    = typeof windowParam === \"object\"\n  const windowName  = hasParam && windowParam[\"name\"] || \"_blank\"\n  const useResize   = (hasParam && windowParam[\"resize\"] + \"\") !== \"false\"\n  const windowProps = hasParam ? windowParam[\"props\"] : undefined\n  \n  let destWindowWidth  = (hasParam && windowParam[\"width\"] || WINDOW_POPUP_DEFAULT_WIDTH)\n  let destWindowHeight = (hasParam && windowParam[\"height\"] || WINDOW_POPUP_DEFAULT_HEIGHT)\n  let destWindowTop    = (hasParam && windowParam[\"top\"] || windowParam[\"y\"] || 0)\n  let destWindowLeft   = (hasParam && windowParam[\"left\"] || windowParam[\"x\"] || 0)\n\n  const availMaxWidth = screen.availWidth\n  let availMaxHeight = screen.availHeight\n\n  // IE bottom bar\n  if(navigator.platform.indexOf(\"Win\") === 0){\n    availMaxHeight -= 65\n  }\n\n  if(destWindowWidth > availMaxWidth) destWindowWidth = availMaxWidth\n  if(destWindowHeight > availMaxHeight) destWindowHeight = availMaxHeight\n  \n  windowServiceReserveSession(windowName, windowProps, true)\n  \n  const newWindow = window.open(\n    href,\n    windowName,\n    `top=${destWindowTop},left=${destWindowLeft},width=${destWindowWidth},height=${destWindowHeight}${useResize ? \",resizable=1\" : \",resizable=0\"},scrollbars=yes,status=1`\n  )\n\n  return newWindow\n}\n\nexport const closeWindow = function (){\n  window.close()\n}\n\nexport const openTab = function (href){\n  const newWindow = window.open(href, '_blank')\n  newWindow.focus()\n  return newWindow\n}\n\nexport const historyBack = function ({ catchFallback }){\n  try {\n    const history = window.history\n    const initialPage = history.length < 2\n\n    if(initialPage && catchFallback){\n      if(typeof catchFallback === \"string\"){\n        location.href = catchFallback\n      }\n      if(typeof catchFallback === \"function\"){\n        return catchFallback()\n      }\n    } else {\n      history.back()\n    }\n  } catch (e){\n    return null\n  }\n}\n","const toDataString = function (tods){ \n  switch (typeof tods){\n    case \"string\":\n      return `\"${tods}\"`\n    case \"object\":\n      return JSON.stringify(tods)\n    case \"boolean\": case \"undefined\": case \"number\":\n    default:\n      return `${tods}`\n  }\n}\n\nconst fromDataString = function (v){ \n  // eslint-disable-next-line no-eval\n  return eval(\"(\" + v + \")\")\n}\n\n//로컬스토리지 데이터 저장\nexport const setLocalData = function (k, v){\n  const localStorage = window.localStorage\n  if(typeof k === \"object\"){\n    Object.keys(k).forEach(key=>{\n      localStorage.setItem(key, toDataString(k[key]))\n    })\n  } else {\n    localStorage.setItem(k, toDataString(v))\n  }\n  return true\n}\n\n//로컬스토리지 데이터 불러오기\nexport const getLocalData = function (k){\n  const localStorage = window.localStorage\n  if(!arguments.length) return localStorage\n  let stringData = localStorage.getItem(k)\n  return (stringData == null) ? undefined : fromDataString(stringData)\n}\n","export const isAbsoluteNaN = function (it){\n  // eslint-disable-next-line no-self-compare\n  return it !== it && typeof it === \"number\"\n}\n\nexport const isNone = function (data){\n  return isAbsoluteNaN(data) || data === undefined || data === null\n}\n\nexport const isInfinity = function (it){\n  return it === Number.POSITIVE_INFINITY || it === Number.NEGATIVE_INFINITY\n}\n\nexport const isNumber = function (it){\n  return (typeof it === \"number\" && !isInfinity(it) && !isAbsoluteNaN(it))\n}\n\nexport const isInteger = function (value){\n  //NaN, null, undefined\n  if(isNone(value) === true) return false\n  \n  if(typeof value === \"string\"){\n    value = value.trim()\n  }\n\n  if(!(/string|number/.test(typeof value)) || isInfinity(value) || isNaN(value)){\n    return false\n  }\n\n  return value == parseInt(value, 10)\n}\n\nexport const isArray = function (data){\n  return Array.isArray(data) || data instanceof Array\n}\n\nexport const isObject   = it=>!!((it !== null && typeof it === \"object\"))\nexport const isFunction = (it)=>typeof it === \"function\"\n\n/*\n  * likeObject is have hasOwnProperty\n*/\nexport const likeObject = (it)=>isObject(it) || isFunction(it)\n\nexport const likeString = function (data){\n  if(typeof data === \"string\") return true\n  if(isNumber(data)) return true\n  return false\n}\n\nexport const likeNumber = function (data){\n  if(isNumber(data) || isInfinity(data)) return true\n  if(typeof data === \"string\") return String(parseFloat(data)) === String(data)\n  return false\n}\n\nexport const likeArray = function (item){\n  return (\n    Array.isArray(item) || \n    ( \n      item !== null &&\n      typeof item === \"object\" &&\n      item.hasOwnProperty(\"length\") && \n      typeof item.length === \"number\" && \n      item.length > 0\n    )\n  )\n}\n\nexport const isPlainObject = data=>typeof data === \"object\" && data.constructor === Object\n\nexport const isEnumerableObject = data=>isPlainObject(data) || isArray(data)\n\nexport const isNode = (a)=>isObject(a) && typeof a.nodeType === \"number\"\n\nexport const isEmpty = function (it){\n  if(typeof it === \"undefined\") return true\n  if(typeof it === \"string\") return it.trim().length < 1\n  if(typeof it === \"object\"){\n    if(it == null) return true\n    if(it instanceof RegExp) return false      \n    if(isArray(it)){\n      return !it.length\n    } else {\n      for(var prop in it) return false; return true\n    }\n  }\n  if(typeof it === \"number\"){\n    //NaN check \n    return isAbsoluteNaN(it) || false\n  }\n  if(typeof it === \"function\") return false\n  if(typeof it === \"boolean\") return false\n  return true\n}\n\n// check JSON, input.value possible value\nexport const isPresence = function (it){\n  return !(it === undefined || isAbsoluteNaN(it))\n}\n\nexport const likeRegexp = (s)=>(typeof s === \"string\") || (s instanceof RegExp)\n\n// none(undfinec, null, NaN), value(1,\"1\"), hash({}), array([]), node, object(new, Date), function, boolean\nexport const eqof = function (it){\n  const typeIt = typeof it\n  switch (typeIt){\n    case \"number\":\n      if(isAbsoluteNaN(it)) return \"none\"\n    case \"string\":\n      return \"value\"\n      break\n    case \"object\":\n      if(isNone(it)) return \"none\"\n      if(likeArray(it)) return \"array\"\n      if(isNode(it)) return \"node\"\n      if(!isPlainObject(it)) return \"object\"\n      return \"hash\"\n      break\n    case \"undefined\":\n      return \"none\"\n      break\n    case \"function\":\n    case \"boolean\":\n    default:\n      return typeIt\n      break\n  }\n}\n\nconst baseEq = function (value, other, filter, depth = 0, strict){\n  if(arguments.length < 2) return false\n  \n  const valueType = eqof(value)\n  const otherType = eqof(other)\n  \n  if(valueType !== otherType) return false\n  \n  switch (valueType){\n    case \"none\":\n      return true\n    case \"array\":\n      if(value.length !== other.length){\n        return false\n      }\n      return value.every((vValue, i)=>{\n        const oValue = other[i]\n        return (typeof filter === \"function\" && filter(i, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"hash\":\n      const vKeys = Object.keys(value); const oKeys = Object.keys(other)\n      if(vKeys.length !== oKeys.length || !baseEq(vKeys.sort(), oKeys.sort())) return false\n      return vKeys.every((key)=>{\n        const vValue = value[key]\n        const oValue = other[key]\n        return (typeof filter === \"function\" && filter(key, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"node\":\n    case \"object\":\n    case \"function\":\n    case \"boolean\":\n    case \"value\":\n    default:\n      return strict ? value === other : value == other\n  }\n}\n\nexport const isEqual   = (value, other, filter, depth)=>baseEq(value, other, filter, depth, true)\nexport const likeEqual = (value, other, filter, depth)=>baseEq(\n  value,\n  other,\n  (key, values, depth)=>/^(\\$|\\_)/.test(key) ? false : typeof filter === \"function\" ? filter(key, values, depth) : true, \n  depth, \n  true\n)\nexport const eqeq      = (value, other, filter, depth)=>baseEq(value, other, filter, depth, false)\n\nexport const isExsist = function (value){\n  if(value === true){\n    return true\n  }\n  if(value === false){\n    return false\n  }\n  if(typeof value === \"string\" || typeof value === \"number\"){\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const notExsist = value=>!isExsist(value)\n\nexport const likePromise = (target)=>(typeof target === \"object\" && target !== null && typeof target['then'] === \"function\" && typeof target['catch'] === \"function\")\n","import {\n  isArray,\n  isNone,\n  isAbsoluteNaN,\n  isPlainObject,\n  isObject\n} from './isLike'\n\nexport const asArray = function (data, defaultArray = undefined){\n  if(isArray(data)){\n    return data\n  }\n  if(isNone(data)){\n    return isArray(defaultArray) ? defaultArray\n      : isNone(defaultArray) ? [] : [defaultArray]\n  }\n  if(typeof data === \"object\" && typeof data.toArray === \"function\"){\n    return data.toArray()\n  }\n  return [data]\n}\n\nexport const toArray = function (data, option){\n  if(typeof data === \"undefined\" || data === null || isAbsoluteNaN(data)) return []\n  if(isArray(data)) return Array.prototype.slice.call(data)\n  if(typeof data === \"object\" && typeof data.toArray === \"function\") return data.toArray()\n  if(typeof data === \"string\" && typeof option === \"string\") return data.split(option)\n  return [data]\n}\n\nexport const asObject = function (data, defaultKey = \"default\"){\n  if(isPlainObject(data)){\n    return data\n  } else {\n    return { [defaultKey]: data }\n  }\n}\n\nexport const toNumber = function (v, d){\n  switch (typeof v){ case \"number\":return v; case \"string\":const vr = v.replace(/[^.\\d\\-]/g, \"\") * 1; return isAbsoluteNaN(vr) ? 0 : vr; break }\n  switch (typeof d){ case \"number\":return d; case \"string\":const dr = d * 1; return isAbsoluteNaN(dr) ? 0 : dr; break }\n  return 0\n}\n\nexport const cleanObject = function (data){\n  if(data instanceof Array){\n    Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    Object.keys(data).forEach(key=>{ delete data[key] })\n  }\n  return data\n}\n\nexport const clone = function (target){\n  switch (typeof target){\n    case \"undefined\": case \"function\": case \"boolean\": case \"number\": case \"string\": return target; break\n    case \"object\":\n      if(target === null) return target\n    \n      if(isArray(target)){\n        let r = []\n        for(let i = 0, length = target.length; i < length; i++)r.push(target[i])\n        return r\n      }\n    \n      if(!isPlainObject(target)){\n        if(target instanceof Date){\n          let r = new Date()\n          r.setTime(target.getTime())\n          return r\n        }\n        return target\n      }\n    \n      let r = {}\n    \n      Object.keys(target).forEach(k=>{\n        if(target.hasOwnProperty(k)) r[k] = target[k]\n      })\n      return r\n      break\n    default : \n      console.error(\"clone::copy failed : target => \", target)\n      return target \n      break\n  }\n}\n\nexport const cloneDeep = function (target){\n  if(typeof target === \"object\"){\n    let d\n    if(isArray(target)){\n      if(!isArray(d)){ d = [] };\n      for(var i = 0, l = target.length; i < l; i++) d.push(((typeof target[i] === \"object\" && target[i] !== null) ? clone(target[i]) : target[i]))\n      return d\n    } else {\n      d = {}\n      Object.keys(target).forEach(p=>{\n        (typeof target[p] === \"object\" && target[p] !== null && d[p]) ? clone(target[p], d[p]) : d[p] = target[p]\n      })\n      return d\n    }\n  } else {\n    return clone(target)\n  }\n}\n\nexport const free = function (datum){\n  const dest = {}\n  Object.keys(datum).forEach(key=>{\n    if(!/^\\$/.test(key)){\n      dest[key] = cloneDeep(datum[key])\n    }\n  })\n  return dest\n}\n\nconst getKeyWithValue = function (obj, value){\n  if(isArray(obj)){\n    for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return i\n  } \n  if(isObject(obj)){\n    for(var key in obj) if(obj[key] === value) return key\n  }\n  return undefined\n}\n\nexport const removeValue = function (obj, value){\n  var detect = true\n  var array  = isArray(obj)\n\n  while(detect){\n    var key = getKeyWithValue(obj, value)\n    if(typeof key === \"undefined\"){\n      detect = false\n    } else {\n      if(array){\n        obj.splice(key, 1)\n      } else {\n        delete obj[key]\n      }\n    }\n  }\n\n  return obj\n}\n\nexport const instance = function (func, proto){\n  var ins; var DummyInstance = function (param){ if(typeof param === \"object\") for(var k in param) this[k] = param[k] }\n  if(typeof func == \"object\"){\n    if(typeof proto === \"object\") DummyInstance.prototype = proto\n    ins = new DummyInstance(func)\n  }\n  if(typeof func == \"function\"){\n    if(typeof proto === \"object\") func.prototype = proto\n    ins = (new func())\n  }\n  return ins\n}\n\nexport const alloc = function (init){\n  let fn = init()\n  const rn = function (...args){\n    return fn.apply(this, args)\n  }\n  rn['reset'] = function (){ fn = init(rn, rn) }\n  rn['$constructor'] = fn\n  return rn\n}\n\n// TODO\n/*\nconst syncData = (function (){\n  const ENTER_HOOK  = (newDatum)=>Object.assign({}, newDatum)\n  const UPDATE_HOOK = (oldDatum, newDatum)=>Object.assign({}, oldDatum, newDatum)\n  \n  return function (oldData, newData, getId, options){\n    if(!/string|function/.test(typeof getId)) throw new Error(\"syncData need getId\")\n  \n    if(typeof getId === \"string\"){\n      const getIdString = getId\n      getId = e=>_.get(e, getIdString)\n    }\n\n    oldData = asArray(oldData)\n    newData = asArray(newData)\n\n    const result = []\n    const hooks  = asObject(options, \"afterEach\")\n    \n    if(typeof hooks[\"enter\"] !== \"function\"){\n      hooks[\"enter\"] = ENTER_HOOK\n    }\n    \n    if(typeof hooks[\"update\"] !== \"function\"){\n      hooks[\"update\"] = UPDATE_HOOK\n    }\n    \n    const oldDataMap = _.map(oldData, e=>{\n      return { id: getId(e), ref: e }\n    })\n    \n    \n    asArray(newData).forEach((newDatum, i)=>{\n      const newId = getId(newDatum)\n      \n      let oldDatum = _.get(oldDataMap[_.findIndex(oldDataMap, e=>e.id === newId)], \"ref\")\n      let genDatum\n      let dirty = false\n      // eslint-disable-next-line no-undef\n      if(oldDatum){\n        // change is not dirty, modify is dirty\n        if(typeof oldDatum !== typeof newDatum){\n          dirty = false\n        } else { // same type\n          const oldOwnKeys = Object.keys(oldDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n          const newOwnKeys = Object.keys(newDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n\n          // inspect key chnage\n          if(_.isEqual(oldOwnKeys, newOwnKeys)){\n            dirty = !_.isEqual(_.pick(oldDatum, oldOwnKeys), _.pick(newDatum, newOwnKeys))\n          } else {\n            dirty = true\n          }\n        }\n        \n        if(typeof hooks[\"beforeUpdate\"] === \"function\"){\n          if(hooks[\"beforeUpdate\"](oldDatum, newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"update\"](oldDatum, newDatum)\n        \n        if(typeof hooks[\"afterUpdate\"] === \"function\"){\n          genDatum = hooks[\"afterUpdate\"](genDatum, oldDatum, newDatum)\n        }\n      } else {\n        if(typeof hooks[\"beforeEnter\"] === \"function\"){\n          if(hooks[\"beforeEnter\"](newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"enter\"](newDatum)\n        \n        if(typeof hooks[\"afterEnter\"] === \"function\"){\n          genDatum = hooks[\"afterEnter\"](genDatum, newDatum)\n        }\n      }\n\n      if(typeof hooks[\"afterEach\"] === \"function\"){\n        hooks[\"afterEach\"](genDatum, i, dirty)\n      }\n\n      result.push(genDatum)\n    })\n\n    return result\n  }\n}())\n*/\n","import {\n  isArray\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nexport const all = function (data, fn){\n  data = asArray(data)\n  \n  if(data.length === 0){\n    return false\n  }\n  \n  for(let i = 0, l = data.length; i < l; i++){\n    if(!fn(data[i], i)){\n      return false\n    } \n  };\n  \n  return true\n}\n\nexport const times = function (length, fn){\n  const result = []\n  for(var i = 0, l = length; i < l; i++){\n    result.push(fn(i))\n  }\n  return result\n}\n\nexport const hashMap = function (object, fn){\n  if(typeof object === \"object\" && !isArray(object)) for(var k in object) object[k] = fn(object[k], k)\n  else return fn(object, (void 0))\n  return object\n}\n\nexport const pairs = (inputArr, fn) => {\n  let result = [];\n  for(let i=0,l=inputArr.length;i<l;i++){\n    for(let ai=0,al=l;ai<al;(i!==ai && result.push([inputArr[i],inputArr[ai]])),ai++);\n  }\n  return typeof fn === \"function\" ? result.map(applyArgs=>fn.apply(undefined,applyArgs)) : result;\n}","import { isNumber, isArray, isAbsoluteNaN } from './isLike'\nimport { asArray } from './cast'\n\nexport const limitNumber = (function (){\n  const limitOf = function (number, max, min){\n    if(typeof number == \"number\"){\n      if(isAbsoluteNaN(number) || number === Infinity){\n        return min\n      }\n      if(isNumber(min) && (number < min)){\n        return min\n      }\n      if(isNumber(max) && (number > max)){\n        return max\n      }\n    }\n    return number\n  }\n  const limitNumber = function (numbers, max, min){\n    if(typeof max !== \"number\"){ max = Number.POSITIVE_INFINITY }\n    if(typeof min !== \"number\"){\n      if(min === null || isAbsoluteNaN(min)){\n        min = Number.NEGATIVE_INFINITY\n      } else {\n        min = 0\n      }\n    }\n    if(isArray(numbers)){\n      for(var d = numbers, i = 0, l = d.length; i < l; i++){\n        d[i] = limitOf(d[i], max, min)\n      }\n      return numbers\n    } else {\n      return limitOf(numbers, max, min)\n    }\n  }\n  return limitNumber\n}())\n\nexport const accurateTimeout = (function (originalTimeout){\n  return function (trigger, time = 0, resolutionRatio = 0.75, coverage = 25){\n    let destTime = Date.now() + time\n    \n    if(!isNumber(time)){\n      time = 0\n    }\n    \n    if(!isNumber(resolutionRatio)){\n      resolutionRatio = 0.75\n    }\n    \n    if(!isNumber(coverage)){\n      resolutionRatio = 25\n    }\n    \n    if(resolutionRatio > 1){\n      resolutionRatio = 1\n    }\n        \n    if(resolutionRatio < 0.1){\n      resolutionRatio = 0.1\n    }\n    \n    if(coverage < 5){\n      coverage = 5\n    }\n        \n    function preparation (restTime){\n      const preparaTime = Math.floor(restTime * resolutionRatio)\n      originalTimeout(execution, preparaTime)\n    }\n        \n    function execution (){\n      const restTime = destTime - Date.now()\n        \n      if(restTime < coverage){\n        if(restTime < 1){\n          originalTimeout(trigger, 0)\n        } else {\n          originalTimeout(trigger, restTime)\n        }\n      } else {\n        preparation(restTime)\n      }\n    }\n    \n    execution()\n  }\n}(setTimeout))\n\nexport const turn = function (i, limit, ts, resultHook){\n  if(i < 0){ \n    let abs = Math.abs(i / ts) \n    i = limit - (abs > limit ? abs % limit : abs)\n  }\n  ts = typeof ts === \"number\" ? ts : 1\n  const fixIndex = Math.floor(i / ts)\n  const result = (limit > fixIndex) ? fixIndex : fixIndex % limit\n  return typeof resultHook === \"function\" ? resultHook(result, i, limit, ts) : result\n}\n\nexport const turnTime = function (i, limit, ts){\n  return turn(i, limit, ts, (result, i, limit, ts)=>[result, Math.floor(i / (limit * ts))])\n}\n\nexport const toggle = function (toggleArgs, currentValue, step = 1){\n  return (toggleArgs = asArray(toggleArgs)) && toggleArgs[(toggleArgs.findIndex(val=>val === currentValue) + step) % toggleArgs.length]\n}\n","import { asArray, cloneDeep } from './cast'\nimport { likeArray, isNumber, isAbsoluteNaN } from './isLike'\nimport { top } from './reduce'\nimport { turn, limitNumber } from './nice'\nimport { hashMap, times } from './enumerable'\n\nexport const rangeModel = function (value, step, sizeBase){\n  let start, end, reverse\n  \n  if(typeof value === \"number\"){\n    end = value\n    start = 0\n  } else if(typeof value === \"object\"){\n    start = value[0]\n    end = value[1]\n      \n    if(!step && typeof value[2] === \"number\"){\n      step = value[2]\n    }\n      \n    if(typeof sizeBase !== \"boolean\"){\n      sizeBase = false\n    }\n  }\n  \n  /*\n  if(typeof start !== \"number\" || typeof end !== \"number\"){\n    if(typeof start !== \"number\" && typeof end !== \"number\") return r\n    if(typeof start === \"number\") return r.push(start), r\n    if(typeof end === \"number\") return r.push(end), r\n  }\n  */\n  \n  if(start > end){\n    reverse = end\n    end = start\n    start = reverse\n    reverse = true\n  }\n  \n  end = parseFloat(end)\n  end = isAbsoluteNaN(end) ? 0 : end\n  start = parseFloat(start)\n  start = isAbsoluteNaN(start) ? 0 : start\n  step = parseFloat(step)\n  step = isAbsoluteNaN(step) || step == 0 ? 1 : step\n  \n  return {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  }\n}\n\nexport const range = function (value, stepSize, sizeBaseRange){\n  let r = []\n  let {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  } = rangeModel(value, stepSize, sizeBaseRange)\n  \n  if(step <= 0){ return console.warn(\"range::not support minus step\"), r };\n  if(sizeBase == false){ for(var i = start, l = end; i <= l; i = i + step) r.push(i) } else { for(var i = start, l = end; i < l; i = i + step) r.push(i) }\n  return reverse ? r.reverse() : r\n}\n\nexport const domainRangeValue = function (domain, range, vs, nice, limit){\n  return hashMap(cloneDeep(vs), function (v, sel){\n    const $range  = sel ? range[sel] : range\n    const $domain = sel ? domain[sel] : domain\n    if(!$range || !$domain){ return v }\n                    \n    const dSize = $domain[1] - $domain[0]\n    const sSize = $range[1] - $range[0]\n    const dRate = (v - $domain[0]) / dSize\n    const calc  = $range[0] + sSize * dRate\n    const result = nice ? Math.floor(calc) : calc\n    \n    return limit \n      ? $range[1] > $range[0] \n        ? limitNumber(result, $range[1], $range[0])\n        : limitNumber(result, $range[0], $range[1])\n      : result\n  })\n}\n\nexport const domainRangeInterpolate = function (domain, range, nice, limit){\n  let _domain = domain\n  let _range  = range\n  let _nice   = nice\n  \n  const interpolate = (value)=>domainRangeValue(_domain, _range, value, _nice, limit)\n  \n  interpolate.domain = (domain)=>{\n    _domain = domain\n    return interpolate\n  }\n  interpolate.range = (range)=>{\n    _range = range\n    return interpolate\n  }\n  interpolate.nice = (nice)=>{\n    _nice = nice\n    return interpolate\n  }\n  \n  return interpolate\n}\n\n//matrixRange([1],[3]) // [[1], [2], [3]] \n//matrixRange([1,1],[3,3]) // [[1, 1], [2, 1], [3, 1], [1, 2], [2, 2], [3, 2], [1, 3], [2, 3], [3, 3]]\n\nexport const matrixRange = function (start, end, step, sizeBase){\n  var scales = []\n  var maxLength = top([start.length, end.length])\n    \n  var selectLengthes = times(maxLength, function (scaleIndex){\n    const rangeResult = range([start[scaleIndex], end[scaleIndex]], step, sizeBase)\n    scales.push(rangeResult)\n    return rangeResult.length\n  })\n\n  var result = times(selectLengthes.reduce(function (redu, value){\n    return redu * value\n  }, 1), function (){ return new Array(maxLength) })\n    \n  var turnSize = 1\n  \n  \n  asArray(scales).forEach((scaleCase, scaleIndex)=>{\n    var scaleCaseLength = scaleCase.length\n    times(result.length, function (time){\n      result[time][scaleIndex] = scaleCase[turn(time, scaleCaseLength, turnSize)]\n    })\n    turnSize = turnSize * scaleCaseLength\n  })\n    \n  return result\n}\n\n//validate matrix format\nexport const validMatrix = function (arr){\n  // Matrix must be array\n  if(!likeArray(arr)){\n    return false\n  }\n  \n  // Empty is valid\n  if(arr.length === 0){\n    return true\n  }\n  \n  //find some error ( return true => false)\n  return !Array.from(arr).some((v)=>{\n    if(likeArray(v)){\n      //length check\n      if(v.length !== arr.length) return true\n      //type check\n      return v.some(likeError=>!(likeError == undefined || isNumber(likeError)))\n    }\n    return true\n  })\n}\n\n// real matrix model\nexport const asMatrix = function (arr, columnSize){\n  const result = []\n  if(typeof columnSize === \"number\" && columnSize > 0){\n    const rowCount = Math.ceil(arr.length / columnSize)\n    times(rowCount, i=>{\n      const column = []\n      times(columnSize, ci=>{ column.push(arr[i * columnSize + ci]) })\n      result.push(column)\n    })\n  } else {\n    return [arr]\n  }\n  return result\n}\n\nexport const multiplyMatrix = function (aMatrix, bMatrix){\n  if(!validMatrix(aMatrix) && validMatrix(bMatrix)){\n    return null\n  }\n  if(aMatrix[0].length !== bMatrix.length){\n    return null\n  }\n  const result = []\n  times(bMatrix.length, rRowIndex=>{\n    const columnLength = bMatrix[rRowIndex].length\n    const columnResult = []\n    times(columnLength, rColumnIndex=>{\n      //var calcLog = [];\n      const multiplied = aMatrix[rRowIndex].reduce((dist, num, index)=>{\n        //calcLog.push(`${num} * ${bMatrix[index][rColumnIndex]}`)\n        return num * bMatrix[index][rColumnIndex] + dist\n      }, 0)\n      //console.log(\"calcLog\",calcLog.join(\" + \"))\n      columnResult.push(multiplied)\n    })\n    result.push(columnResult)\n  })\n  return result\n}\n","import { asArray } from '../functions/cast'\nimport { times } from '../functions/enumerable'\nimport { turnTime } from '../functions/nice'\n\nexport const MatrixArray = (function (){\n  const MatrixArray = function (data, column, row){\n    asArray(data).forEach(datum=>{ this.push(datum) })\n    \n    Object.defineProperties(this, {\n      column: {\n        enumerable: false,\n        value     : column\n      },\n      row: {\n        enumerable: false,\n        value     : row\n      },\n      length: {\n        enumerable: false\n      }\n    })\n  }\n\n  MatrixArray.prototype = Object.assign([], {\n    toMatrix (eachResultHook){\n      const result = []\n      eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n\n      times(this.column * this.row, (index)=>{\n        const [ colIndex, rowIndex ] = turnTime(index, this.column)\n        const data       = this[index]\n        const dataResult = eachResultHook ? eachResultHook(data, index, colIndex, rowIndex) : data\n        if(!result[rowIndex]) result[rowIndex] = []\n        result[rowIndex].push(dataResult)\n      })\n      \n      return result\n    },\n    toArray (){\n      return Array.from(this)\n    },\n    eachColumn (eachFn){\n      const rows = this.toMatrix()\n      const columns = times(this.column, colIndex=>{\n        const colData = []\n        rows.forEach(row=>colData.push(row[colIndex]))\n        return colData\n      })\n      \n      return typeof eachFn === \"function\" ? columns.map(eachFn) : columns\n    },\n    eachRow (eachFn){\n      const rows = this.toMatrix()\n      return typeof eachFn === \"function\" ? rows.map(eachFn) : rows\n    },\n    multiply (){\n      //TODO\n    }\n  })\n  \n  return MatrixArray\n})()\n\nexport const makeMatrixArray = function (column, row, eachHook){\n  const matrixProto = times(column * row, (index)=>{\n    const [ colIndex, rowIndex ] = turnTime(index, column)\n    return eachHook(index, colIndex, rowIndex) || [colIndex, rowIndex]\n  })\n  \n  const matrixArray = new MatrixArray(matrixProto, column, row)\n  return matrixArray\n}\n","import { isArray, isNumber } from '../functions/isLike'\nimport { asArray } from '../functions/cast'\nimport { validMatrix, multiplyMatrix } from '../functions/matrix'\nimport { makeMatrixArray } from './matrix'\n\n\nconst likePoint = function (p){\n  return typeof p === \"object\" && p.hasOwnProperty(\"x\") && p.hasOwnProperty(\"y\")\n}\n\nconst calcTransformedPoint = (__ref, { matrix, perspectiveOrigin })=>{\n  // yet support affin\n  //let perspectiveVar = (this.meta && this.meta.perspective)\n  //perspectiveVar = !isNumber(perspectiveVar) ? 0 : perspectiveVar;\n  //perspectiveVar = -1/perspectiveVar;\n  //perspectiveVar = isInfinity(perspectiveVar) ? 0 : (perspectiveVar || 0) ;\n  if(!matrix) return\n  \n  const transformPoint = {}\n  const {x:px = 0, y:py = 0, z:pz = 0} = perspectiveOrigin || {x: 0, y: 0, z: 0}\n  const [[x], [y], [z], [w]] = multiplyMatrix(matrix, [[__ref.x - px], [__ref.y - py], [__ref.z - pz], [__ref.w]])\n  \n  transformPoint.x = x + px + matrix[0][3]\n  transformPoint.y = y + py + matrix[1][3]\n  transformPoint.z = z + pz + matrix[2][3]\n  transformPoint.w = w\n  \n  return transformPoint\n}\n\nconst Point = function (x = 0, y = 0, z = 0, w = 1, meta){\n  // base point config\n  const __ref = { x, y, z, w }\n  let __meta = {}\n  let __transformedPoint\n  \n  Object.defineProperties(this, {\n    x: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.x : __ref.x\n        }\n        return __ref.x\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.x = v\n      }\n    },\n    y: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.y : __ref.y\n        }\n        return __ref.y\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.y = v\n      }\n    },\n    z: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.z : __ref.z\n        }\n        return __ref.z\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.z = v\n      }\n    },\n    w: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.w : __ref.w\n        }\n        return __ref.w\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.w = v\n      }\n    },\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        __transformedPoint = undefined\n        return __meta\n      }\n    },\n    transform: {\n      enumerable  : false,\n      configurable: false,\n      writable    : true,\n      value       : false\n    },\n    rx: { enumerable: false,\n      get       : ()=>{\n        const rangeWidth = (this.meta && this.meta.range && this.meta.range.width) || 0\n        return this.x / rangeWidth\n      }\n    },\n    ry: { \n      enumerable: false,\n      get       : ()=>{\n        const rangeHeight = (this.meta && this.meta.range && this.meta.range.height) || 0\n        return this.y / rangeHeight\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nPoint.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Point(this.x, this.y, this.z, this.w, this.meta)\n  },\n  call (fn){\n    if(typeof fn === \"function\"){\n      return fn(this) || this\n    }\n    return this\n  },\n  toJSON (withMeta){\n    const json = { x: this.x, y: this.y, z: this.z, w: this.w }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  pull (width = 0, angle = \"horizontal\"){\n    const { x, y, z, w } = this\n    switch (angle){\n      case \"h\": case \"horizontal\":\n        const xHalf = width <= 0 ? 0 : width / 2\n        return new Vertex([{x: x - xHalf, y, z, w}, {x: x + xHalf, y, z, w}])\n      default:\n    }\n  },\n  vertexWith (destPoint){\n    const points = asArray(destPoint)\n    points.unshift(this)\n    return new Vertex(points)\n  },\n  rectWith ({x, y}){\n    const [largeX, smallX] = this.x > x ? [ this.x, x ] : [ x, this.x ]\n    const [largeY, smallY] = this.y > y ? [ this.y, y ] : [ y, this.y ]\n    return new Rect(smallX, smallY, largeX - smallX, largeY - smallY, 0, 0)\n  },\n  applyTransform (){\n    const {x, y, z, w} = this\n    this.transform = false\n    this.x = x\n    this.y = y\n    this.z = z\n    this.w = w\n    return this\n  },\n  setTransform (matrix44 = this.meta.matrix){\n    if(!validMatrix(matrix44)){\n      this.transform = false\n      throw new Error('Point::setTransform invalid matrix', matrix44)\n      return this\n    }\n    \n    this.meta.matrix = matrix44\n    this.transform = true\n    \n    return this\n  },\n  add ({ x, y, z, w }){\n    isNumber(x) && x && (this.x += x)\n    isNumber(y) && y && (this.y += y)\n    isNumber(z) && z && (this.z += z)\n    isNumber(w) && w && (this.w += w)\n    return this\n  },\n  subtract ({ x, y, z, w }){\n    isNumber(x) && x && (this.x -= x)\n    isNumber(y) && y && (this.y -= y)\n    isNumber(z) && z && (this.z -= z)\n    isNumber(w) && w && (this.w -= w)\n    return this\n  }\n}\n\nconst Vertex = function (pointArray, meta){\n  let __meta\n  \n  Object.defineProperties(this, {\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ __meta = typeof it === \"object\" ? it : null; return __meta }\n    }\n  })\n  \n  this.meta = meta\n  \n  asArray(pointArray).forEach(point=>{\n    if(!likePoint(point)) return\n    const {x, y, z, w} = point\n    this.push(new Point(x, y, z, w, __meta))\n  })\n};\n\n(function (classFunction, methods){\n  const prototype = []\n  \n  classFunction.prototype = prototype\n  \n  Object.keys(methods).forEach(key=>{\n    prototype[key] = methods[key]\n  })\n  \n  Object.defineProperties(prototype, {\n    start: {\n      enumerable: false,\n      get (){\n        return this[0]\n      }\n    },\n    end: {\n      enumerable: false,\n      get (){\n        return !this.length ? void 0 : this[this.length - 1]\n      }\n    }\n  })\n}(Vertex, {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  toJSON (withMeta){\n    const result = []\n    this.forEach(p=>result.push(p.toJSON(withMeta)))\n    return result\n  },\n  clone (){\n    return new Vertex(this)\n  },\n  eq (index){\n    return this[index]\n  },\n  join: function (fn){\n    const joins = []\n    this.forEach((refp, i)=>{\n      joins.push(refp)\n      if(!this[i + 1]) return\n      const newp = fn(refp, this[i + 1], i)\n      if(!likePoint(newp)) return\n      const {x, y, z, w, meta} = newp\n      joins.push(new Point(x, y, z, w, meta))\n    })\n    this.splice(0, this.length)\n    joins.forEach(p=>this.push(p))\n    return this\n  },\n  point (order){\n    switch (order){\n      case \"e\": case \"end\":\n      case \"d\": case \"down\": case \"r\": case \"right\":\n        const { x:px, y:py, z:pz, w:pw } = this.end\n        return new Point(\n          px,\n          py,\n          pz,\n          pw,\n          this.meta\n        )\n      case \"c\": case \"m\": case \"center\": case \"middle\":\n        const { x:sx, y:sy, z:sz, w:sw } = this.start\n        const { x:ex, y:ey, z:ez, w:ew } = this.end\n        return new Point(\n          sx / 2 + ex / 2,\n          sy / 2 + ey / 2,\n          sz / 2 + ez / 2,\n          sw / 2 + ew / 2,\n          this.meta\n        )\n      case \"s\": case \"start\":\n      case \"u\": case \"up\": case \"l\": case \"left\":\n      default:\n        const { x, y, z, w } = this.start\n        return new Point(\n          x,\n          y,\n          z,\n          w,\n          this.meta\n        )\n    }\n  },\n  rect (){\n    const first = this[0]\n    \n    if(!first){\n      return new Rect(0, 0, 0, 0)\n    }\n    \n    let left = first.x\n    let right = first.x\n    let top = first.y\n    let bottom = first.y\n    \n    for(let d = this, i = 1, l = this.length; i < l; i++){\n      const p = d[i]\n      p.x < left && (left = p.x)\n      p.x > right && (right = p.x)\n      p.y < top && (top = p.y)\n      p.y > bottom && (bottom = p.y)\n    }\n    \n    return new Rect(left, top, right - left, bottom - top)\n  },\n  setTransform (param){\n    this.forEach(p=>p.setTransform(param))\n    return this\n  }\n}))\n\n\nconst Rect = function (left = 0, top = 0, width = 0, height = 0, meta = null){\n  const __ref = { left, top, width, height }\n  let __meta = {}\n  \n  Object.defineProperties(this, {\n    width: { \n      enumerable: true, \n      get (){ return __ref.width },\n      set (newValue){\n        __ref.width = newValue\n        return newValue\n      }\n    },\n    height: { \n      enumerable: true, \n      get (){ return __ref.height },\n      set (newValue){\n        __ref.height = newValue\n        return newValue\n      }\n    },\n    left: { enumerable: true,\n      get (){ return __ref.left },\n      set (newValue){\n        __ref.left = newValue\n        return newValue\n      }\n    },\n    top: { enumerable: true,\n      get (){ return __ref.top },\n      set (newValue){\n        __ref.top = newValue\n        return newValue\n      }\n    },\n    right : { enumerable: true, get (){ return this.left + this.width } },\n    bottom: { enumerable: true, get (){ return this.top + this.height } },\n    meta  : {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        return __meta\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nconst splitCountParser = (split)=>{\n    //splitCount [ horizental, vertical ]\n    //1 = [ 1 ]\n    //[1, 2] = [1, 2]\n  const [ columnOrder, rowOrder ] = asArray(split)\n  return {\n    column: isNumber(columnOrder) && columnOrder > 0 ? parseInt(columnOrder, 10) : 1,\n    row   : isNumber(rowOrder) && rowOrder > 0 ? parseInt(rowOrder, 10) : 1\n  }\n}\n\nRect.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Rect(this.left, this.top, this.width, this.height, this.meta)\n  },\n  toJSON (withMeta){\n    const json = {width: this.width, height: this.height, left: this.left, top: this.top, right: this.right, bottom: this.bottom }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  defaultPerspective (){\n    return {\n      perspective      : 0,\n      perspectiveOrigin: {\n        x: this.left + (this.width / 2),\n        y: this.top + (this.height / 2),\n        z: 0\n      }\n    }\n  },\n  findPoint (findWord){\n    const [ lineFind, pointFind ] = isArray(findWord) ? findWord : findWord.trim().split(/\\s+/)\n    return this.vertex(lineFind).point(pointFind)\n  },\n  vertex (order){\n    const inheritMeta = Object.assign(this.defaultPerspective(), this.meta)\n    \n    switch (order){\n      case \"right\": case \"r\":\n        return new Vertex([{x: this.right, y: this.top, z: 0, w: 0}, {x: this.right, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"bottom\": case \"b\":\n        return new Vertex([{x: this.left, y: this.bottom, z: 0, w: 0}, {x: this.right, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"left\": case \"l\":\n        return new Vertex([{x: this.left, y: this.top, z: 0, w: 0}, {x: this.left, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"top\": case \"t\":\n        return new Vertex([{x: this.left, y: this.top, z: 0, w: 0}, {x: this.right, y: this.top, z: 0, w: 0}], inheritMeta)\n      case \"middle\": case \"m\":\n        const middleY = this.height / 2 + this.top\n        return new Vertex(\n          [\n            {x: this.left, y: middleY, z: 0, w: 0},\n            {x: this.right, y: middleY, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n      case \"center\": case \"c\":\n        const centerX = this.width / 2 + this.x\n        return new Vertex(\n          [\n            {x: centerX, y: this.top, z: 0, w: 0},\n            {x: centerX, y: this.bottom, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n      default:\n        return new Vertex(\n          [\n            {x: this.left, y: this.top, z: 0, w: 0},\n            {x: this.left, y: this.bottom, z: 0, w: 0},\n            {x: this.right, y: this.bottom, z: 0, w: 0},\n            {x: this.right, y: this.top, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n    }\n  },\n  transformRect (){\n    this.vertex()\n  },\n  piecesWithCount (splitCount, eachResultHook){\n    const { column, row } = splitCountParser(splitCount)\n    const width = this.width\n    const height = this.height\n    const pieceWidth = width / column\n    const pieceHeight = height / row\n    eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n    \n    \n    const pacExt = { ...this.defaultPerspective() }\n    \n    if(this.meta.matrix && this.meta.matrix instanceof Array){\n      Object.assign(pacExt, {\n        matrix: this.meta.matrix\n      })\n    }\n    \n    const pacResult = makeMatrixArray(column, row, (index, colIndex, rowIndex)=>{\n      const pacMeta = { \n        column: colIndex,\n        row   : rowIndex,\n        coords: [colIndex, rowIndex], \n        range : { width, height },\n        ...pacExt\n      }\n      \n      //\n      const result = new Rect(colIndex * pieceWidth, rowIndex * pieceHeight, pieceWidth, pieceHeight, pacMeta)\n      return eachResultHook ? eachResultHook(result, index, colIndex, rowIndex) : result\n    })\n    \n    return pacResult\n  },\n  diff ({ left:aleft = 0, top:atop = 0, width:awidth = 0, height:aheight = 0, right:aright, bottom:abottom }){\n    const diffResult = {}\n    const original = this.toJSON()\n    const offset = {left: 0, top: 0}\n    Object.defineProperties(diffResult, {\n      left: {\n        enumerable: true, \n        get       : ()=>original.left - aleft + offset.left,\n        set       : (want)=>{ offset.left = typeof want === \"number\" ? -original.left + want : 0 }\n      },\n      top: {\n        enumerable: true,\n        get       : ()=>original.top - atop + offset.top,\n        set       : (want)=>{ offset.top = typeof want === \"number\" ? -original.top + want : 0 }\n      },\n      width : { enumerable: true, get: ()=>original.width - awidth},\n      height: { enumerable: true, get: ()=>original.height - aheight},\n      right : { enumerable: true, get: ()=>original.right - aright + offset.left},\n      bottom: { enumerable: true, get: ()=>original.bottom - abottom + offset.top},\n      x     : { enumerable: false, get: ()=>offset.left},\n      y     : { enumerable: false, get: ()=>offset.top},\n      offset: {\n        enumerable: false,\n        get       : ()=>()=>({\n          x     : offset.left,\n          y     : offset.top,\n          right : diffResult.right,\n          bottom: diffResult.bottom,\n          over  : diffResult.right > diffResult.bottom ? diffResult.right : diffResult.bottom\n        })\n      },\n      move: {\n        enumerable: false,\n        get       : ()=>(nleft, ntop)=>{\n          diffResult.left = typeof nleft === \"number\" ? nleft : aleft\n          diffResult.top = typeof ntop === \"number\" ? ntop : atop\n          return diffResult\n        }\n      },\n      toJSON: {\n        enumerable: false,\n        get       : ()=>()=>({ ...diffResult })\n      }\n    })\n    \n    return diffResult\n  },\n  fitRatio (rect){\n    if(typeof rect !== \"object\"){ throw new Error(\"fit::argument[0] is not object\"); }\n    const { width, height } = rect;\n    \n    if(!isNumber(width) || !isNumber(height)){ throw new Error(\"fit::argument[0] is not { width:Number, height:Number }\"); }\n    const WHRatio = [ width / this.width, height / this.height ];\n    const transformRatio = WHRatio.sort()[0];\n    return transformRatio;\n  },\n  fit (rect){\n    const transformRatio = this.fitRatio(rect);\n    \n    this.width = (this.width * transformRatio) || 0;\n    this.height = (this.height * transformRatio) || 0;\n    \n    return this;\n  },\n  //TODO : incompleted sticky(parent, position, offset);\n  sticky ({left:refX, top:refY, width:refWidth, height:refHeight}, position = \"bottom left\"){\n    const { left, top, width, height } = this\n    switch (position){\n      case \"bl\": case \"obl\": case \"bottom left\": case \"outer bottom left\":\n        return rect({\n          left: refX,\n          top : refY + refHeight,\n          width,\n          height\n        })\n      case \"c\": case \"m\": case \"mc\": case \"center\": case \"middle\": case \"middle center\":\n        return rect({\n          left: refX + refWidth / 2 - width / 2,\n          top : refY + refHeight / 2 - height / 2,\n          width,\n          height\n        })\n      default:\n        return rect({ left, top, width, height })\n    }\n  },\n  add ({ left, top, width, height }){\n    isNumber(left) && left && (this.left += left)\n    isNumber(top) && top && (this.top += top)\n    isNumber(width) && width && (this.width += width)\n    isNumber(height) && height && (this.height += height)\n    return this\n  },\n  subtract ({ left, top, width, height }){\n    isNumber(left) && left && (this.left -= left)\n    isNumber(top) && top && (this.top -= top)\n    isNumber(width) && width && (this.width -= width)\n    isNumber(height) && height && (this.height -= height)\n    return this\n  }\n}\n\nexport const point = function (x, y, z, w){\n  return typeof x === \"object\" \n    ? new Point(x.x, x.y, x.z, x.w) \n    : new Point(x, y, z, w)\n}\n\nexport const vertex = function (start, end){\n  return new Vertex([{x: start.x, y: start.y, z: start.z, w: start.w}, {x: end.x, y: end.y, z: end.z, w: end.w}])\n}\n\nexport const rect = function (left, top, width, height, x, y, valid){\n  return typeof left === \"object\"\n    ? new Rect(left.left, left.top, left.width, left.height, left.x, left.y, left.valid)\n    : new Rect(left, top, width, height, x, y, valid)\n}\n","import { rect } from \"../../modules/stance\"\nimport { likeArray, isNode } from \"../../functions/isLike\"\n\nexport const getNode = function (el){\n  let select = likeArray(el) ? el[0] : el\n  return isNode(select) ? select : undefined\n}\n\nexport const isElement = function (el){\n  return el instanceof Element\n}\n\nexport const getElementOffsetRect = function (el){\n  el = getNode(el)\n  \n  if(!isElement(el)){\n    return rect({\n      x     : 0, y     : 0, left  : 0, top   : 0, width : 0, height: 0, right : 0, bottom: 0, valid : false\n    })\n  }\n  \n  let offsetLeft = 0\n  let offsetTop  = 0\n  let offsetWidth = el.offsetWidth\n  let offsetHeight = el.offsetHeight\n  \n  do {\n    offsetLeft += el.offsetLeft\n    offsetTop += el.offsetTop\n    el = el.offsetParent\n      \n    if((!el.html && !el.body) && /absoute|relative|fixed/.test(window.getComputedStyle(el).getPropertyValue(\"position\"))){\n      el = null\n    }\n  } while(el)\n  \n  \n  return rect({\n    x     : offsetLeft,\n    y     : offsetTop,\n    left  : offsetLeft,\n    top   : offsetTop,\n    width : offsetWidth,\n    height: offsetHeight,\n    valid : true\n  })\n}\n\nconst getBoundingRect = function (el){\n  el = getNode(el)\n  \n  if(!isElement(el)){\n    return rect({\n      x     : 0, y     : 0, left  : 0, top   : 0, width : 0, height: 0, right : 0, bottom: 0, valid : false\n    })\n  }\n  \n  const doc = document\n  const win = window\n  const body = doc.body\n\n  let offsetX = win.pageXOffset !== undefined ? win.pageXOffset\n    : (doc.documentElement || body.parentNode || body).scrollLeft\n  let offsetY = win.pageYOffset !== undefined ? win.pageYOffset\n    : (doc.documentElement || body.parentNode || body).scrollTop\n  \n  const boundingRect = el.getBoundingClientRect()\n\n  if(el !== body){\n    let parent = el.parentNode\n    while(parent && parent !== body){\n      offsetX += parent.scrollLeft\n      offsetY += parent.scrollTop\n      parent = parent.parentNode\n    }\n  }\n  \n  return rect({\n    x     : boundingRect.left + offsetX,\n    y     : boundingRect.top + offsetY,\n    left  : boundingRect.left + offsetX,\n    top   : boundingRect.top + offsetY,\n    width : boundingRect.width,\n    height: boundingRect.height,\n    right : boundingRect.right + offsetX,\n    bottom: boundingRect.bottom + offsetY,\n    valid : true\n  })\n}\n\nexport const getElementBoundingRect = function (el){\n  el = getNode(el)\n  \n  //const doc  = document\n  const win  = window\n  \n  const elRect = getBoundingRect(el).toJSON()\n  \n  if(elRect.valid === false){\n    return rect(elRect)\n  }\n  \n  let current = el\n  let parent  = el.parentNode\n  \n  do {\n    if(parent && (!parent.html && !parent.body) && /absoute|relative|fixed/.test(win.getComputedStyle(parent).getPropertyValue(\"position\"))){\n      const { top, left } = getBoundingRect(parent)\n      elRect.top -= top\n      elRect.left -= left\n      elRect.right = elRect.left + elRect.width\n      elRect.bottom = elRect.top + elRect.height\n      current = parent = null\n    } else if(!parent){\n      current = null\n    } else {\n      current = parent\n      parent = current.parentNode\n    }\n  } while(parent)\n  \n  return rect(elRect)\n}\n\nexport const windowRect = function (){\n  return rect({\n    left  : window.screenLeft || window.screenX,\n    top   : window.screenTop || window.screenY,\n    width : window.outerWidth,\n    height: window.outerHeight\n  })\n}\n\nexport const screenRect = function (){\n  return rect({\n    left  : 0,\n    top   : 0,\n    width : screen.width,\n    height: screen.height\n  })\n}\n","import { \n  isObject,\n  isArray,\n  isFunction,\n  isNode,\n  isEqual\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nimport {\n  get,\n  hasValue\n} from './read'\n\nexport const unique = function (array, findKey){\n  const result    = []\n  const uniqueSet = new Set()\n  if(typeof findKey === \"undefined\"){ findKey = (v)=>v }\n  if(typeof findKey === \"string\"){ const keyPath = findKey; findKey = (v)=>v[keyPath] }\n  array.forEach((v)=>{\n    const key = findKey(v)\n    if(uniqueSet.has(key)) return\n    uniqueSet.add(key)\n    result.push(v)\n  })\n  return result\n}\n\nexport const getKeyBy = function (object, value){\n  if(isFunction(value)){\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(value(object[i], i) === true) return i\n    if(isObject(object)) for(var key in object) if(value(object[key], key) === true) return key\n  } else {\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(object[i] === value) return i\n    if(isObject(object)) for(var key in object) if(object[key] === value) return key\n  }\n}\n\nexport const moveOf = function (data, oldIndex, newIndex){\n  if(oldIndex !== newIndex && isArray(data) && typeof oldIndex === \"number\" && typeof newIndex === \"number\" && oldIndex >= 0 && oldIndex < data.length){\n    Array.prototype.splice.call(data, newIndex > data.length ? data.length : newIndex, 0, Array.prototype.splice.call(data, oldIndex, 1)[0])\n  }\n  return data\n}\n\nexport const concatOf = function (data, appends){\n  var data = asArray(data)\n  return asArray(appends).forEach(value=>{ data.push(value) }), data\n}\n\n\nexport const filterOf = function (data, func, exitFn){\n  var data    = asArray(data)\n  var exitCnt = 0\n\n  for(var i = 0, ri = 0, keys = Object.keys(data), l = keys.length; i < l; i++, ri++){\n    var key   = keys[i]\n    var value = data[key]\n    var result = func(value, key)\n    if(result == false){\n      /*\n      var exit = Array.prototype.splice.call(data, i, 1)\n      */\n      i--\n      l--\n      typeof exitFn === \"function\" && exitFn(value, ri, exitCnt++)\n    }\n  }\n  \n  return data\n}\n\nexport const clearOf = function (data, fillFn, sp){\n  if(data instanceof Array){\n    sp = Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    sp = {}\n    for(var key in data){ sp[key] = data[key]; delete data[key] } \n  }\n  return (fillFn && fillFn(data, sp)), data\n}\n\nexport const insertOf = function (data, v, a){\n  isArray(data) && data.splice(typeof a === \"number\" ? a : 0, 0, v)\n  return data\n}\n\nexport const sortOf = function (data, filter){\n  if(data.length == 0){\n    return data\n  }\n  \n  switch (filter){\n    case 'desc':\n      filter = function (a, b){ return a > b }\n      break\n    case undefined:\n    case 'asc':\n    default:\n      if(typeof filter !== \"function\"){\n        filter = function (a, b){ return a < b }\n      }\n      break\n  }\n\n  var result = [data[0]]\n\n  for(var i = 1, l = data.length; i < l; i++){\n    for(var ri = 0, rl = result.length; ri < rl; ri++){\n      if(filter(data[i], result[ri]) === true){\n        insertOf(result, data[i], ri)\n        break\n      }\n      if((ri + 1) === result.length){\n        result.push(data[i])\n      }\n    }\n  }\n\n  clearOf(data)\n\n  for(var i = 0, l = result.length; i < l; data.push(result[i]), i++);\n  \n  return data\n}\n\nexport const rebase = function (obj, ref){\n  var result = {}\n  for(var key in obj){\n    if(key === \".*\"){\n      var refValue = obj[key]\n      for(var i = 0, d = Object.keys(ref), l = d.length; i < l; i++){\n        var refKey = d[i]\n        if(typeof refValue === \"function\"){\n          result[refKey] = obj[key]\n        } else {\n          if((typeof refValue !== \"object\" && typeof refValue !== \"object\") || isNode(refValue)){\n            result[refKey] = refValue\n          } else {\n            result[refKey] = Object.assign(result[refKey], refValue)\n          }\n        }\n      }\n    } else if(key.indexOf(\",\") > -1){\n      key.split(\",\").forEach(deepKey=>{\n        deepKey = deepKey.trim()\n        if(typeof obj[key] === \"function\"){\n          result[deepKey] = obj[key]\n        } else {\n          if((!result.hasOwnProperty(deepKey) && typeof obj[key] !== \"object\") || isNode(obj[key])){\n            result[deepKey] = obj[key]\n          } else {\n            result[deepKey] = Object.assign(result[deepKey] || (isArray(obj[key]) ? [] : {}), obj[key], obj[deepKey])\n          }\n        }\n      })\n    } else {\n      if(typeof obj[key] === \"function\"){\n        result[key] = obj[key]\n      } else {\n        if((typeof result[key] !== \"object\" && typeof obj[key] !== \"object\") || isNode(obj[key])){\n          result[key] = obj[key]\n        } else {\n          result[key] = Object.assign(result[key], obj[key])\n        }\n      }\n    }\n  }\n  return result\n}\n\n\n//TODO: Union hasValue\nconst NESTED_HAS_PROC = function (obj, key){\n  var keys = key.split(\".\")\n  if(!keys.length) return false\n\n  var pointer = obj\n  for(var ki in keys){\n    var k = keys[ki]\n\n    if(!pointer.hasOwnProperty(k)){\n      return false\n    } else {\n      pointer = pointer[k]\n    }\n  }\n  return true\n}\n\nexport const diffStructure = function (before, after){\n  var afterKeys = Object.keys(after)\n  var beforeKeys\n  var canDiff = false\n  if(isObject(before)){\n    if(isArray(before)){\n      beforeKeys = before\n    } else {\n      beforeKeys = Object.keys(before)\n      canDiff = true\n    }\n  } else {\n    beforeKeys = []\n  }\n\n  var analysis = {\n    after  : after,\n    before : before,\n    keys   : unique(afterKeys.concat(beforeKeys)).reduce((dest, key)=>{ dest[key] = undefined; return dest }, {}),\n    match  : [],\n    missing: [],\n    surplus: [],\n    diff   : [],\n    pass   : false\n  }\n  \n  //match, missing\n  for(var ki in beforeKeys){\n    if(!beforeKeys.hasOwnProperty(ki)) continue\n      \n    var key = beforeKeys[ki]\n      \n    if(NESTED_HAS_PROC(after, key)){\n      analysis.match.push(key)\n      analysis.keys[key] = \"match\"\n\n      if(canDiff && !isEqual(get(after, key), get(before, key))){\n        analysis.diff.push(key)\n        analysis.keys[key] = \"diff\"\n      }\n    } else {\n      analysis.surplus.push(key)\n      analysis.keys[key] = \"surplus\"\n    }\n  }\n\n  //surplus\n  asArray(afterKeys).forEach(key=>{\n    if(!hasValue(analysis.match, key)){\n      analysis.missing.push(key)\n      analysis.keys[key] = \"missing\"\n    }\n  })\n\n  //absolute\n  analysis.pass = !analysis.missing.length && !analysis.surplus.length\n\n  return analysis\n}\n","/*\n  usage\n  const size = 20\n  const stroke = 1\n\n  const { x, y, radius, diameter } = drawCircleVars(size, stroke);\n  \n  const d = `M${x} ${y} \n  a ${radius} ${radius} 0 0 1 0 ${diameter}\n  a ${radius} ${radius} 0 0 1 0 -${diameter}`\n\n  <svg viewbox=\"0 0 {size} {size}\">\n    <path d=\"{d}\" stroke-width=\"stroke\"></path>\n  </svg>\n*/\nexport const drawCircleVars = function (circleWidth, strokeWidth = 0){\n  const circumference = ((circleWidth - strokeWidth) / 2) * (3.14159 * 2)\n  const radius        = (circumference / (3.14159 * 2))\n  const diameter      = (radius * 2)\n  const x             = circleWidth / 2\n  const y             = strokeWidth / 2\n  //const circumLength  = drawRatio == 1 ? drawRatio : drawRatio * circumference;\n    \n  return { x, y, radius, diameter, circumference, circleWidth, strokeWidth }\n}\n","import { isArray } from '../../functions'\n\nexport const readUrl = function (inputUrl){\n  let info\n  let url \n    \n  try {\n    url = inputUrl || window.document.URL.toString()\n    info = /([\\w]+)(\\:[\\/]+)([^/]*\\@|)([\\w\\d\\.\\-\\_\\+]+)(\\:[\\d]+|)(\\/|)([\\w\\d\\.\\/\\-\\_\\;\\=]+|)(\\?[\\d\\w\\=\\&\\%\\,\\.\\/\\(\\)-]+|)(\\#[\\d\\w]*|)/.exec(url)\n  } catch (e){\n    info = null\n  }\n  \n  if(info === null){\n    console.error(\"faild parse url\", inputUrl)\n    return {\n      url  : url || null,\n      valid: false\n    }\n  }\n  \n  const protocol = info[1]\n  const divider = info[2]\n  const userinfo = info[3]\n  const hostname = info[4]\n  const port = info[5].substring(1)\n  const path = info[6] + info[7]\n  const query = info[8]\n  const fragment = info[9]\n  const filename = /(\\/|)([\\w\\d\\.\\-\\_]+|)$/.exec(info[6] + info[7])[2]\n  const host = info[1] + info[2] + info[4] + info[5]\n  const params = (function (){\n    const result = {}\n    if(query){\n      query.substr(1).split(\"&\").forEach((onePiece)=>{\n        const entry = onePiece.split(\"=\")\n        result[decodeURI(entry[0])] = decodeURI(entry[1])\n      })\n    }\n    return result\n  }())\n\n  return {\n    url,\n    protocol,\n    divider,\n    userinfo,\n    hostname,\n    port,\n    path,\n    query,\n    fragment,\n    filename,\n    host,\n    params,\n    valid: true\n  }\n}\n    \nexport const serialize = function (obj, transform){\n  const params = []\n  let invalid  = []\n  \n  Object.keys(obj).forEach(key=>{\n    let value = obj[key]\n    let stringValue = \"\"\n\n    if(typeof value === \"undefined\"){\n      return\n    } else if(value === null){\n      stringValue = \"\"\n    } else if(isArray(value)){\n      return value.each((val)=>{\n        typeof transform === \"function\"\n          ? params.push(transform(key) + \"=\" + transform(val))\n          : params.push(key + \"=\" + val)\n      })\n    } else if(typeof value === \"object\"){\n      return invalid.push(key)\n    } else {\n      stringValue = value + \"\"\n    }\n          \n    typeof transform === \"function\"\n      ? params.push(transform(key) + \"=\" + transform(stringValue))\n      : params.push(key + \"=\" + stringValue)\n  })\n      \n  if(invalid.length){\n    invalid = null\n  }\n  \n  return params.join(\"&\")\n}\n","import { likeString, isArray } from \"../../functions/isLike\"\nimport { multiplyMatrix } from \"../../functions/matrix\"\n\nexport const getElementTransformMatrix = function (el){\n  const computedStyle       = getComputedStyle(el, null)\n  const computedMatrixParam = computedStyle.transform || computedStyle.webkitTransform || computedStyle.MozTransform || computedStyle.msTransform\n  const c = computedMatrixParam.split(/\\s*[(),]\\s*/).slice(1, -1)\n  if(c.length === 6){\n    return [\n      [+c[0], +c[2], 0, +c[4]],\n      [+c[1], +c[3], 0, +c[5]],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1]\n    ]\n  } else if(c.length === 16){\n    return [\n      [+c[0], +c[4], +c[8], +c[12]],\n      [+c[1], +c[5], +c[9], +c[13]],\n      [+c[2], +c[6], +c[10], +c[14]],\n      [+c[3], +c[7], +c[11], +c[15]]\n    ]\n  }\n  return null\n}\n\n/* https://keithclark.co.uk/articles/calculating-element-vertex-data-from-css-transforms/ */\nconst parseMatrix = (function (){\n  const DEFAULT_MATRIX = {\n    m11: 1,\n    m21: 0,\n    m31: 0,\n    m41: 0,\n    m12: 0,\n    m22: 1,\n    m32: 0,\n    m42: 0,\n    m13: 0,\n    m23: 0,\n    m33: 1,\n    m43: 0,\n    m14: 0,\n    m24: 0,\n    m34: 0,\n    m44: 1\n  }\n  \n  return function (matrixParam){\n    let c = matrixParam.split(/\\s*[(),]\\s*/).slice(1, -1)\n    let matrix\n\n    if(c.length === 6){\n      // 'matrix()' (3x2)\n      matrix = {\n        m11: +c[0],\n        m21: +c[2],\n        m31: 0,\n        m41: +c[4],\n        m12: +c[1],\n        m22: +c[3],\n        m32: 0,\n        m42: +c[5],\n        m13: 0,\n        m23: 0,\n        m33: 1,\n        m43: 0,\n        m14: 0,\n        m24: 0,\n        m34: 0,\n        m44: 1\n      }\n    } else if(c.length === 16){\n      // matrix3d() (4x4)\n      matrix = {\n        m11: +c[0],\n        m21: +c[4],\n        m31: +c[8],\n        m41: +c[12],\n        m12: +c[1],\n        m22: +c[5],\n        m32: +c[9],\n        m42: +c[13],\n        m13: +c[2],\n        m23: +c[6],\n        m33: +c[10],\n        m43: +c[14],\n        m14: +c[3],\n        m24: +c[7],\n        m34: +c[11],\n        m44: +c[15]\n      }\n    } else {\n      // handle 'none' or invalid values.\n      matrix = Object.assign({}, DEFAULT_MATRIX)\n    }\n    return matrix\n  }\n}())\n\n/* https://keithclark.co.uk/articles/calculating-element-vertex-data-from-css-transforms/ */\nexport const getElementTransform = function (el){\n  let computedStyle = getComputedStyle(el, null)\n  let transformStyle     = computedStyle.transform || computedStyle.webkitTransform || computedStyle.MozTransform || computedStyle.msTransform\n  let matrix  = parseMatrix(transformStyle)\n  let rotateY = Math.asin(-matrix.m13)\n  let rotateX = Math.atan2(matrix.m23, matrix.m33)\n  let rotateZ = Math.atan2(matrix.m12, matrix.m11)\n  \n  return {\n    rotate: {\n      x: rotateX,\n      y: rotateY,\n      z: rotateZ\n    },\n    translate: {\n      x: matrix.m41,\n      y: matrix.m42,\n      z: matrix.m43\n    },\n    transformStyle\n  }\n}\n\nexport const transformStyleVariant = (function (likeString, isArray){\n  const TRANSFORM_UNDEFINED = \"0\"\n  \n  const parseTransformValue = function (value, matched){\n    likeString(value) && matched(value)\n  }\n  \n  const parseTransformMultivalue = function (value, matched){\n    isArray(value) && matched(value)\n  }\n  \n  const valueProcess = function (value, unit){\n    if(typeof value === \"number\"){\n      return `${value}${unit}`\n    }\n    if(typeof value === \"string\" && value.trim() !== \"\"){\n      return value\n    }\n    return undefined\n  }\n  \n  const singleValueHook = function (bag, unit, i){\n    return (value)=>{\n      const parseValue = valueProcess(value, unit)\n      if(parseValue === undefined) return\n      bag[i] = parseValue\n    }\n  }\n  \n  const multiValueHook = function (bag, unit){\n    return (multiValue)=>{\n      multiValue.forEach((value, i)=>{\n        const parseValue = valueProcess(value, unit)\n        if(parseValue === undefined) return\n        bag[i] = parseValue\n      })\n    }\n  }\n  \n  const oneNumberToTwoArray = function (one){\n    return typeof one === \"number\" ? [one, one] : one\n  }\n  \n  return function (props){\n    if(typeof props !== \"object\"){\n      return \"\"\n    }\n    \n    const { translateX, translateY, translateZ, scaleX, scaleY, scaleZ, rotateX, rotateY, rotateZ } = props\n    let { translate, translate3d, scale, scale3d, rotate, rotate3d } = props\n    \n    translate = oneNumberToTwoArray(translate)\n    translate3d = oneNumberToTwoArray(translate3d)\n    scale = oneNumberToTwoArray(scale)\n    scale3d = oneNumberToTwoArray(scale3d)\n    if(typeof rotate === \"number\"){\n      rotate = [undefined, undefined, rotate]\n    }\n    if(typeof rotate3d === \"number\"){\n      rotate3d = [rotate3d]\n    }\n    \n    const translateVars = Array(3).fill(TRANSFORM_UNDEFINED)\n    const scaleVars  = Array(3).fill(TRANSFORM_UNDEFINED)\n    const rotateVars = Array(4).fill(TRANSFORM_UNDEFINED)\n    const perspective = valueProcess(props.perspective, \"px\")\n    const result = []\n    \n    parseTransformMultivalue(translate, multiValueHook(translateVars, \"px\"))\n    parseTransformMultivalue(translate3d, multiValueHook(translateVars, \"px\"))\n    parseTransformMultivalue(scale, multiValueHook(scaleVars, \"%\"))\n    parseTransformMultivalue(scale3d, multiValueHook(scaleVars, \"%\"))\n    parseTransformMultivalue(rotate, multiValueHook(rotateVars, \"deg\"))\n    parseTransformMultivalue(rotate3d, multiValueHook(rotateVars, \"deg\"))\n    parseTransformValue(translateX, singleValueHook(translateVars, \"px\", 0))\n    parseTransformValue(translateY, singleValueHook(translateVars, \"px\", 1))\n    parseTransformValue(translateZ, singleValueHook(translateVars, \"px\", 2))\n    parseTransformValue(scaleX, singleValueHook(scaleVars, \"\", 0))\n    parseTransformValue(scaleY, singleValueHook(scaleVars, \"\", 1))\n    parseTransformValue(scaleZ, singleValueHook(scaleVars, \"\", 2))\n    parseTransformValue(rotateX, singleValueHook(rotateVars, \"deg\", 0))\n    parseTransformValue(rotateY, singleValueHook(rotateVars, \"deg\", 1))\n    parseTransformValue(rotateZ, singleValueHook(rotateVars, \"deg\", 2))\n    \n    perspective && result.push(`perspective(${perspective})`)\n    \n    if(translateVars.some(v=>v !== TRANSFORM_UNDEFINED)){\n      translateVars[2] === TRANSFORM_UNDEFINED \n        ? result.push(`translate(${translateVars[0]},${translateVars[1]})`)\n        : result.push(`translate3d(${translateVars[0]},${translateVars[1]},${translateVars[2]})`)\n    }\n    \n    if(scaleVars.some(v=>v !== TRANSFORM_UNDEFINED)){\n      scaleVars[2] === TRANSFORM_UNDEFINED \n        ? result.push(`scale(${scaleVars[0]},${scaleVars[1]})`)\n        : result.push(`scale3d(${scaleVars[0]},${scaleVars[1]},${scaleVars[2]})`)\n    }\n    \n    if(rotateVars.some(v=>v !== TRANSFORM_UNDEFINED)){\n      if(rotateVars[0] === TRANSFORM_UNDEFINED && rotateVars[1] === TRANSFORM_UNDEFINED && rotateVars[2] !== TRANSFORM_UNDEFINED){\n        return result.push(`rotate(${rotateVars[2]})`)\n      }\n      if(rotateVars[0] !== TRANSFORM_UNDEFINED){\n        result.push(`rotate3d(1,0,0,${rotateVars[0]})`)\n      }\n      if(rotateVars[1] !== TRANSFORM_UNDEFINED){\n        result.push(`rotate3d(0,1,0,${rotateVars[1]})`)\n      }\n      if(rotateVars[2] !== TRANSFORM_UNDEFINED){\n        result.push(`rotate3d(0,0,1,${rotateVars[2]})`)\n      }\n    }\n    return result.join(\" \")\n  }\n}(likeString, isArray))\n\n\nexport const transformMatrixVariant = function (variant){\n  const UDF = undefined\n  const multiplyMatrixList = []\n  \n  let {\n    translateX = 0,\n    translateY = 0,\n    translateZ = 0,\n    scale = 1,\n    scaleX = UDF,\n    scaleY = UDF,\n    scaleZ = UDF,\n    rotateX = 0,\n    rotateY = 0,\n    rotateZ = 0\n  } = variant\n  \n  scaleX = scaleX === UDF ? scale : scaleX\n  scaleY = scaleY === UDF ? scale : scaleY\n  scaleZ = scaleZ === UDF ? scale : scaleZ\n  \n  const RSIN = (v)=>{\n    return Math.sin(Math.PI * (v / 180))\n  }\n  const RCOS = (v)=>{\n    return Math.cos(Math.PI * (v / 180))\n  }\n  \n  multiplyMatrixList.push([\n    [1, 0, 0, translateX / scaleX],\n    [0, 1, 0, translateY / scaleY],\n    [0, 0, 1, translateZ / scaleZ],\n    [0, 0, 0, 1]\n  ])\n  \n  multiplyMatrixList.push([\n    [scaleX, 0, 0, 0],\n    [0, scaleY, 0, 0],\n    [0, 0, scaleZ, 0],\n    [0, 0, 0, 1]\n  ])\n  \n  rotateX && multiplyMatrixList.push([\n    [1, 0, 0, 0],\n    [0, RCOS(rotateX), -RSIN(rotateX), 0],\n    [0, RSIN(rotateX), RCOS(rotateX), 0],\n    [0, 0, 0, 1]\n  ])\n  \n  rotateY && multiplyMatrixList.push([\n    [RCOS(rotateY), 0, RSIN(rotateY), 0],\n    [0, 1, 0, 0],\n    [-RSIN(rotateY), 0, RCOS(rotateY), 0],\n    [0, 0, 0, 1]\n  ])\n  \n  rotateZ && multiplyMatrixList.push([\n    [RCOS(rotateZ), -RSIN(rotateZ), 0, 0],\n    [RSIN(rotateZ), RCOS(rotateZ), 0, 0],\n    [0, 0, 1, 0],\n    [0, 0, 0, 1]\n  ])\n  \n  return multiplyMatrixList.reduce((dest, matrix)=>{\n    if(!dest) return matrix\n    return multiplyMatrix(dest, matrix)\n  })\n}\n","\nexport const svgPathWithVertex = function (vertex, close){\n  let dValue = \"\"\n  \n  vertex.forEach((point, index)=>{\n    const prefix = index === 0 ? 'M' : 'L'\n    dValue += `${prefix}${point.x} ${point.y} `\n  })\n  \n  if(!!dValue && close === true){\n    dValue += \" Z\"\n  }\n  \n  return dValue\n}\n\nconst SVGBuilder = function (){\n  this.drawVariants = []\n}\n\nSVGBuilder.prototype = {\n  addPath (points, attributes){\n    this.drawVariants.push({\n      tag   : \"path\",\n      attributes,\n      params: points\n    })\n    return this\n  },\n  createElement (){\n    const svgTag = document.createElementNS('http://www.w3.org/2000/svg', \"svg\")\n    let realMaxWidth  = 0\n    let realMaxHeigth = 0 \n    \n    this.drawVariants.forEach(({ tag, attributes, params})=>{\n      if(tag === \"path\"){\n        const pathElement = document.createElementNS('http://www.w3.org/2000/svg', \"path\")\n        \n        if(typeof attributes !== \"object\"){\n          attributes = {}\n        }\n        \n        pathElement.setAttribute(\"fill\", attributes['fill'] || \"transparent\")\n        pathElement.setAttribute(\"stroke\", attributes['stroke'] || \"gray\")\n        pathElement.setAttribute(\"stroke-width\", attributes['strokeWidth'] || attributes['stroke-width'] || \"1\")\n        pathElement.setAttribute(\"stroke-linecap\", \"butt\")\n        pathElement.setAttribute(\"stroke-linejoin\", \"miter\")\n        \n        const dValue = svgPathWithVertex(params)\n        params.forEach(point=>{\n          if(point.x > realMaxWidth) realMaxWidth = point.x\n          if(point.y > realMaxHeigth) realMaxHeigth = point.y\n        })\n        \n        pathElement.setAttribute(\"d\", dValue)\n        svgTag.appendChild(pathElement)\n      }\n    })\n    svgTag.setAttribute(\"style\", \"overflow:visible;\")\n    svgTag.setAttribute(\"width\", realMaxWidth)\n    svgTag.setAttribute(\"height\", realMaxHeigth)\n    return svgTag\n  }\n}\n\nexport const makeSVG = function (){\n  return new SVGBuilder()\n}\n","import { asArray } from '../../functions/cast'\nimport { isNode } from '../../functions/isLike';\n\n\n\nconst QUERY_SELECTOR_ENGINE = function(node,selector){\n  try {\n    return Array.from(\n      (node||document)[QUERY_SELECTOR_NAME](\n        selector.replace(/\\[[\\w\\-\\_]+\\=[^\\'\\\"][^\\]]+\\]/g, function(s){ \n          return s.replace(/\\=.+\\]$/,function(s){ \n            return '=\\\"' + s.substr(1,s.length-2) + '\\\"]'; \n          }) \n        })\n      )\n    );\n  } catch(e) {\n    console.error(\"QUERY_SELECTOR_ENGINE error\",node,selector);\n  }\n};\n\nconst MATCHES_SELECTOR_ENGINE = function(node,selector){\n  return node[MATCHES_SELECTOR_NAME](\n    selector.replace(/\\[[\\w\\-\\_]+\\=[^\\'\\\"][^\\]]+\\]/g, function(s){ \n      return s.replace(/\\=.+\\]$/,function(s){ \n        return '=\\\"' + s.substr(1,s.length-2) + '\\\"]'; \n      }) \n    })\n  );\n}\n\nexport const nodeList = function(node, eq){\n  node = asArray(node).map(item=>isNode(item)?item:undefined);\n  return typeof eq === \"number\" ? node[eq] : node;\n};\n\nexport const is = function(node,selectText){\n  return !isNode(node) ? false : ((typeof selectText === \"undefined\") || selectText == \"*\" || selectText == \"\") ? true : MATCHES_SELECTOR_ENGINE(node,selectText);\n};\n\nexport const query = function(query,root){\n  //querySelectorSupport\n  if(typeof query !== \"string\" || (query.trim().length == 0)) return [];\n  root = ((typeof root === \"undefined\") ? document : isNode(root) ? root : document);\n  return root == document ? \n    QUERY_SELECTOR_ENGINE(root,query) :\n    MATCHES_SELECTOR_ENGINE(root,query) ? \n    [root].concat(Array.prototype.slice.call(QUERY_SELECTOR_ENGINE(root,query))) : \n    QUERY_SELECTOR_ENGINE(root,query);\n};\n\nexport const toCSSQueryString = function(node, detail){\n  var t = nodeList(node, 0)[0];\n  if(!t) return undefined;\n  var tag = t.tagName.toLowerCase();\n  var tid = tclass = tname = tattr = tvalue = '';\n  N.propEach(N.NODEKIT.attr(t),function(value,sign){\n    switch(sign){\n    case \"id\"   : \n      var id = t.getAttribute(sign); \n      id.length && (tid='#'+id) ; \n      break;\n    case \"class\": \n      tclass = t.getAttribute(sign).trim().replace(/\\s\\s/g,' ').split(' ').join('.'); \n      if(tclass) tclass = \".\" + tclass;\n      break;\n      case \"name\" : tname  = \"[name=\"+t.getAttribute(sign)+\"]\"; break;\n      case \"value\": break;\n      default     :\n      if(detail == true) {\n        attrValue = t.getAttribute(sign);\n        tattr += ( (attrValue == '' || attrValue == null) ? (\"[\"+sign+\"]\") : (\"[\"+sign+\"=\"+attrValue+\"]\") );\n      }\n      break; \n    }\n  });\n  \n  if(detail == true) {\n    if(!/table|tbody|thead|tfoot|ul|ol/.test(tag)) {\n      var tv = N.node.value(t);\n      if(typeof tv !== undefined || tv !== null ) if(typeof tv === 'string' && tv.length !== 0) tvalue = '::'+tv;\n      if(typeof tvalue === 'string') tvalue = tvalue.trim();\n    }\n  }\n  \n  return tag+tid+tclass+tname+tattr+tvalue;\n}","import { unique } from '../../functions/functions'\nimport { asArray, toArray } from '../../functions/cast'\nimport { isPlainObject, isArray, isNode } from '../../functions/isLike'\nimport { is, query, nodelist } from './query-selector'\n\nconst findLite = function(find){\n  if( typeof find === 'string' ){\n    // [string,null]\n    return query(find);\n  } else if(isNode(find)){\n    // [node]\n    return [find];\n  }  else if(isArray(find)) {\n    // [array]\n    var fc = [];\n    for(var i=0,l=find.length;i<l;i++) { \n      if( typeof find[i] === 'string' ) {\n        // [array][string]\n        var fs = query(find[i]);\n        if(fs.length) fc = fc.concat( fs );\n      } else if(isNode(find[i])) {\n        // [array][node]\n        fc.push(find[i]);\n      } else if(isArray(find[i])){\n        var fa = findLite(find[i]);\n        if(fa.length) fc = fc.concat( fa );\n      }\n    }\n    return unique(fc);\n  }\n  return [];\n};\n//여러개의 셀럭터와 하나의 루트노드만 허용\nconst findByOnePlace = function(findse,rootNode){\n  if(typeof findse === 'string') return query(findse,rootNode);\n  if( isNode(findse) ) {\n    var fs = query(N.node.trace(findse),rootNode);\n    for(var i=0,l=fs.length;i<l;i++) if(findse === fs[i]) return [findse];\n  }\n  if( isArray(findse) ) {\n    var result = [];\n    for(var i=0,l=findse.length;i<l;i++) {\n      var fd = findByOnePlace(findse[i],rootNode);\n      if( fd.length ) result = result.concat(fd);\n    }\t\t\t\t\n    return unique(result);\n  }\n  return [];\n};\n\nconst findBySeveralPlaces = function(find,root){\n  if(arguments.length === 1 || typeof root === 'undefined' || root === null || root === W.document ) return findLite(find);\n  // find root\n  var targetRoots = findLite(root);\n  if(targetRoots.length === 0) {\n    return findLite(find);\n  }\n  //\n  var findes = toArray(find);\n  var result = [];\n  for(var i=0,l=targetRoots.length;i<l;i++) {\n    for(var fi=0,fl=findes.length;fi<fl;fi++) {\n      var fdr = findByOnePlace(findes[fi],targetRoots[i]);\n      if( fdr.length ) result = result.concat(fdr);\n    }\n  }\n  return unique(result);\n};\n\nconst queryFind = function(find,root,eq){\n  return (typeof root === \"number\") ? findLite(find)[root] :\n  (typeof eq === \"number\")   ? findBySeveralPlaces(find,root)[eq] :\n  findBySeveralPlaces(find,root);\n};\n\nconst queryFindMember = function(sel,offset){\n  var target = findLite(sel)[0];\n  if(!isNode(target)) return;\n  if(typeof offset !== \"number\") return toArray(target.parentElement.children);\n  var currentIndex = -1;\n  Array.from(target.parentNode.children).forEach((node,i)=>{ if(target == node) { currentIndex = i; return false; } });\n  return target.parentNode.children[currentIndex+offset];\n};\n\nexport {\n  queryFind,\n  queryFindMember\n}","import { queryFind } from './query-finder'\n\nconst getCurrentTarget = function (originalEvent, fallbackElement){\n  let result = originalEvent.currentTarget || originalEvent.target\n  return (result && result.documentElement) ? (fallbackElement || result.documentElement) : document.documentElement\n}\n\nconst isElementEvent = function (e){\n  return typeof e.stopPropagation === \"function\"\n}\n\nconst getElementPosition = function (el){\n  let element = queryFind(el, 0);\n  \n  if(!element) return null\n  \n  let xPosition = 0\n  let yPosition = 0\n  \n  while(element && !element.documentElement){\n    xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft)\n    yPosition += (element.offsetTop - element.scrollTop + element.clientTop)\n    element = element.offsetParent\n  }\n  \n  return {x: xPosition, y: yPosition}\n}\n\n\nconst getPointerPosition = $.getPointerPosition = function (e, root){\n  root = !root ? document.documentElement : root\n\n  const pos = getElementPosition(root)\n  \n  if(!pos) return\n  \n  pos.x = (e.touches ? e.targetTouches[0].pageX : e.pageX) - pos.x\n  pos.y = (e.touches ? e.targetTouches[0].pageY : e.pageY) - pos.y\n  \n  return pos\n}\n\nexport const containsIn = function (container, subjects){\n  container = nodeList(container, 0);\n  subjects = asArray(subjects);\n  \n  if(!subjects.length || !isNode(container) || subjects.some(subject=>typeof subject === \"string\" ? false : !isNode(subject))){\n    return false;\n  }\n  \n  let allChildrens = null;\n  \n  for(let i=0,l=subjects.length;i<l;i++){\n    const selector = subjects[i];\n    \n    if(typeof selector === \"string\"){\n      if(container.querySelector(selector)){\n        return true;\n      }\n    } else {\n      if(!allChildrens) allChildrens = Array.from(container.querySelectorAll(\"*\"));\n      if(allChildrens.some(child=>child===selector)){\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nexport const containsOut = function (container, subjects){\n  return containsIn(container, subjects);\n}\n\nexport const predict = function (container, option, root){\n  const element = nodeList(container, 0);\n  if(!isNode(element)) return;\n  \n  const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = element[\"innerWidth\"] ? {\n    offsetTop   : 0, \n    offsetLeft  : 0, \n    offsetWidth : window.innerWidth, \n    offsetHeight: window.innerHeight\n  } : element\n  \n  const result = {\n    top   : offsetTop,\n    left  : offsetLeft,\n    width : offsetWidth,\n    height: offsetHeight,\n    right : offsetLeft + offsetWidth,\n    bottom: offsetTop + offsetHeight,\n    center: offsetLeft + offsetWidth / 2,\n    middle: offsetTop + offsetHeight / 2\n  }\n  \n  \n  //if(isElementEvent(option)){\n  //  const { x:left, y:top } = getPointerPosition(offset);\n  //  option = { left, top };\n  //}\n    \n  if(isPlainObject(option)){\n    //console.log(\"option,\",option)\n    const allProps = [\"top\", \"left\", \"width\", \"height\", \"right\", \"bottom\", \"center\", \"middle\"].filter(key=>option.hasOwnProperty(key))\n    \n    //event option\n    allProps.forEach((key)=>{\n      const optionOfKey = option[key]\n      if(!isElementEvent(optionOfKey)) return\n      const pointerPosition = getPointerPosition(optionOfKey, root || getCurrentTarget(optionOfKey, element) || element)\n      if(!pointerPosition) return\n      \n      if(/left|width|right|center/.test(key)){\n        option[key] = pointerPosition[\"x\"]\n      }\n      \n      if(/top|middle|bottom|height/.test(key)){\n        option[key] = pointerPosition[\"y\"]\n      }\n    })\n    \n    allProps.forEach((key)=>{\n      if(typeof option[key] !== \"number\") return\n\n      const valueOfKey = result[key]  \n      let equalize\n      \n      switch (key){\n        case \"top\":\n        case \"middle\":\n          equalize = [\"y\", option[key] - valueOfKey]\n          break\n        case \"left\":\n        case \"center\":\n          equalize = [\"x\", option[key] - valueOfKey]\n          break\n        case \"width\":\n          equalize = [\"width\", option[key] - valueOfKey]\n          break\n        case \"height\":\n          equalize = [\"height\", option[key] - valueOfKey]\n          break\n        case \"right\":\n          break\n        case \"bottom\":\n          break\n      }\n        \n      switch (equalize && equalize[0]){\n        case \"x\":\n          result[\"left\"] += equalize[1]\n          result[\"center\"] += equalize[1]\n          result[\"right\"] += equalize[1]\n          break\n        case \"y\":\n          result[\"top\"] += equalize[1]\n          result[\"middle\"] += equalize[1]\n          result[\"bottom\"] += equalize[1]\n          break\n        case \"width\":\n          result[\"width\"] += equalize[1]\n          result[\"right\"] += equalize[1]\n          result[\"center\"] += (result[\"right\"] - result[\"left\"] / 2)\n          break\n        case \"height\":\n          result[\"height\"] += equalize[1]\n          result[\"bottom\"] += equalize[1]\n          result[\"middle\"] += (result[\"bottom\"] - result[\"top\"] / 2)\n          break\n      }\n    })\n  }\n  \n  return result\n};","import { queryFind, predict } from \"../finder\";\nimport { rebase } from '../../functions';\n\n// eslint-disable-next-line no-undef\nconst DEVICE_EVENT = (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch)\n  ? {\n    TOUCH_DEVICE: true,\n    START       : 'touchstart',\n    MOVE        : 'touchmove',\n    END         : 'touchend'\n  }\n  : {\n    TOUCH_DEVICE: false,\n    START       : 'mousedown',\n    MOVE        : 'mousemove',\n    END         : 'mouseup'\n  }\n\n//\nlet dragRetainCount = 0\n\n//\nconst bindDraggingAttribute = function (){\n  if(dragRetainCount > 0){\n    document.body.setAttribute(\"dragging\", \"\")\n  } else {\n    document.body.removeAttribute(\"dragging\")\n  }\n}\n\n//\nDEVICE_EVENT.TOUCH_DEVICE && window.addEventListener(\"touchmove\", (e)=>{\n  dragRetainCount > 0 && e.preventDefault()\n}, {passive: false})\n\n\n//드래그\nlet touchFixX\nlet touchFixY\nconst pointerParse = ({ clientX, clientY, touches })=>{\n  if(touches){\n    if(!touches[0]){\n      return {\n        x: touchFixX,\n        y: touchFixY\n      }\n    };\n    \n    const { clientX:touchClientX, clientY:touchClientY } = touches[0]\n    touchFixX = touchClientX\n    touchFixY = touchClientY\n    \n    return {\n      x: touchClientX,\n      y: touchClientY\n    }\n  }\n  return {\n    x: clientX,\n    y: clientY\n  }\n}\n\nexport default function DragHelper (element, option){\n  element = queryFind(element, 0);\n  \n  let startFn\n  let moveFn\n  let endFn\n  \n  let dragParams = null\n  let firstDrag  = null\n  let lastDrag   = null\n  \n  const resetOptions = function (){\n    const getOptions = rebase(typeof option === \"function\" ? option({ element }) : option)\n    startFn = getOptions[\"start\"]\n    moveFn = getOptions[\"move\"]\n    endFn = getOptions[\"end\"]\n  }\n  \n  const getCurrentPointerDrag = function (originalEvent){\n    const pointerDrag = pointerParse(originalEvent)\n  \n    //현재 이동한 거리\n    pointerDrag.moveX = pointerDrag.x - lastDrag.x\n    pointerDrag.moveY = pointerDrag.y - lastDrag.y\n    \n    //처음으로부터 변경된 거리\n    pointerDrag.offsetX = pointerDrag.x - firstDrag.x\n    pointerDrag.offsetY = pointerDrag.y - firstDrag.y\n    \n    //처음으로 부터 변경되어 엘리먼트 오프셋 크기\n    pointerDrag.leftValue = dragParams.offset.left + pointerDrag.offsetX\n    pointerDrag.topValue = dragParams.offset.top + pointerDrag.offsetY\n    \n    pointerDrag.left = pointerDrag.leftValue + \"px\"\n    pointerDrag.top = pointerDrag.topValue + pointerDrag.offsetY + \"px\"\n    \n    return pointerDrag\n  }\n  \n  const dragEnter = function (originalEvent){\n    //init\n    resetOptions()\n    \n    //\n    const elementOffset = predict(element);\n    const pointerDrag   = pointerParse(originalEvent)\n    \n    firstDrag = pointerDrag\n    lastDrag = pointerDrag\n    \n    dragParams = { offset: elementOffset, pointer: undefined, event: originalEvent }\n    dragParams.pointer = getCurrentPointerDrag(originalEvent)\n    \n    startFn && startFn(dragParams)\n    \n    document.addEventListener(DEVICE_EVENT.MOVE, dragMove)\n    document.addEventListener(DEVICE_EVENT.END, dragExit)\n    \n    dragRetainCount += 1\n    bindDraggingAttribute()\n  }\n  \n  const dragMove = function (originalEvent){\n    const pointerDrag = pointerParse(originalEvent)\n    \n    if(!moveFn){\n      lastDrag = pointerDrag\n      return\n    } else {\n      dragParams.pointer = getCurrentPointerDrag(originalEvent)\n      dragParams.event = originalEvent\n      moveFn(dragParams)\n      lastDrag = pointerDrag\n    }\n  }\n  \n  const dragExit = function (originalEvent){\n    dragParams.pointer = getCurrentPointerDrag(originalEvent)\n    dragParams.event = originalEvent\n    endFn && endFn(dragParams)\n    dragParams = undefined\n    \n    document.removeEventListener(DEVICE_EVENT.MOVE, dragMove)\n    document.removeEventListener(DEVICE_EVENT.END, dragExit)\n    \n    dragRetainCount -= 1\n    bindDraggingAttribute()\n  }\n  \n  element.addEventListener(\"dragstart\", function (e){\n    e.preventDefault()\n  })\n  \n  element.addEventListener(DEVICE_EVENT.START, dragEnter)\n  \n  return element\n}\n","import { asArray } from '../../functions'\n\nexport default function RepeatHelper ({ key, enter:enterFn, update:updateFn, exit:exitFn }){\n  // {key:string, vm:Component}\n  let oldBag = []\n  \n  // 모델의 키를 얻는 함수\n  const getKey = typeof key === \"function\" ? key : function (datum){\n    return datum[key]\n  }\n  \n  // ng-repeat, v-for와 같은 리피터 구현체 (d3의 data().enter().exit() 컨샙이 비슷함)\n  const repeater = function (data){\n    let newData = asArray(data)\n    let newBag  = []\n    \n    //새 데이터를 검사합니다.\n    newData.forEach((datum, index)=>{\n      //키를 추출합니다.\n      const newDatumKey = getKey(datum) || index\n      \n      //키 샘플입니다.\n      const newMeta = {\n        key  : newDatumKey,\n        datum: datum\n      }\n      \n      //매치되는 오래된 메타를 확인합니다.\n      const matchOldMeta = oldBag.find(old=>old.key === newDatumKey)\n      \n      //오래된 메타가 확인될 시\n      if(matchOldMeta){\n        //exit를 하지 않고 살립니다.\n        newMeta.vm = matchOldMeta.vm\n        matchOldMeta.$continue = true\n      }\n      \n      newBag.push(newMeta)\n    })\n    \n    //exit (require)\n    oldBag.forEach(oldMeta=>{\n      if(!oldMeta.$continue){\n        exitFn(oldMeta)\n      }\n    })\n    \n    //메타에 추가 정보 입력 (prevVm)\n    newBag.forEach((newMeta, index)=>{\n      const prevMeta = newBag[index - 1]\n      if(prevMeta && prevMeta[\"vm\"]){\n        newMeta[\"prevVm\"] = prevMeta[\"vm\"]\n      }\n    })\n    \n    //enter (require)\n    newBag.forEach((newMeta, index)=>{\n      if(!newMeta.vm){\n        let result = enterFn(newMeta, index)\n        if(!result){\n          throw new Error(\"enter는 반드시 vm을 리턴해야합니다.\")\n        } else {\n          newMeta[\"vm\"] = result\n        }\n      }\n    })\n    \n    //update (option)\n    updateFn && newBag.forEach((newMeta, index)=>{\n      updateFn(newMeta, index)\n    })\n    \n    //history change\n    oldBag = newBag\n  }\n  \n  //컴포넌트에서 정렬된 데이터를 얻기위한 용도로 제작. Component에서 (개발 시간상) 한계로 이곳에서 수행\n  repeater[\"vm\"] = function (){\n    return oldBag.map(d=>d.vm)\n  }\n  \n  return repeater\n};\n","import _dragHelper from './dragHelper'\nimport _repeatHelper from './repeatHelper'\n\nexport const dragHelper   = _dragHelper\nexport const repeatHelper = _repeatHelper\n","//export * from './finder'\nexport * from './env'\nexport * from './helper'\n","import * as helpers from './web/index.js'\nconst DEFAULT = { ...helpers }\nexport default DEFAULT\n"],"names":["reservedSessionStorage","pulledWindowToken","pulledWindowSession","openerPresenceProps","windowServiceReserveSession","name","data","listenHandshake","window","windowServiceHandshake","windowServicePullSession","getOpenerPresenceProperties","opener","e","console","warn","saveSessionFn","token","addEventListener","windowProps","WINDOW_POPUP_DEFAULT_WIDTH","WINDOW_POPUP_DEFAULT_HEIGHT","openWindow","href","windowParam","hasParam","windowName","useResize","undefined","destWindowWidth","destWindowHeight","destWindowTop","destWindowLeft","availMaxWidth","screen","availWidth","availMaxHeight","availHeight","navigator","platform","indexOf","newWindow","open","closeWindow","close","openTab","focus","historyBack","catchFallback","history","initialPage","length","location","back","toDataString","tods","JSON","stringify","fromDataString","v","eval","setLocalData","k","localStorage","Object","keys","forEach","key","setItem","getLocalData","arguments","stringData","getItem","isAbsoluteNaN","it","isNone","isInfinity","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","isNumber","isArray","Array","isObject","likeString","likeArray","item","hasOwnProperty","isNode","a","nodeType","asArray","defaultArray","toArray","option","prototype","slice","call","split","times","fn","result","i","l","push","turn","limit","ts","resultHook","abs","Math","fixIndex","floor","turnTime","validMatrix","arr","from","some","likeError","multiplyMatrix","aMatrix","bMatrix","rRowIndex","columnLength","columnResult","rColumnIndex","multiplied","reduce","dist","num","index","MatrixArray","column","row","datum","defineProperties","enumerable","value","assign","toMatrix","eachResultHook","colIndex","rowIndex","dataResult","eachColumn","eachFn","rows","columns","colData","map","eachRow","multiply","makeMatrixArray","eachHook","matrixProto","matrixArray","likePoint","p","calcTransformedPoint","__ref","matrix","perspectiveOrigin","transformPoint","x","y","z","px","py","pz","w","Point","meta","__meta","__transformedPoint","get","transform","set","configurable","writable","rx","rangeWidth","range","width","ry","rangeHeight","height","addMeta","obj","clone","toJSON","withMeta","json","pull","angle","xHalf","Vertex","vertexWith","destPoint","points","unshift","rectWith","largeX","smallX","largeY","smallY","Rect","applyTransform","setTransform","matrix44","Error","add","subtract","pointArray","point","classFunction","methods","start","end","eq","join","joins","refp","newp","splice","order","pw","sx","sy","sz","sw","ex","ey","ez","ew","rect","first","left","right","top","bottom","d","param","newValue","splitCountParser","columnOrder","rowOrder","parseInt","defaultPerspective","perspective","findPoint","findWord","trim","lineFind","pointFind","vertex","inheritMeta","middleY","centerX","transformRect","piecesWithCount","splitCount","pieceWidth","pieceHeight","pacExt","pacResult","pacMeta","coords","diff","aleft","atop","awidth","aheight","aright","abottom","diffResult","original","offset","want","over","move","nleft","ntop","fitRatio","WHRatio","transformRatio","sort","fit","sticky","position","refX","refY","refWidth","refHeight","valid","getNode","el","select","isElement","Element","getElementOffsetRect","offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","html","body","test","getComputedStyle","getPropertyValue","getBoundingRect","doc","document","win","offsetX","pageXOffset","documentElement","parentNode","scrollLeft","offsetY","pageYOffset","scrollTop","boundingRect","getBoundingClientRect","parent","getElementBoundingRect","elRect","current","windowRect","screenLeft","screenX","screenTop","screenY","outerWidth","outerHeight","screenRect","unique","array","findKey","uniqueSet","Set","keyPath","has","rebase","ref","refValue","refKey","deepKey","readUrl","inputUrl","info","url","URL","toString","exec","error","protocol","divider","userinfo","hostname","port","substring","path","query","fragment","filename","host","params","substr","onePiece","entry","decodeURI","serialize","invalid","stringValue","each","val","getElementTransformMatrix","computedStyle","computedMatrixParam","webkitTransform","MozTransform","msTransform","c","parseMatrix","DEFAULT_MATRIX","m11","m21","m31","m41","m12","m22","m32","m42","m13","m23","m33","m43","m14","m24","m34","m44","matrixParam","getElementTransform","transformStyle","rotateY","asin","rotateX","atan2","rotateZ","rotate","translate","transformStyleVariant","TRANSFORM_UNDEFINED","parseTransformValue","matched","parseTransformMultivalue","valueProcess","unit","singleValueHook","bag","parseValue","multiValueHook","multiValue","oneNumberToTwoArray","one","props","translateX","translateY","translateZ","scaleX","scaleY","scaleZ","translate3d","scale","scale3d","rotate3d","translateVars","fill","scaleVars","rotateVars","transformMatrixVariant","variant","UDF","multiplyMatrixList","RSIN","sin","PI","RCOS","cos","dest","svgPathWithVertex","dValue","prefix","SVGBuilder","drawVariants","addPath","attributes","tag","createElement","svgTag","createElementNS","realMaxWidth","realMaxHeigth","pathElement","setAttribute","appendChild","makeSVG","QUERY_SELECTOR_ENGINE","node","selector","QUERY_SELECTOR_NAME","replace","s","MATCHES_SELECTOR_ENGINE","MATCHES_SELECTOR_NAME","root","concat","findLite","find","fc","fs","fa","findByOnePlace","findse","rootNode","N","trace","fd","findBySeveralPlaces","W","targetRoots","findes","fi","fl","fdr","queryFind","getCurrentTarget","originalEvent","fallbackElement","currentTarget","target","isElementEvent","stopPropagation","getElementPosition","element","xPosition","yPosition","clientLeft","clientTop","getPointerPosition","$","pos","touches","targetTouches","pageX","pageY","predict","container","nodeList","innerWidth","innerHeight","center","middle","isPlainObject","allProps","filter","optionOfKey","pointerPosition","valueOfKey","equalize","DEVICE_EVENT","DocumentTouch","TOUCH_DEVICE","START","MOVE","END","dragRetainCount","bindDraggingAttribute","removeAttribute","preventDefault","passive","touchFixX","touchFixY","pointerParse","clientX","clientY","touchClientX","touchClientY","DragHelper","startFn","moveFn","endFn","dragParams","firstDrag","lastDrag","resetOptions","getOptions","getCurrentPointerDrag","pointerDrag","moveX","moveY","leftValue","topValue","dragEnter","elementOffset","pointer","event","dragMove","dragExit","removeEventListener","RepeatHelper","enterFn","enter","updateFn","update","exitFn","exit","oldBag","getKey","repeater","newData","newBag","newDatumKey","newMeta","matchOldMeta","old","vm","$continue","oldMeta","prevMeta","dragHelper","_dragHelper","repeatHelper","_repeatHelper","DEFAULT","helpers"],"mappings":"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"}
{"version":3,"sources":["../../.src/web/finder/easy.js"],"names":["containsIn","container","subjects","nodeList","asArray","length","isNode","some","subject","allChildrens","i","l","selector","querySelector","Array","from","querySelectorAll","child","containsOut","predict","option","root","element","offsetTop","offsetLeft","offsetWidth","window","innerWidth","offsetHeight","innerHeight","result","top","left","width","height","right","bottom","center","middle","isPlainObject","allProps","filter","key","hasOwnProperty","forEach","optionOfKey","isElementEvent","pointerPosition","getPointerPosition","getCurrentTarget","test","valueOfKey","equalize"],"mappings":"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","sourcesContent":["export const containsIn = function (container, subjects){\n  container = nodeList(container, 0);\n  subjects = asArray(subjects);\n  \n  if(!subjects.length || !isNode(container) || subjects.some(subject=>typeof subject === \"string\" ? false : !isNode(subject))){\n    return false;\n  }\n  \n  let allChildrens = null;\n  \n  for(let i=0,l=subjects.length;i<l;i++){\n    const selector = subjects[i];\n    \n    if(typeof selector === \"string\"){\n      if(container.querySelector(selector)){\n        return true;\n      }\n    } else {\n      if(!allChildrens) allChildrens = Array.from(container.querySelectorAll(\"*\"));\n      if(allChildrens.some(child=>child===selector)){\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nexport const containsOut = function (container, subjects){\n  return containsIn(container, subjects);\n}\n\nexport const predict = function (container, option, root){\n  const element = nodeList(container, 0);\n  if(!isNode(element)) return;\n  \n  const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = element[\"innerWidth\"] ? {\n    offsetTop   : 0, \n    offsetLeft  : 0, \n    offsetWidth : window.innerWidth, \n    offsetHeight: window.innerHeight\n  } : element\n  \n  const result = {\n    top   : offsetTop,\n    left  : offsetLeft,\n    width : offsetWidth,\n    height: offsetHeight,\n    right : offsetLeft + offsetWidth,\n    bottom: offsetTop + offsetHeight,\n    center: offsetLeft + offsetWidth / 2,\n    middle: offsetTop + offsetHeight / 2\n  }\n  \n  \n  //if(isElementEvent(option)){\n  //  const { x:left, y:top } = getPointerPosition(offset);\n  //  option = { left, top };\n  //}\n    \n  if(isPlainObject(option)){\n    //console.log(\"option,\",option)\n    const allProps = [\"top\", \"left\", \"width\", \"height\", \"right\", \"bottom\", \"center\", \"middle\"].filter(key=>option.hasOwnProperty(key))\n    \n    //event option\n    allProps.forEach((key)=>{\n      const optionOfKey = option[key]\n      if(!isElementEvent(optionOfKey)) return\n      const pointerPosition = getPointerPosition(optionOfKey, root || getCurrentTarget(optionOfKey, element) || element)\n      if(!pointerPosition) return\n      \n      if(/left|width|right|center/.test(key)){\n        option[key] = pointerPosition[\"x\"]\n      }\n      \n      if(/top|middle|bottom|height/.test(key)){\n        option[key] = pointerPosition[\"y\"]\n      }\n    })\n    \n    allProps.forEach((key)=>{\n      if(typeof option[key] !== \"number\") return\n\n      const valueOfKey = result[key]  \n      let equalize\n      \n      switch (key){\n        case \"top\":\n        case \"middle\":\n          equalize = [\"y\", option[key] - valueOfKey]\n          break\n        case \"left\":\n        case \"center\":\n          equalize = [\"x\", option[key] - valueOfKey]\n          break\n        case \"width\":\n          equalize = [\"width\", option[key] - valueOfKey]\n          break\n        case \"height\":\n          equalize = [\"height\", option[key] - valueOfKey]\n          break\n        case \"right\":\n          break\n        case \"bottom\":\n          break\n      }\n        \n      switch (equalize && equalize[0]){\n        case \"x\":\n          result[\"left\"] += equalize[1]\n          result[\"center\"] += equalize[1]\n          result[\"right\"] += equalize[1]\n          break\n        case \"y\":\n          result[\"top\"] += equalize[1]\n          result[\"middle\"] += equalize[1]\n          result[\"bottom\"] += equalize[1]\n          break\n        case \"width\":\n          result[\"width\"] += equalize[1]\n          result[\"right\"] += equalize[1]\n          result[\"center\"] += (result[\"right\"] - result[\"left\"] / 2)\n          break\n        case \"height\":\n          result[\"height\"] += equalize[1]\n          result[\"bottom\"] += equalize[1]\n          result[\"middle\"] += (result[\"bottom\"] - result[\"top\"] / 2)\n          break\n      }\n    })\n  }\n  \n  return result\n};"],"file":"easy.js"}
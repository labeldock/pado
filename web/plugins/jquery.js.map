{"version":3,"sources":["../../.src/web/plugins/jquery.js"],"names":["$","require","getCurrentTarget","originalEvent","fallbackElement","result","currentTarget","target","documentElement","document","isElementEvent","e","stopPropagation","getElementPosition","el","element","xPosition","yPosition","offsetLeft","scrollLeft","clientLeft","offsetTop","scrollTop","clientTop","offsetParent","x","y","getPointerPosition","root","pos","touches","targetTouches","pageX","pageY","fn","extend","containsIn","node","eq","i","l","length","find","containsOut","predict","option","offsetWidth","window","innerWidth","offsetHeight","innerHeight","top","left","width","height","right","bottom","center","middle","allProps","filter","hasOwnProperty","key","forEach","optionOfKey","pointerPosition","test","valueOfKey","equalize"],"mappings":"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","sourcesContent":["import { isPlainObject } from '../../functions'\n\nconst $ = require('jquery')\n\nconst getCurrentTarget = function (originalEvent, fallbackElement){\n  let result = originalEvent.currentTarget || originalEvent.target\n  return (result && result.documentElement) ? (fallbackElement || result.documentElement) : document.documentElement\n}\n\nconst isElementEvent = $.isElementEvent = function (e){\n  return typeof e.stopPropagation === \"function\"\n}\n\nconst getElementPosition = $.getElementPosition = function (el){\n  let [ element ] = $(el)\n  \n  if(!element) return null\n  \n  let xPosition = 0\n  let yPosition = 0\n  \n  while(element && !element.documentElement){\n    xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft)\n    yPosition += (element.offsetTop - element.scrollTop + element.clientTop)\n    element = element.offsetParent\n  }\n  \n  return {x: xPosition, y: yPosition}\n}\n\n\nconst getPointerPosition = $.getPointerPosition = function (e, root){\n  root = !root ? document.documentElement : root\n\n  const pos = getElementPosition(root)\n  \n  if(!pos) return\n  \n  pos.x = (e.touches ? e.targetTouches[0].pageX : e.pageX) - pos.x\n  pos.y = (e.touches ? e.targetTouches[0].pageY : e.pageY) - pos.y\n  \n  return pos\n}\n\n$.fn.extend({\n  //파라메터 노드가 제이쿼리가 가진 노드 안에 있는지 확인\n  containsIn (node){\n    var [ target ] = $(node).eq(0)\n    if(target){\n      for(var i = 0, l = this.length; i < l; i++){\n        if(this[i] === target) return true\n        if(this.eq(i).find(target).length) return true\n      } \n    }\n    return false\n  },\n  //파라메터 노드가 제이쿼리가 가진 노드 밖에 있는지 확인\n  containsOut (node){\n    return !this.containsIn(node)\n  },\n  /*\n    //\n    $(window).predict()\n    $(window).predict({center:20});\n    $(window).predict({center:event});\n    \n    //TODO\n    $(window).predict(element)\n    $(window).predict(element, {center:20});\n  */\n  predict (option, root){\n    const [ element ] = this.eq(0)\n    if(!element) return\n    \n    const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = element[\"innerWidth\"] ? {\n      offsetTop   : 0, \n      offsetLeft  : 0, \n      offsetWidth : window.innerWidth, \n      offsetHeight: window.innerHeight\n    } : element\n    \n    const result = {\n      top   : offsetTop,\n      left  : offsetLeft,\n      width : offsetWidth,\n      height: offsetHeight,\n      right : offsetLeft + offsetWidth,\n      bottom: offsetTop + offsetHeight,\n      center: offsetLeft + offsetWidth / 2,\n      middle: offsetTop + offsetHeight / 2\n    }\n    \n    \n    //if(isElementEvent(option)){\n    //  const { x:left, y:top } = getPointerPosition(offset);\n    //  option = { left, top };\n    //}\n      \n    if(isPlainObject(option)){\n      //console.log(\"option,\",option)\n      const allProps = [\"top\", \"left\", \"width\", \"height\", \"right\", \"bottom\", \"center\", \"middle\"].filter(key=>option.hasOwnProperty(key))\n      \n      //event option\n      allProps.forEach((key)=>{\n        const optionOfKey = option[key]\n        if(!isElementEvent(optionOfKey)) return\n        const pointerPosition = getPointerPosition(optionOfKey, root || getCurrentTarget(optionOfKey, element) || element)\n        if(!pointerPosition) return\n        \n        if(/left|width|right|center/.test(key)){\n          option[key] = pointerPosition[\"x\"]\n        }\n        \n        if(/top|middle|bottom|height/.test(key)){\n          option[key] = pointerPosition[\"y\"]\n        }\n      })\n      \n      allProps.forEach((key)=>{\n        if(typeof option[key] !== \"number\") return\n\n        const valueOfKey = result[key]  \n        let equalize\n        \n        switch (key){\n          case \"top\":\n          case \"middle\":\n            equalize = [\"y\", option[key] - valueOfKey]\n            break\n          case \"left\":\n          case \"center\":\n            equalize = [\"x\", option[key] - valueOfKey]\n            break\n          case \"width\":\n            equalize = [\"width\", option[key] - valueOfKey]\n            break\n          case \"height\":\n            equalize = [\"height\", option[key] - valueOfKey]\n            break\n          case \"right\":\n            break\n          case \"bottom\":\n            break\n        }\n          \n        switch (equalize && equalize[0]){\n          case \"x\":\n            result[\"left\"] += equalize[1]\n            result[\"center\"] += equalize[1]\n            result[\"right\"] += equalize[1]\n            break\n          case \"y\":\n            result[\"top\"] += equalize[1]\n            result[\"middle\"] += equalize[1]\n            result[\"bottom\"] += equalize[1]\n            break\n          case \"width\":\n            result[\"width\"] += equalize[1]\n            result[\"right\"] += equalize[1]\n            result[\"center\"] += (result[\"right\"] - result[\"left\"] / 2)\n            break\n          case \"height\":\n            result[\"height\"] += equalize[1]\n            result[\"bottom\"] += equalize[1]\n            result[\"middle\"] += (result[\"bottom\"] - result[\"top\"] / 2)\n            break\n        }\n      })\n    }\n    \n    return result\n  }\n})\n\nexport default $\n"],"file":"jquery.js"}
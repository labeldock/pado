{"version":3,"sources":["../../.src/web/plugins/jquery.js"],"names":["$","require","getCurrentTarget","originalEvent","fallbackElement","result","currentTarget","target","documentElement","document","isElementEvent","e","stopPropagation","getOriginalEvent","undefined","getElementPosition","el","element","xPosition","yPosition","offsetLeft","scrollLeft","clientLeft","offsetTop","scrollTop","clientTop","offsetParent","x","y","getPointerPosition","root","evt","pos","touches","targetTouches","pageX","pageY","rect","getBoundingClientRect","left","top","fn","extend","containsIn","node","eq","i","l","length","find","containsOut","predict","option","offsetWidth","window","innerWidth","offsetHeight","innerHeight","width","height","right","bottom","center","middle","allProps","filter","hasOwnProperty","key","forEach","optionOfKey","pointerPosition","test","valueOfKey","equalize"],"mappings":"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","sourcesContent":["import { isPlainObject } from '../../functions';\n\nconst $ = require('jquery');\n\nconst getCurrentTarget = function(originalEvent, fallbackElement){\n  let result = originalEvent.currentTarget || originalEvent.target;\n  return (result && result.documentElement) ? (fallbackElement || result.documentElement) : document.documentElement;\n}\n\nconst isElementEvent = $.isElementEvent = function (e){\n  return typeof e.stopPropagation === \"function\";\n}\n\nconst getOriginalEvent = $.getOriginalEvent = function(e){\n  if(!isElementEvent(e)) return undefined;\n};\n\nconst getElementPosition = $.getElementPosition = function(el){\n  let [ element ] = $(el);\n  \n  if(!element) return null;\n  \n  let xPosition = 0;\n  let yPosition = 0;\n  \n  while(element && !element.documentElement){\n    xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft);\n    yPosition += (element.offsetTop  - element.scrollTop  + element.clientTop );\n    element   = element.offsetParent;\n  }\n  \n  return {x:xPosition,y:yPosition};\n}\n\n\nconst getPointerPosition = $.getPointerPosition = function(e, root){\n  \n  root = !root ? document.documentElement : root;\n\n  const evt = getOriginalEvent(e);\n  const pos = getElementPosition(root);\n  \n  if(!pos) return;\n  \n  pos.x = (e.touches ? e.targetTouches[0].pageX : e.pageX) - pos.x;\n  pos.y = (e.touches ? e.targetTouches[0].pageY : e.pageY) - pos.y;\n  \n  if(e.touches){\n    var rect = e.target.getBoundingClientRect();\n    var x = e.targetTouches[0].pageX - rect.left;\n    var y = e.targetTouches[0].pageY - rect.top;\n  }\n  return pos;\n}\n\n$.fn.extend({\n  //파라메터 노드가 제이쿼리가 가진 노드 안에 있는지 확인\n  containsIn (node){\n    var [ target ] = $(node).eq(0);\n    if(target) for(var i=0,l=this.length;i<l;i++){\n      if(this[i] === target) return true;\n      if(this.eq(i).find(target).length) return true;\n    }\n    return false;\n  },\n  //파라메터 노드가 제이쿼리가 가진 노드 밖에 있는지 확인\n  containsOut (node){\n    return !this.containsIn(node);\n  },\n  /*\n    //\n    $(window).predict()\n    $(window).predict({center:20});\n    $(window).predict({center:event});\n    \n    //TODO\n    $(window).predict(element)\n    $(window).predict(element, {center:20});\n  */\n  predict (option,root){\n    const [ element ] = this.eq(0);\n    if(!element) return;\n    \n    const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = element[\"innerWidth\"] ? {\n      offsetTop   :0, \n      offsetLeft  :0, \n      offsetWidth :window.innerWidth, \n      offsetHeight:window.innerHeight\n    } : element;\n    \n    const result = {\n      top   :offsetTop,\n      left  :offsetLeft,\n      width :offsetWidth,\n      height:offsetHeight,\n      right :offsetLeft + offsetWidth,\n      bottom:offsetTop + offsetHeight,\n      center:offsetLeft + offsetWidth / 2,\n      middle:offsetTop + offsetHeight / 2\n    };\n    \n    \n    //if(isElementEvent(option)){\n    //  const { x:left, y:top } = getPointerPosition(offset);\n    //  option = { left, top };\n    //}\n      \n    if(isPlainObject(option)){\n      //console.log(\"option,\",option)\n      const allProps = [\"top\", \"left\", \"width\", \"height\", \"right\", \"bottom\", \"center\", \"middle\"].filter(key=>option.hasOwnProperty(key));\n      \n      //event option\n      allProps.forEach((key)=>{\n        const optionOfKey = option[key]\n        if(!isElementEvent(optionOfKey)) return;\n        const pointerPosition = getPointerPosition(optionOfKey,root || getCurrentTarget(optionOfKey, element) || element);\n        if(!pointerPosition) return;\n        \n        if(/left|width|right|center/.test(key)){\n          option[key] = pointerPosition[\"x\"]\n        }\n        \n        if(/top|middle|bottom|height/.test(key)){\n          option[key] = pointerPosition[\"y\"]\n        }\n      });\n      \n      allProps.forEach((key)=>{\n        if(typeof option[key] !== \"number\") return;\n\n        const valueOfKey = result[key];  \n        let equalize;\n        \n        switch(key){\n        case \"top\":\n        case \"middle\":\n          equalize = [\"y\", option[key] - valueOfKey];\n          break;\n        case \"left\":\n        case \"center\":\n          equalize = [\"x\", option[key] - valueOfKey];\n          break;\n        case \"width\":\n          equalize = [\"width\", option[key] - valueOfKey];\n          break;\n        case \"height\":\n          equalize = [\"height\", option[key] - valueOfKey];\n          break;\n        case \"right\":\n          break;\n        case \"bottom\":\n          break;\n        }\n          \n        switch(equalize && equalize[0]){\n        case \"x\":\n          result[\"left\"]   += equalize[1];\n          result[\"center\"] += equalize[1];\n          result[\"right\"]  += equalize[1];\n          break;\n        case \"y\":\n          result[\"top\"]    += equalize[1];\n          result[\"middle\"] += equalize[1];\n          result[\"bottom\"] += equalize[1];\n          break;\n        case \"width\":\n          result[\"width\"]  += equalize[1];\n          result[\"right\"]  += equalize[1];\n          result[\"center\"] += (result[\"right\"] - result[\"left\"] / 2);\n          break;\n        case \"height\":\n          result[\"height\"] += equalize[1];\n          result[\"bottom\"] += equalize[1];\n          result[\"middle\"] += (result[\"bottom\"] - result[\"top\"] / 2);\n          break;\n        }\n      });\n    }\n    \n    return result;\n  }\n});\n\nexport default $;"],"file":"jquery.js"}
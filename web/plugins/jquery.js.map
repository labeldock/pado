{"version":3,"sources":["../../.src/web/plugins/jquery.js"],"names":["$","require","getCurrentTarget","originalEvent","fallbackElement","result","currentTarget","target","documentElement","document","isElementEvent","e","stopPropagation","getElementPosition","el","element","xPosition","yPosition","offsetLeft","scrollLeft","clientLeft","offsetTop","scrollTop","clientTop","offsetParent","x","y","getPointerPosition","root","pos","touches","targetTouches","pageX","pageY","fn","extend","containsIn","node","eq","i","l","length","find","containsOut","predict","option","offsetWidth","window","innerWidth","offsetHeight","innerHeight","top","left","width","height","right","bottom","center","middle","allProps","filter","key","hasOwnProperty","forEach","optionOfKey","pointerPosition","test","valueOfKey","equalize"],"mappings":"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","sourcesContent":["import { isPlainObject } from '../../functions'\n\nconst $ = require('jquery')\n\nconst getCurrentTarget = function (originalEvent, fallbackElement){\n  let result = originalEvent.currentTarget || originalEvent.target\n  return (result && result.documentElement) ? (fallbackElement || result.documentElement) : document.documentElement\n}\n\nconst isElementEvent = $.isElementEvent = function (e){\n  return typeof e.stopPropagation === \"function\"\n}\n\nconst getElementPosition = $.getElementPosition = function (el){\n  let [ element ] = $(el)\n  \n  if(!element) return null\n  \n  let xPosition = 0\n  let yPosition = 0\n  \n  while(element && !element.documentElement){\n    xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft)\n    yPosition += (element.offsetTop - element.scrollTop + element.clientTop)\n    element = element.offsetParent\n  }\n  \n  return {x: xPosition, y: yPosition}\n}\n\n\nconst getPointerPosition = $.getPointerPosition = function (e, root){\n  root = !root ? document.documentElement : root\n\n  const pos = getElementPosition(root)\n  \n  if(!pos) return\n  \n  pos.x = (e.touches ? e.targetTouches[0].pageX : e.pageX) - pos.x\n  pos.y = (e.touches ? e.targetTouches[0].pageY : e.pageY) - pos.y\n  \n  return pos\n}\n\n$.fn.extend({\n  //파라메터 노드가 제이쿼리가 가진 노드 안에 있는지 확인\n  containsIn (node){\n    var [ target ] = $(node).eq(0)\n    if(target){\n      for(var i = 0, l = this.length; i < l; i++){\n        if(this[i] === target) return true\n        if(this.eq(i).find(target).length) return true\n      } \n    }\n    return false\n  },\n  //파라메터 노드가 제이쿼리가 가진 노드 밖에 있는지 확인\n  containsOut (node){\n    return !this.containsIn(node)\n  },\n  /*\n    //\n    $(window).predict()\n    $(window).predict({center:20});\n    $(window).predict({center:event});\n    \n    //TODO\n    $(window).predict(element)\n    $(window).predict(element, {center:20});\n  */\n  predict (option, root){\n    const [ element ] = this.eq(0)\n    if(!element) return\n    \n    const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = element[\"innerWidth\"] ? {\n      offsetTop   : 0, \n      offsetLeft  : 0, \n      offsetWidth : window.innerWidth, \n      offsetHeight: window.innerHeight\n    } : element\n    \n    const result = {\n      top   : offsetTop,\n      left  : offsetLeft,\n      width : offsetWidth,\n      height: offsetHeight,\n      right : offsetLeft + offsetWidth,\n      bottom: offsetTop + offsetHeight,\n      center: offsetLeft + offsetWidth / 2,\n      middle: offsetTop + offsetHeight / 2\n    }\n    \n    \n    //if(isElementEvent(option)){\n    //  const { x:left, y:top } = getPointerPosition(offset);\n    //  option = { left, top };\n    //}\n      \n    if(isPlainObject(option)){\n      //console.log(\"option,\",option)\n      const allProps = [\"top\", \"left\", \"width\", \"height\", \"right\", \"bottom\", \"center\", \"middle\"].filter(key=>option.hasOwnProperty(key))\n      \n      //event option\n      allProps.forEach((key)=>{\n        const optionOfKey = option[key]\n        if(!isElementEvent(optionOfKey)) return\n        const pointerPosition = getPointerPosition(optionOfKey, root || getCurrentTarget(optionOfKey, element) || element)\n        if(!pointerPosition) return\n        \n        if(/left|width|right|center/.test(key)){\n          option[key] = pointerPosition[\"x\"]\n        }\n        \n        if(/top|middle|bottom|height/.test(key)){\n          option[key] = pointerPosition[\"y\"]\n        }\n      })\n      \n      allProps.forEach((key)=>{\n        if(typeof option[key] !== \"number\") return\n\n        const valueOfKey = result[key]  \n        let equalize\n        \n        switch (key){\n          case \"top\":\n          case \"middle\":\n            equalize = [\"y\", option[key] - valueOfKey]\n            break\n          case \"left\":\n          case \"center\":\n            equalize = [\"x\", option[key] - valueOfKey]\n            break\n          case \"width\":\n            equalize = [\"width\", option[key] - valueOfKey]\n            break\n          case \"height\":\n            equalize = [\"height\", option[key] - valueOfKey]\n            break\n          case \"right\":\n            break\n          case \"bottom\":\n            break\n        }\n          \n        switch (equalize && equalize[0]){\n          case \"x\":\n            result[\"left\"] += equalize[1]\n            result[\"center\"] += equalize[1]\n            result[\"right\"] += equalize[1]\n            break\n          case \"y\":\n            result[\"top\"] += equalize[1]\n            result[\"middle\"] += equalize[1]\n            result[\"bottom\"] += equalize[1]\n            break\n          case \"width\":\n            result[\"width\"] += equalize[1]\n            result[\"right\"] += equalize[1]\n            result[\"center\"] += (result[\"right\"] - result[\"left\"] / 2)\n            break\n          case \"height\":\n            result[\"height\"] += equalize[1]\n            result[\"bottom\"] += equalize[1]\n            result[\"middle\"] += (result[\"bottom\"] - result[\"top\"] / 2)\n            break\n        }\n      })\n    }\n    \n    return result\n  }\n})\n\nexport default $\n"],"file":"jquery.js"}
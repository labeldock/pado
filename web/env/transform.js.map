{"version":3,"sources":["../../.src/web/env/transform.js"],"names":["getElementTransformMatrix","el","computedStyle","getComputedStyle","computedMatrixParam","transform","webkitTransform","MozTransform","msTransform","c","split","slice","length","parseMatrix","DEFAULT_MATRIX","m11","m21","m31","m41","m12","m22","m32","m42","m13","m23","m33","m43","m14","m24","m34","m44","matrixParam","matrix","Object","assign","getElementTransform","val","rotateY","Math","asin","rotateX","atan2","rotateZ","rotate","x","y","z","translate","transformStyle","transformVariant","likeString","isArray","TRANSFORM_UNDEFINED","parseTransformValue","value","matched","parseTransformMultivalue","valueProcess","unit","trim","undefined","singleValueHook","bag","i","parseValue","multiValueHook","multiValue","forEach","oneNumberToTwoArray","one","props","translateX","translateY","scaleX","scaleY","scaleZ","translate3d","scale","scale3d","rotate3d","translateVars","Array","fill","scaleVars","rotateVars","perspective","result","push","some","v","join"],"mappings":"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","sourcesContent":["import { likeString, isArray } from \"../../functions/isLike\"\n\nexport const getElementTransformMatrix = function (el){\n  const computedStyle       = getComputedStyle(el, null)\n  const computedMatrixParam = computedStyle.transform || computedStyle.webkitTransform || computedStyle.MozTransform || computedStyle.msTransform\n  const c = computedMatrixParam.split(/\\s*[(),]\\s*/).slice(1, -1)\n  if(c.length === 6){\n    return [\n      [+c[0], +c[2], 0, +c[4]],\n      [+c[1], +c[3], 0, +c[5]],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1]\n    ]\n  } else if(c.length === 16){\n    return [\n      [+c[0], +c[4], +c[8], +c[12]],\n      [+c[1], +c[5], +c[9], +c[13]],\n      [+c[2], +c[6], +c[10], +c[14]],\n      [+c[3], +c[7], +c[11], +c[15]]\n    ]\n  }\n  return null\n}\n\n/* https://keithclark.co.uk/articles/calculating-element-vertex-data-from-css-transforms/ */\nconst parseMatrix = (function (){\n  const DEFAULT_MATRIX = {\n    m11: 1,\n    m21: 0,\n    m31: 0,\n    m41: 0,\n    m12: 0,\n    m22: 1,\n    m32: 0,\n    m42: 0,\n    m13: 0,\n    m23: 0,\n    m33: 1,\n    m43: 0,\n    m14: 0,\n    m24: 0,\n    m34: 0,\n    m44: 1\n  }\n  \n  return function (matrixParam){\n    let c = matrixParam.split(/\\s*[(),]\\s*/).slice(1, -1)\n    let matrix\n\n    if(c.length === 6){\n      // 'matrix()' (3x2)\n      matrix = {\n        m11: +c[0],\n        m21: +c[2],\n        m31: 0,\n        m41: +c[4],\n        m12: +c[1],\n        m22: +c[3],\n        m32: 0,\n        m42: +c[5],\n        m13: 0,\n        m23: 0,\n        m33: 1,\n        m43: 0,\n        m14: 0,\n        m24: 0,\n        m34: 0,\n        m44: 1\n      }\n    } else if(c.length === 16){\n      // matrix3d() (4x4)\n      matrix = {\n        m11: +c[0],\n        m21: +c[4],\n        m31: +c[8],\n        m41: +c[12],\n        m12: +c[1],\n        m22: +c[5],\n        m32: +c[9],\n        m42: +c[13],\n        m13: +c[2],\n        m23: +c[6],\n        m33: +c[10],\n        m43: +c[14],\n        m14: +c[3],\n        m24: +c[7],\n        m34: +c[11],\n        m44: +c[15]\n      }\n    } else {\n      // handle 'none' or invalid values.\n      matrix = Object.assign({}, DEFAULT_MATRIX)\n    }\n    return matrix\n  }\n}())\n\n/* https://keithclark.co.uk/articles/calculating-element-vertex-data-from-css-transforms/ */\nexport const getElementTransform = function (el){\n  let computedStyle = getComputedStyle(el, null)\n  let val     = computedStyle.transform || computedStyle.webkitTransform || computedStyle.MozTransform || computedStyle.msTransform\n  let matrix  = parseMatrix(val)\n  let rotateY = Math.asin(-matrix.m13)\n  let rotateX = Math.atan2(matrix.m23, matrix.m33)\n  let rotateZ = Math.atan2(matrix.m12, matrix.m11)\n  \n  return {\n    rotate: {\n      x: rotateX,\n      y: rotateY,\n      z: rotateZ\n    },\n    translate: {\n      x: matrix.m41,\n      y: matrix.m42,\n      z: matrix.m43\n    },\n    matrix        : matrix,\n    transformStyle: val\n  }\n}\n\nexport const transformVariant = (function (likeString, isArray){\n  const TRANSFORM_UNDEFINED = \"0\"\n  \n  const parseTransformValue = function (value, matched){\n    likeString(value) && matched(value)\n  }\n  \n  const parseTransformMultivalue = function (value, matched){\n    isArray(value) && matched(value)\n  }\n  \n  const valueProcess = function (value, unit){\n    if(typeof value === \"number\"){\n      return `${value}${unit}`\n    }\n    if(typeof value === \"string\" && value.trim() !== \"\"){\n      return value\n    }\n    return undefined\n  }\n  \n  const singleValueHook = function (bag, unit, i){\n    return (value)=>{\n      const parseValue = valueProcess(value, unit)\n      if(parseValue === undefined) return\n      bag[i] = parseValue\n    }\n  }\n  \n  const multiValueHook = function (bag, unit){\n    return (multiValue)=>{\n      multiValue.forEach((value, i)=>{\n        const parseValue = valueProcess(value, unit)\n        if(parseValue === undefined) return\n        bag[i] = parseValue\n      })\n    }\n  }\n  \n  const oneNumberToTwoArray = function (one){\n    return typeof one === \"number\" ? [one, one] : one\n  }\n  \n  return function (props){\n    if(typeof props !== \"object\"){\n      return \"\"\n    }\n    const { translateX, translateY, scaleX, scaleY, scaleZ, rotateX, rotateY, rotateZ } = props\n    let { translate, translate3d, scale, scale3d, rotate, rotate3d } = props\n    translate = oneNumberToTwoArray(translate)\n    translate3d = oneNumberToTwoArray(translate3d)\n    scale = oneNumberToTwoArray(scale)\n    scale3d = oneNumberToTwoArray(scale3d)\n    if(typeof rotate === \"number\"){\n      rotate = [undefined, undefined, rotate]\n    }\n    if(typeof rotate3d === \"number\"){\n      rotate3d = [rotate3d]\n    }\n    \n    const translateVars = Array(3).fill(TRANSFORM_UNDEFINED)\n    const scaleVars  = Array(3).fill(TRANSFORM_UNDEFINED)\n    const rotateVars = Array(4).fill(TRANSFORM_UNDEFINED)\n    const perspective = valueProcess(props.perspective, \"px\")\n    const result = []\n    \n    parseTransformMultivalue(translate, multiValueHook(translateVars, \"px\"))\n    parseTransformMultivalue(translate3d, multiValueHook(translateVars, \"px\"))\n    parseTransformMultivalue(scale, multiValueHook(scaleVars, \"%\"))\n    parseTransformMultivalue(scale3d, multiValueHook(scaleVars, \"%\"))\n    parseTransformMultivalue(rotate, multiValueHook(rotateVars, \"deg\"))\n    parseTransformMultivalue(rotate3d, multiValueHook(rotateVars, \"deg\"))\n    parseTransformValue(translateX, singleValueHook(translateVars, \"px\", 0))\n    parseTransformValue(translateY, singleValueHook(translateVars, \"px\", 1))\n    parseTransformValue(scaleX, singleValueHook(scaleVars, \"%\", 0))\n    parseTransformValue(scaleY, singleValueHook(scaleVars, \"%\", 1))\n    parseTransformValue(scaleZ, singleValueHook(scaleVars, \"%\", 2))\n    parseTransformValue(rotateX, singleValueHook(rotateVars, \"deg\", 0))\n    parseTransformValue(rotateY, singleValueHook(rotateVars, \"deg\", 1))\n    parseTransformValue(rotateZ, singleValueHook(rotateVars, \"deg\", 2))\n    \n    perspective && result.push(`perspective(${perspective})`)\n    \n    if(translateVars.some(v=>v !== TRANSFORM_UNDEFINED)){\n      translateVars[2] === TRANSFORM_UNDEFINED \n        ? result.push(`translate(${translateVars[0]},${translateVars[1]})`)\n        : result.push(`translate3d(${translateVars[0]},${translateVars[1]},${translateVars[2]})`)\n    }\n    if(scaleVars.some(v=>v !== TRANSFORM_UNDEFINED)){\n      scaleVars[2] === TRANSFORM_UNDEFINED \n        ? result.push(`scale(${scaleVars[0]},${scaleVars[1]})`)\n        : result.push(`scale3d(${scaleVars[0]},${scaleVars[1]},${scaleVars[2]})`)\n    }\n    if(rotateVars.some(v=>v !== TRANSFORM_UNDEFINED)){\n      if(rotateVars[0] === TRANSFORM_UNDEFINED && rotateVars[1] === TRANSFORM_UNDEFINED && rotateVars[2] !== TRANSFORM_UNDEFINED){\n        return result.push(`rotate(${rotateVars[2]})`)\n      }\n      if(rotateVars[0] !== TRANSFORM_UNDEFINED){\n        result.push(`rotate3d(1,0,0,${rotateVars[0]})`)\n      }\n      if(rotateVars[1] !== TRANSFORM_UNDEFINED){\n        result.push(`rotate3d(0,1,0,${rotateVars[1]})`)\n      }\n      if(rotateVars[2] !== TRANSFORM_UNDEFINED){\n        result.push(`rotate3d(0,0,1,${rotateVars[2]})`)\n      }\n    }\n    \n    return result.join(\" \")\n  }\n}(likeString, isArray))\n"],"file":"transform.js"}
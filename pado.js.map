{"version":3,"file":"pado.js","sources":["packages/pado/functions/isLike.js","packages/pado/functions/baseFunction.js","packages/pado/functions/cast.js","packages/pado/functions/castString.js","packages/pado/functions/enumerable.js","packages/pado/functions/reform.js","packages/pado/functions/reduce/reduce.base.js","packages/pado/functions/read.js","packages/pado/functions/reduce/reduce.js","packages/pado/functions/nice.js","packages/pado/functions/matrix.js","packages/pado/functions/random.js","packages/pado/functions/datetime.js","packages/pado/functions/remark.js","packages/pado/functions/hack.js","packages/pado/functions/draw.js","packages/pado/modules/promise/promiseEngine.js","packages/pado/modules/promise/promise.js","packages/pado/modules/operate.js","packages/pado/modules/promise/promiseFunctions.js","packages/pado/modules/block.js","packages/pado/modules/session.js","packages/pado/modules/ranger.js","packages/pado/modules/matrix.js","packages/pado/modules/stance.js","packages/pado/modules/affect.js","packages/pado/modules/decorator.js","packages/pado/pado.core.js","packages/pado/pado.js"],"sourcesContent":["export const isAbsoluteNaN = function (it){\n  // eslint-disable-next-line no-self-compare\n  return it !== it && typeof it === \"number\"\n}\n\nexport const isNone = function (data){\n  return isAbsoluteNaN(data) || data === undefined || data === null\n}\n\nexport const isInfinity = function (it){\n  return it === Number.POSITIVE_INFINITY || it === Number.NEGATIVE_INFINITY\n}\n\nexport const isNumber = function (it){\n  return (typeof it === \"number\" && !isInfinity(it) && !isAbsoluteNaN(it))\n}\n\nexport const isInteger = function (value){\n  //NaN, null, undefined\n  if(isNone(value) === true) return false\n  \n  if(typeof value === \"string\"){\n    value = value.trim()\n  }\n\n  if(!(/string|number/.test(typeof value)) || isInfinity(value) || isNaN(value)){\n    return false\n  }\n\n  return value == parseInt(value, 10)\n}\n\nexport const isArray = function (data){\n  return Array.isArray(data) || data instanceof Array\n}\n\nexport const isObject   = it=>!!((it !== null && typeof it === \"object\"))\nexport const isFunction = (it)=>typeof it === \"function\"\n\n/*\n  * likeObject is have hasOwnProperty\n*/\nexport const likeObject = (it)=>isObject(it) || isFunction(it)\n\nexport const likeString = function (data){\n  if(typeof data === \"string\") return true\n  if(isNumber(data)) return true\n  return false\n}\n\nexport const likeNumber = function (data){\n  if(isNumber(data)) return true\n  if(typeof data === \"string\") return String(parseFloat(data)) === String(data)\n  return false\n}\n\nexport const likeArray = function (item){\n  return (\n    Array.isArray(item) || \n    ( \n      item !== null &&\n      typeof item === \"object\" &&\n      item.hasOwnProperty(\"length\") && \n      typeof item.length === \"number\" && \n      item.length > 0\n    )\n  )\n}\n\nexport const isPlainObject = data=>typeof data === \"object\" && data.constructor === Object\n\nexport const isEnumerableObject = data=>isPlainObject(data) || isArray(data)\n\nexport const isNode = (a)=>isObject(a) && typeof a.nodeType === \"number\"\n\nexport const isEmpty = function (it){\n  if(typeof it === \"undefined\") return true\n  if(typeof it === \"string\") return it.trim().length < 1\n  if(typeof it === \"object\"){\n    if(it == null) return true\n    if(it instanceof RegExp) return false      \n    if(isArray(it)){\n      return !it.length\n    } else {\n      for(var prop in it) return false; return true\n    }\n  }\n  if(typeof it === \"number\"){\n    //NaN check \n    return isAbsoluteNaN(it) || false\n  }\n  if(typeof it === \"function\") return false\n  if(typeof it === \"boolean\") return false\n  return true\n}\n\n// check JSON, input.value possible value\nexport const isPresence = function (it){\n  return !(it === undefined || isAbsoluteNaN(it))\n}\n\nexport const likeRegexp = (s)=>(typeof s === \"string\") || (s instanceof RegExp)\n\n// none(undfinec, null, NaN), value(1,\"1\"), hash({}), array([]), node, object(new, Date), function, boolean\nexport const eqof = function (it){\n  const typeIt = typeof it\n  switch (typeIt){\n    case \"number\":\n      if(isAbsoluteNaN(it)) return \"none\"\n    case \"string\":\n      return \"value\"\n      break\n    case \"object\":\n      if(isNone(it)) return \"none\"\n      if(likeArray(it)) return \"array\"\n      if(isNode(it)) return \"node\"\n      if(!isPlainObject(it)) return \"object\"\n      return \"hash\"\n      break\n    case \"undefined\":\n      return \"none\"\n      break\n    case \"function\":\n    case \"boolean\":\n    default:\n      return typeIt\n      break\n  }\n}\n\nconst baseEq = function (value, other, filter, depth = 0, strict){\n  if(arguments.length < 2) return false\n  \n  const valueType = eqof(value)\n  const otherType = eqof(other)\n  \n  if(valueType !== otherType) return false\n  \n  switch (valueType){\n    case \"none\":\n      return true\n    case \"array\":\n      if(value.length !== other.length){\n        return false\n      }\n      return value.every((vValue, i)=>{\n        const oValue = other[i]\n        return (typeof filter === \"function\" && filter(i, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"hash\":\n      const vKeys = Object.keys(value); const oKeys = Object.keys(other)\n      if(vKeys.length !== oKeys.length || !baseEq(vKeys.sort(), oKeys.sort())) return false\n      return vKeys.every((key)=>{\n        const vValue = value[key]\n        const oValue = other[key]\n        return (typeof filter === \"function\" && filter(key, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"node\":\n    case \"object\":\n    case \"function\":\n    case \"boolean\":\n    case \"value\":\n    default:\n      return strict ? value === other : value == other\n  }\n}\n\nexport const isEqual   = (value, other, filter, depth)=>baseEq(value, other, filter, depth, true)\nexport const likeEqual = (value, other, filter, depth)=>baseEq(\n  value,\n  other,\n  (key, values, depth)=>/^(\\$|\\_)/.test(key) ? false : typeof filter === \"function\" ? filter(key, values, depth) : true, \n  depth, \n  true\n)\nexport const eqeq      = (value, other, filter, depth)=>baseEq(value, other, filter, depth, false)\n\nexport const isExsist = function (value){\n  if(value === true){\n    return true\n  }\n  if(value === false){\n    return false\n  }\n  if(typeof value === \"string\" || typeof value === \"number\"){\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const notExsist = value=>!isExsist(value)\n\nexport const likePromise = (target)=>(typeof target === \"object\" && target !== null && typeof target['then'] === \"function\" && typeof target['catch'] === \"function\")\n","import {\n  likeObject,\n  likeArray,\n  likeString,\n  isPlainObject,\n  isArray,\n  isNone\n} from './isLike'\n\nexport const baseAsArray = function (data, defaultArray = undefined){\n  if(isArray(data)){\n    return data\n  }\n  if(isNone(data)){\n    return isArray(defaultArray) ? defaultArray\n      : isNone(defaultArray) ? [] : [defaultArray]\n  }\n  if(typeof data === \"object\" && typeof data.toArray === \"function\"){\n    return data.toArray()\n  }\n  return [data]\n}\n\nexport const stringTest = function (string, rule, meta){\n  if(!likeString(string)) return false\n  if(typeof rule === \"undefined\") return true\n  return typeof rule === \"function\" ? Boolean(rule(string, meta))\n    : likeString(rule) ? (string + '').indexOf(rule + '') > -1\n    : rule instanceof RegExp ? rule.test(string)\n    : isArray(rule) ? rule.some(filterKey=>filterKey === string)\n    : false\n}\n\n//remark.spec.js\nexport const matchString = (it, search, at = 0)=>{\n  if(typeof it !== \"string\") throw new Error(`matchString :: worng argument ${it}`)\n  if(typeof search === \"string\") search = search.replace(new RegExp(\"(\\\\.|\\\\[|\\\\])\", \"g\"), s=>`\\\\${s}`)\n  const result = it.substr(at).match(search)\n  return result ? [result.index + at, result[0].length] : [-1, 0]\n}\n\nexport const baseKeys = function (target, filterExp, strict){\n  const result = []\n  \n  if(!likeObject(target)){\n    return result\n  }\n  \n  if(strict === true ? isArray(target) : likeArray(target)){\n    Object.keys(target).filter(key=>{ \n      if(isNaN(key)) return\n      const numberKey = parseInt(key, 10)\n      stringTest(numberKey, filterExp, target[key]) && result.push(parseInt(numberKey, 10)) \n    })\n  } else if((strict === true ? isPlainObject(target) : likeObject(target))){\n    Object.keys(target).forEach(key=>{ \n      stringTest(key, filterExp, target[key]) && result.push(key) \n    })\n  }\n  \n  return result\n}\n\nexport const baseEntries = function (it){\n  const result = []\n  switch (typeof it){\n    case \"object\":\n      // eslint-disable-next-line no-unused-expressions\n      isNone(it) ? 0\n        : likeArray(it) ? baseAsArray(it).forEach((v, k)=>{ result.push([k, v]) })\n        : Object.keys(it).forEach(key=>{ result.push([key, it[key]]) })\n      break\n  }\n  return result\n}\n","import {\n  isNumber,\n  isArray,\n  isAbsoluteNaN,\n  isPlainObject,\n  isObject,\n  isFunction,\n  isNode\n} from './isLike'\n\nimport {\n  baseAsArray,\n  stringTest,\n  baseKeys\n} from './baseFunction'\n\nexport const asArray = baseAsArray\n\nexport const toArray = function (data, option){\n  if(typeof data === \"undefined\" || data === null || isAbsoluteNaN(data)) return []\n  if(isArray(data)) return Array.prototype.slice.call(data)\n  if(typeof data === \"object\" && typeof data.toArray === \"function\") return data.toArray()\n  if(typeof data === \"string\" && typeof option === \"string\") return data.split(option)\n  return [data]\n}\n\nexport const asObject = function (data, defaultKey = \"default\"){\n  if(isPlainObject(data)){\n    return data\n  } else {\n    return { [defaultKey]: data }\n  }\n}\n\nexport const toNumber = function (v, d){\n  switch (typeof v){ case \"number\":return v; case \"string\":const vr = v.replace(/[^.\\d\\-]/g, \"\") * 1; return isAbsoluteNaN(vr) ? 0 : vr; break }\n  switch (typeof d){ case \"number\":return d; case \"string\":const dr = d * 1; return isAbsoluteNaN(dr) ? 0 : dr; break }\n  return 0\n}\n\nexport const cleanObject = function (data){\n  if(data instanceof Array){\n    Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    Object.keys(data).forEach(key=>{ delete data[key] })\n  }\n  return data\n}\n\nexport const clone = function (target){\n  switch (typeof target){\n    case \"undefined\": case \"function\": case \"boolean\": case \"number\": case \"string\": return target; break\n    case \"object\":\n      if(target === null) return target\n    \n      if(isArray(target)){\n        let r = []\n        for(let i = 0, length = target.length; i < length; i++)r.push(target[i])\n        return r\n      }\n    \n      if(!isPlainObject(target)){\n        if(target instanceof Date){\n          let r = new Date()\n          r.setTime(target.getTime())\n          return r\n        }\n        return target\n      }\n    \n      let r = {}\n    \n      Object.keys(target).forEach(k=>{\n        if(target.hasOwnProperty(k)) r[k] = target[k]\n      })\n      return r\n      break\n    default : \n      console.error(\"clone::copy failed : target => \", target)\n      return target \n      break\n  }\n}\n\nexport const cloneDeep = function (target){\n  if(typeof target === \"object\"){\n    let d\n    if(isArray(target)){\n      if(!isArray(d)){ d = [] };\n      for(var i = 0, l = target.length; i < l; i++) d.push(((typeof target[i] === \"object\" && target[i] !== null) ? clone(target[i]) : target[i]))\n      return d\n    } else {\n      d = {}\n      Object.keys(target).forEach(p=>{\n        (typeof target[p] === \"object\" && target[p] !== null && d[p]) ? clone(target[p], d[p]) : d[p] = target[p]\n      })\n      return d\n    }\n  } else {\n    return clone(target)\n  }\n}\n\nconst getKeyWithValue = function (obj, value){\n  if(isArray(obj)){\n    for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return i\n  } \n  if(isObject(obj)){\n    for(var key in obj) if(obj[key] === value) return key\n  }\n  return undefined\n}\n\nexport const removeValue = function (obj, value){\n  var detect = true\n  var array  = isArray(obj)\n\n  while(detect){\n    var key = getKeyWithValue(obj, value)\n    if(typeof key === \"undefined\"){\n      detect = false\n    } else {\n      if(array){\n        obj.splice(key, 1)\n      } else {\n        delete obj[key]\n      }\n    }\n  }\n\n  return obj\n}\n\n\n// Only one unique value is left.\nexport const unique = function (array, findKey){\n  const result    = []\n  const uniqueSet = new Set()\n  if(typeof findKey === \"undefined\"){ findKey = (v)=>v }\n  if(typeof findKey === \"string\"){ const keyPath = findKey; findKey = (v)=>v[keyPath] }\n  array.forEach((v)=>{\n    const key = findKey(v)\n    if(uniqueSet.has(key)) return\n    uniqueSet.add(key)\n    result.push(v)\n  })\n  return result\n}\n\nexport const getKeyBy = function (object, value){\n  if(isFunction(value)){\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(value(object[i], i) === true) return i\n    if(isObject(object)) for(var key in object) if(value(object[key], key) === true) return key\n  } else {\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(object[i] === value) return i\n    if(isObject(object)) for(var key in object) if(object[key] === value) return key\n  }\n}\n\n// Change the positions of the specified indexes in the array\nexport const moveOf = function (data, oldIndex, newIndex){\n  data = asArray(data)\n  oldIndex !== newIndex && \n  isNumber(oldIndex) &&\n  isNumber(newIndex) &&\n  oldIndex >= 0 && oldIndex < data.length && \n  Array.prototype.splice.call(data, newIndex > data.length ? data.length : newIndex, 0, Array.prototype.splice.call(data, oldIndex, 1)[0])\n  return data\n}\nexport const move = (data, oldIndex, newIndex)=>moveOf(toArray(data), oldIndex, newIndex)\n\n\n// Supports self concat.\nconst baseConcatOf = (data, args)=>{\n  const result = asArray(data)\n  return (args.forEach(data=>{ asArray(data).forEach(value=>{ result.push(value) }) }), result)\n}\nexport const concatOf = (data, ...args)=>baseConcatOf(data, args)\nexport const concat = (data, ...args)=>baseConcatOf(toArray(data), args)\n\n\n// Removes the value of data that does not return a positive value to the filter function.\nexport const filterOf = function (data, filterFn, exitFn){\n  const dataArray = asArray(data)\n  const dataKeys = baseKeys(data)\n  const isOnExit = typeof exitFn === \"function\"\n  const exitArray = isOnExit ? [] : null\n  for(let i = 0, removedIndex = 0, l = dataKeys.length; i < l; i++, removedIndex++){\n    const datumKey = dataKeys[i]\n    const datum = dataArray[datumKey]\n    if(filterFn(datum, datumKey) !== true){\n      const exitDatum = dataArray.splice(i, 1)\n      i--\n      l--\n      isOnExit && exitArray.push([removedIndex, exitDatum])\n    }\n  }\n  isOnExit && exitFn(exitArray, dataArray)\n  return dataArray\n}\nexport const filter = (data, func, exitFn)=>filterOf(toArray(data), func, exitFn)\n\n\n// Put the specified value in the specified index.\nexport const insertOf = function (data, v, a){\n  data = asArray(data)\n  return (data.splice(typeof a === \"number\" ? a : 0, 0, v), data)\n}\nexport const insert = (data, v, a)=>insertOf(toArray(data), v, a)\n\n\n// Removes all contents of an array or object.\nexport const clearOf = function (data, fillFn, sp){\n  if(isArray(data)){\n    sp = Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    sp = {}\n    for(var key in data){ sp[key] = data[key]; delete data[key] } \n  }\n  return (fillFn && fillFn(data, sp)), data\n}\n\n// sort\nexport const sortOf = function (data, filter){\n  if(data.length == 0){\n    return data\n  }\n  \n  switch (filter){\n    case 'desc':\n      filter = function (a, b){ return a > b }\n      break\n    case undefined:\n    case 'asc':\n    default:\n      if(typeof filter !== \"function\"){\n        filter = function (a, b){ return a < b }\n      }\n      break\n  }\n\n  var result = [data[0]]\n\n  for(var i = 1, l = data.length; i < l; i++){\n    for(var ri = 0, rl = result.length; ri < rl; ri++){\n      if(filter(data[i], result[ri]) === true){\n        insertOf(result, data[i], ri)\n        break\n      }\n      if((ri + 1) === result.length){\n        result.push(data[i])\n      }\n    }\n  }\n\n  clearOf(data)\n\n  for(var i = 0, l = result.length; i < l; data.push(result[i]), i++);\n  \n  return data\n}\n\nexport const sort = (data, filter)=>sortOf(toArray(data), filter)\n\n// If have defined multiple key names in one hash, change them appropriately.\n// rebase({ \"a,b\":1 }) => { \"a\":1, \"b\":1 }\nexport const rebase = function (obj, ref){\n  var result = {}\n  for(var key in obj){\n    if(key === \".*\"){\n      var refValue = obj[key]\n      for(var i = 0, d = Object.keys(ref), l = d.length; i < l; i++){\n        var refKey = d[i]\n        if(typeof refValue === \"function\"){\n          result[refKey] = obj[key]\n        } else {\n          if((typeof refValue !== \"object\" && typeof refValue !== \"object\") || isNode(refValue)){\n            result[refKey] = refValue\n          } else {\n            result[refKey] = Object.assign(result[refKey], refValue)\n          }\n        }\n      }\n    } else if(key.indexOf(\",\") > -1){\n      key.split(\",\").forEach(deepKey=>{\n        deepKey = deepKey.trim()\n        if(typeof obj[key] === \"function\"){\n          result[deepKey] = obj[key]\n        } else {\n          if((!result.hasOwnProperty(deepKey) && typeof obj[key] !== \"object\") || isNode(obj[key])){\n            result[deepKey] = obj[key]\n          } else {\n            result[deepKey] = Object.assign(result[deepKey] || (isArray(obj[key]) ? [] : {}), obj[key], obj[deepKey])\n          }\n        }\n      })\n    } else {\n      if(typeof obj[key] === \"function\"){\n        result[key] = obj[key]\n      } else {\n        if((typeof result[key] !== \"object\" && typeof obj[key] !== \"object\") || isNode(obj[key])){\n          result[key] = obj[key]\n        } else {\n          result[key] = Object.assign(result[key], obj[key])\n        }\n      }\n    }\n  }\n  return result\n}\n\nconst removeKey = function (datum, rule){\n  if(!isObject(datum)) return datum\n  const removeRule = typeof rule === \"function\" ? (key, value)=>rule(value, key) : rule\n  const removeKeys = baseKeys(datum, removeRule)\n  if(!removeKeys.length) return datum\n  \n  isArray(datum)\n    ? removeKeys.forEach((originalIndex, offset)=>{\n      const removeIndex = originalIndex - offset\n      datum.splice(removeIndex, 1)\n    })\n    : removeKeys.forEach(key=>{ delete datum[key] })\n\n  return datum\n}\n\n// If the rule matches the rule, remove the key\nexport const omitOf = (datum, rule)=>removeKey(datum, rule)\nexport const omit = (datum, rule)=>omitOf(clone(datum), rule)\n\n// If the rule matches the rule, preserve the key.\nexport const pickOf = (datum, rule)=>removeKey(datum, (value, key)=>!stringTest(key, rule, value))\nexport const pick = (datum, rule)=>pickOf(clone(datum), rule)\n\n// Remove the key that has a value of undefined\n//const COMPACT_MATCH_FN = value=>typeof value !== \"undefined\"\nconst COMPACT_MATCH_FN = value=>{\n  return typeof value === \"undefined\"\n}\nexport const compactOf = (datum)=>omitOf(datum, COMPACT_MATCH_FN)\nexport const compact = (datum)=>compactOf(clone(datum))\n\n// Clears key values starting with $\nconst FREE_MATCH_EXPRESSION = /^\\$/\nexport const freeOf = (datum)=>omitOf(datum, FREE_MATCH_EXPRESSION)\nexport const free = (datum)=>freeOf(clone(datum))\n\n// Remove the key that begins with $ or has a value of undefined.\nexport const purgeOf = (datum)=>omitOf(datum, (value, key)=>FREE_MATCH_EXPRESSION.test(key) || COMPACT_MATCH_FN(value))\nexport const purge = (datum)=>purgeOf(clone(datum))\n\n/* Experimental\nexport const injectOf = (data,injectFn)=>keys(data).reduce((dest, key)=>((dest[key] = injectFn(dest[key], key)), dest),asObject(data))\nexport const inject = (data, injectFn)=>injectOf(clone(data), injectFn);\n\nexport const mapOf = (data, mapFn)=>asArray(data).map(mapFn);\nexport const map = (data, mapFn)=>mapOf(clone(data), mapFn);\n*/\n\n\n//\nexport const instance = function (func, proto){\n  var ins; var DummyInstance = function (param){ if(typeof param === \"object\") for(var k in param) this[k] = param[k] }\n  if(typeof func == \"object\"){\n    if(typeof proto === \"object\") DummyInstance.prototype = proto\n    ins = new DummyInstance(func)\n  }\n  if(typeof func == \"function\"){\n    if(typeof proto === \"object\") func.prototype = proto\n    ins = (new func())\n  }\n  return ins\n}\n\nexport const alloc = function (init){\n  let fn = init()\n  const rn = function (...args){\n    return fn.apply(this, args)\n  }\n  rn['reset'] = function (){ fn = init(rn, rn) }\n  rn['$constructor'] = fn\n  return rn\n}\n\n// TODO\n/*\nconst syncData = (function (){\n  const ENTER_HOOK  = (newDatum)=>Object.assign({}, newDatum)\n  const UPDATE_HOOK = (oldDatum, newDatum)=>Object.assign({}, oldDatum, newDatum)\n  \n  return function (oldData, newData, getId, options){\n    if(!/string|function/.test(typeof getId)) throw new Error(\"syncData need getId\")\n  \n    if(typeof getId === \"string\"){\n      const getIdString = getId\n      getId = e=>_.get(e, getIdString)\n    }\n\n    oldData = asArray(oldData)\n    newData = asArray(newData)\n\n    const result = []\n    const hooks  = asObject(options, \"afterEach\")\n    \n    if(typeof hooks[\"enter\"] !== \"function\"){\n      hooks[\"enter\"] = ENTER_HOOK\n    }\n    \n    if(typeof hooks[\"update\"] !== \"function\"){\n      hooks[\"update\"] = UPDATE_HOOK\n    }\n    \n    const oldDataMap = _.map(oldData, e=>{\n      return { id: getId(e), ref: e }\n    })\n    \n    \n    asArray(newData).forEach((newDatum, i)=>{\n      const newId = getId(newDatum)\n      \n      let oldDatum = _.get(oldDataMap[_.findIndex(oldDataMap, e=>e.id === newId)], \"ref\")\n      let genDatum\n      let dirty = false\n      // eslint-disable-next-line no-undef\n      if(oldDatum){\n        // change is not dirty, modify is dirty\n        if(typeof oldDatum !== typeof newDatum){\n          dirty = false\n        } else { // same type\n          const oldOwnKeys = Object.keys(oldDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n          const newOwnKeys = Object.keys(newDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n\n          // inspect key chnage\n          if(_.isEqual(oldOwnKeys, newOwnKeys)){\n            dirty = !_.isEqual(_.pick(oldDatum, oldOwnKeys), _.pick(newDatum, newOwnKeys))\n          } else {\n            dirty = true\n          }\n        }\n        \n        if(typeof hooks[\"beforeUpdate\"] === \"function\"){\n          if(hooks[\"beforeUpdate\"](oldDatum, newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"update\"](oldDatum, newDatum)\n        \n        if(typeof hooks[\"afterUpdate\"] === \"function\"){\n          genDatum = hooks[\"afterUpdate\"](genDatum, oldDatum, newDatum)\n        }\n      } else {\n        if(typeof hooks[\"beforeEnter\"] === \"function\"){\n          if(hooks[\"beforeEnter\"](newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"enter\"](newDatum)\n        \n        if(typeof hooks[\"afterEnter\"] === \"function\"){\n          genDatum = hooks[\"afterEnter\"](genDatum, newDatum)\n        }\n      }\n\n      if(typeof hooks[\"afterEach\"] === \"function\"){\n        hooks[\"afterEach\"](genDatum, i, dirty)\n      }\n\n      result.push(genDatum)\n    })\n\n    return result\n  }\n}())\n*/\n","const baseCaseSplit = function (s){\n  s = s.replace(/^\\#/, \"\").trim()\n\n  var e = s.split(/\\s+/)\n  if(e.length > 1) return e\n\n  var k = s.split(/\\-+/)\n  if(k.length > 1) return k\n\n  var _ = s.split(/\\_+/)\n  if(_.length > 1) return _\n\n  return s.replace(/[A-Z][a-z]/g, function (s){ return `%@${s}` }).replace(/^\\%\\@/, \"\").split(\"%@\")\n}\n\nexport const pascalCase = function (string, joinString = \"\"){\n  const words = baseCaseSplit(string)\n  for(var i = 0, l = words.length; i < l; i++) words[i] = words[i].charAt(0).toUpperCase() + words[i].slice(1).toLowerCase()\n  return words.join(joinString)\n}\n\nexport const camelCase = function (string, joinString = \"\"){\n  const pascalCaseString = pascalCase(string, joinString)\n  return `${(pascalCaseString.substr(0, 1) || '').toLowerCase()}${pascalCaseString.substr(1) || ''}`\n}\n","import {\n  isArray,\n  isObject\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nexport const all = function (data, fn){\n  data = asArray(data)\n  \n  if(data.length === 0){\n    return false\n  }\n  \n  for(let i = 0, l = data.length; i < l; i++){\n    if(!fn(data[i], i)){\n      return false\n    } \n  };\n  \n  return true\n}\n\nexport const times = function (length, fn){\n  const result = []\n  for(var i = 0, l = length; i < l; i++){\n    result.push(fn(i))\n  }\n  return result\n}\n\nexport const hashMap = function (object, fn){\n  if(typeof object === \"object\" && !isArray(object)) for(var k in object) object[k] = fn(object[k], k)\n  else return fn(object, (void 0))\n  return object\n}\n\nexport const pairs = (inputArr, fn)=>{\n  let result = []\n  for(let i = 0, l = inputArr.length; i < l; i++){\n    for(let ai = 0, al = l; ai < al; (i !== ai && result.push([inputArr[i], inputArr[ai]])), ai++);\n  }\n  return typeof fn === \"function\" ? result.map(applyArgs=>fn.apply(undefined, applyArgs)) : result\n}\n\nexport const deepForEach = (nsData, key, proc, startParam)=>{\n  if (nsData && key && proc) {\n    const nestedTreeDownProcess = function(nested, key, proc, parentReturn, depth) {\n      ++depth;\n      let procIndex = 0;\n\n      asArray(nested).forEach((data, forKey) => {\n        if (isArray(data)) {\n          data.length && nestedTreeDownProcess(data, key, proc, parentReturn, depth);\n        } else {\n          if ((isArray(nested) && isObject(data)) || (isObject(data) && forKey == key)) {\n            const destChilds = [];\n\n            if (key === Object) {\n              asArray(Object.keys(data)).forEach(ok => {\n                isArray(data[ok]) && destChilds.push(data[ok]);\n              });\n            }\n\n            typeof data[key] === \"object\" && destChilds.push(data[key]);\n\n            const procReturn = proc(data, parentReturn, depth, procIndex++);\n\n            asArray(destChilds).forEach(dest => { nestedTreeDownProcess(dest, key, proc, procReturn, depth); });\n          }\n        }\n      });\n    };\n\n    if (isObject(nsData) && !isArray(nsData)) {\n      const destChilds = [];\n\n      key === Object && Object.keys(nsData).forEach(ok => {\n        isArray(nsData[ok]) && destChilds.push(nsData[ok]);\n      });\n      typeof nsData[key] === \"object\" && destChilds.push(nsData[key]);\n\n      startParam = proc(nsData, startParam, 0);\n\n      asArray(destChilds).forEach(dest => {\n        nestedTreeDownProcess(dest, key, proc, startParam, 0);\n      });\n    } else {\n      nestedTreeDownProcess(nsData, key, proc, startParam, -1);\n    }\n    return nsData;\n  }\n};\n\nexport const nested = (nsData, key, select, proc)=>{\n  let result = [];\n  let fineded = false;\n  deepForEach(nsData, key, (data, parentReturn, depth, index) => {\n    if (fineded) return;\n    if (typeof select === \"function\" ? select(data, parentReturn, depth, index) : data === select) {\n      fineded = true;\n      return result = parentReturn.concat([data]);\n    }\n    return parentReturn.concat([data]);\n  }, []);\n\n  if (typeof proc === \"function\") {\n    asArray(result).forEach(proc);\n  }\n\n  return result;\n};\n","import {\n  asArray\n} from './cast'\n\nimport { \n  isNumber\n} from './isLike'\n\nexport const fill = function (collection, fillLength, emptyDefault = undefined){\n  const data = asArray(collection)\n  let dataLength = data.length\n  \n  fillLength = isNumber(fillLength) ? fillLength : 0\n  const fillFn = typeof emptyDefault !== \"function\" ? ()=>emptyDefault : emptyDefault\n  \n  for(let i = 0, l = fillLength - dataLength; i < l; data.push(fillFn(dataLength++, i++)));\n  \n  return collection\n}\n","import { \n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  fill\n} from '../reform'\n\nexport const baseCut = function (collection, cutLength, emptyDefault, useFill){\n  let data = asArray(collection); let rest\n  cutLength = isNumber(cutLength) ? cutLength : 1\n  \n  if(data.length > cutLength){\n    rest = data.splice(cutLength, Number.POSITIVE_INFINITY)\n    return [data, rest]\n  }\n  \n  useFill === true && (data = fill(data, cutLength, emptyDefault))\n  return [data, []]\n}\n","import {\n  isArray,\n  likeString,\n  isObject,\n  likeObject,\n  isNumber,\n  isEmpty\n} from './isLike'\n\nimport {\n  matchString,\n  baseEntries\n} from './baseFunction'\n\nimport {\n  all\n} from './enumerable'\n\nimport {\n  asArray\n} from './cast'\n\n\n//read.readString.spec.js\nexport const readString = (function (){\n  const rebaseMatches = matches=>baseEntries(asArray(matches))\n  return function (text, matches, castFn, props){\n    const payload = {\n      content: text,\n      props\n    }\n  \n    const newMatchEntries = rebaseMatches(matches)\n  \n    const castingState = {\n      firstIndex  : 0,\n      lastIndex   : text.length,\n      castingStart: 0,\n      cursor      : 0\n    }\n    \n    if(typeof props === \"object\" && isNumber(props.start)){\n      castingState.castingStart = props.start\n      castingState.cursor = props.start\n    }\n\n    const open = function ({ castingState:{ firstIndex, lastIndex, castingStart, cursor }, matchEntries, castFn, parentScope }){\n      if(cursor >= lastIndex){\n        return false\n      }\n      \n      //find match\n      const matchesMap = matchEntries.map(([matchType, matchExp])=>([matchString(text, matchExp, cursor), matchType, matchExp]))\n      let firstMatch   = asArray(matchesMap).sort(([a, aPriority], [b, bPriority])=>(\n        a[0] < 0 ? true\n        : b[0] < 0 ? false\n        : a[0] == b[0] ? aPriority < bPriority : a[0] > b[0]\n      ))[0]\n      \n      // top match is not exsist\n      if(!firstMatch){ return false }\n      \n      // unmatched\n      if(firstMatch[0][0] === -1){\n        firstMatch = [[-1, 0], -1, null]\n      }\n\n      //next variant\n      const [[ matchIndex, matchSize ], matchType, matchExp] = firstMatch\n      const castStart = castingStart\n      const castEnd   = matchType === -1 ? lastIndex : (matchIndex + matchSize)\n      const castSize  = castEnd - castStart\n      const skipSize  = castSize - matchSize\n      \n      //next params\n      const matching = { \n        matchType, \n        matchExp,\n        matchIndex,\n        matchSize,\n        skipSize\n      }\n      const casting = {\n        firstIndex,\n        lastIndex,\n        castStart,\n        castEnd,\n        castSize\n      }\n      const scope = {\n        fork (matchEntries, castFn){\n          const newMatchEntries = rebaseMatches(matches)\n          open({\n            castingState: {\n              firstIndex  : matching.matchIndex,\n              lastIndex   : matching.matchIndex + matchSize,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            }, \n            matchEntries: newMatchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        next (needCursor){\n          const cursorTo = isNumber(needCursor) ? needCursor : casting.castEnd\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: cursorTo,\n              cursor      : cursorTo\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        enter (enterMatches, enterCastFn){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            },\n            matchEntries: rebaseMatches(enterMatches),\n            castFn      : enterCastFn,\n            parentScope : {\n              next: scope.next\n            }\n          })\n        },\n        exit (needCursor){\n          parentScope && parentScope.next(isNumber(needCursor) ? needCursor : casting.castEnd)\n        },\n        more (){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: castStart,\n              cursor      : casting.castEnd\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        }\n      }\n      \n      castFn({\n        ...payload,\n        ...matching,\n        ...casting,\n        ...scope\n      })\n      \n      return true\n    }\n    \n    open({\n      castingState,\n      matchEntries: newMatchEntries,\n      castFn\n    })\n  \n    return payload\n  }\n}())\n\nexport const readPath = (function (){\n  const __filterDotPath = (dotPath, removeFirstDot)=>removeFirstDot && dotPath.indexOf(\".\") === 0 ? dotPath.substr(1) : dotPath\n  const __filterBlockPath = (blockPath)=>{\n    //remove []\n    blockPath = blockPath.substring(1, blockPath.length - 1)\n    \n    //interger\n    if(/^[0-9]+$/.test(blockPath)){\n      return parseInt(blockPath, 10)\n    }\n    \n    //remove ''\n    if(/^\\'.*\\'$/.test(blockPath) || /^\\\".*\\\"$/.test(blockPath)){\n      blockPath = blockPath.substring(1, blockPath.length - 1)\n    }\n    return blockPath\n  }\n\n  return function (pathParam){\n    if(isArray(pathParam)){\n      return pathParam\n    }\n  \n    if(likeString(pathParam)){\n      if(isNumber(pathParam)){\n        return [pathParam]\n      }\n    \n      if(typeof pathParam === \"string\"){\n        //one depth\n        if(!/\\.|\\[/.test(pathParam)){\n          return [pathParam]\n        }\n        \n        //multiple depth\n        const { props:{ path:result } } = readString(pathParam, [\".\", \"[\"], ({\n          content, props:{ path }, matchExp, castStart, castEnd, skipSize, enter, next\n        })=>{\n          if(matchExp === \".\"){\n            skipSize && path.push(content.substr(castStart, skipSize))\n            next()\n          }\n          if(matchExp === \"[\"){\n            let stackCount = 0\n          \n            if(skipSize){\n              path.push(__filterDotPath(content.substr(castStart, skipSize), castStart !== 0))\n            }\n          \n            enter([\"[\", \"]\"], ({ matchExp, castStart, castEnd, more, exit })=>{\n              if(matchExp === \"[\") stackCount++\n              if(matchExp === \"]\") stackCount--\n              if(matchExp === null) return\n              if(stackCount === 0){\n                path.push(__filterBlockPath(content.substring(castStart, castEnd)))\n                exit()\n              } else {\n                more()\n              }\n            })\n          }\n          if(matchExp === null){\n            path.push(__filterDotPath(content.substr(castStart, castEnd), castStart !== 0))\n          }\n        }, { path: [] })\n      \n        return result\n      }\n    }\n    return []\n  }\n}())\n\nexport const get = function (target, path, defaultValue){\n  if(typeof target === \"object\"){\n    switch (typeof path){\n      case \"number\": path += \"\"\n      case \"string\":\n        path = readPath(path)\n      case \"object\":\n        if(isArray(path)){\n          const allget = all(path, (name)=>{\n            if(likeObject(target) && (target.hasOwnProperty(name) || target[name])){\n              target = target[name]\n              return true\n            } else {\n              return false\n            }\n          })\n          return allget ? target : defaultValue\n        } else {\n          return\n        }\n        break\n      case \"function\": return path.call(this, target)\n    }\n  } else if(typeof target === \"function\"){\n    return target.apply(this, Array.prototype.slice.call(arguments, 1))\n  }\n  return target\n}\n\nexport const hasProperty = function (target, pathParam){\n  return all(readPath(pathParam), path=>{\n    if(likeObject(target) && likeString(path) && target.hasOwnProperty(path)){\n      target = target[path]\n      return true\n    }\n    return false\n  })\n}\n\nexport const hasValue = (function (){\n  const defaultObjectValueFunc = function (object, value){\n    return object === value\n  }\n    \n  const functionKeyObjectValueProc = function (functionKey){\n    return function (object, value){\n      return Boolean(functionKey(object, value))\n    }\n  }\n    \n  const selectKeyObjectValueProc = function (leftSelect, rightSelect){\n    var useLeftSelector  = (typeof leftSelect === \"string\" || typeof leftSelect === \"number\")\n    var useRightSelector = leftSelect === rightSelect ? useLeftSelector : (typeof rightSelect === \"string\" || typeof rightSelect === \"number\")\n        \n    return function (object, value){\n      if(useLeftSelector && !object.hasOwnProperty(leftSelect)) return false\n      if(useRightSelector && !value.hasOwnProperty(rightSelect)) return false\n            \n      return (useLeftSelector ? get(object, leftSelect) : object) === (useRightSelector ? get(value, rightSelect) : value)\n    }\n  }\n    \n  return function (obj, value, key, getKey){\n    if(typeof key === \"boolean\"){\n      if(typeof getKey !== \"boolean\"){\n        getKey = key\n      }\n      key = void 0\n    }\n        \n    if(obj === value){\n      return true\n    } else if(likeObject(obj)){\n      if(value === (void 0) && key === (void 0)) return !isEmpty(obj)\n            \n      var proc\n            \n      if(key){\n        if(typeof key === \"function\"){\n          proc = functionKeyObjectValueProc(key)\n        } else if(isArray(key) && key.length > 1){\n          proc = selectKeyObjectValueProc(key[0], key[1])\n        } else if(typeof key === \"string\" || typeof key === \"number\"){\n          proc = selectKeyObjectValueProc(key, key)\n        }\n      } else {\n        proc = defaultObjectValueFunc\n      }\n            \n      if(isArray(obj)){\n        for(var i = 0, l = obj.length; i < l; i++) if(proc(obj[i], value)) return getKey ? i : true\n      } else {\n        for(var objKey in obj) if(obj.hasOwnProperty(objKey) && proc(obj[objKey], value)) return getKey ? objKey : true \n      }\n    }\n        \n    return getKey ? void 0 : false\n  }\n}())\n\nexport const readDown = function (rootValue, readFn, rootParam){\n  const enterScope = (value, depth, param)=>isArray(value) ? arrayScope(value, depth, param) : isObject(value) ? objectScope(value, depth, param) : primitiveScope(value, depth, param)\n  \n  const arrayScope = (array, depth, param)=>{\n    return readFn({\n      type : \"array\",\n      value: array,\n      key  : null,\n      depth,\n      param,\n      enter: (param)=>{\n        const childrenDepth = depth + 1\n        return Array(array.length).fill(void 0).map((v, i)=>i).map(key=>{\n          const value = array[key]\n          return enterScope(value, childrenDepth, param)\n        })\n      }\n    })\n  }\n  \n  const objectScope = (object, depth, param)=>{\n    return readFn({\n      type : \"object\",\n      value: object,\n      key  : null,\n      depth,\n      param,\n      enter: (param)=>{\n        const childrenDepth = depth + 1\n        return Object.keys(object).map(key=>{\n          const value = object[key]\n          return readFn({\n            type : \"hash\",\n            key,\n            value,\n            depth,\n            param,\n            enter: (param)=>enterScope(value, childrenDepth, param)\n          })\n        })\n      }\n    })\n  }\n  \n  const primitiveScope = (value, depth, param)=>{\n    readFn({\n      type : \"value\",\n      key  : null,\n      value,\n      depth,\n      param,\n      enter: (param)=>param\n    })\n  }\n  \n  enterScope(rootValue, 0, rootParam)\n  return rootParam\n}\n","import {\n  baseCut\n} from './reduce.base'\n\nimport { \n  isInfinity,\n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  get\n} from '../read'\n\n\nexport const cut = function (collection, cutLength, fillContent){\n  const useFill = arguments.length > 2\n  return baseCut(collection, cutLength, fillContent, useFill)[0]\n}\n\nexport const cuts = function (collection, cutLength, fillContent){\n  const result = []\n  let rest = collection\n  let rowIndex = 0\n  const enumFn = typeof fillContent !== \"function\" ? ()=>fillContent : (index)=>fillContent(rowIndex * cutLength + index, index, rowIndex)\n  const useFill = arguments.length > 2\n  \n  do {\n    ([collection, rest] = baseCut(rest, cutLength, enumFn, useFill))\n    result.push(collection)\n    rowIndex++\n  } while(rest.length > 0)\n  return result\n}\n\n//reduce.spec.js\nexport const top = function (data, iteratee, topLength){\n  switch (typeof iteratee){\n    case \"function\":\n    //iteratee=iteratee;\n      break\n    case \"string\":\n      const path = iteratee\n      iteratee = (a, b)=>get(a, path) < get(b, path)\n      break\n    case \"boolean\":\n      iteratee = iteratee ? (a, b)=>a < b : (a, b)=>a > b\n      break\n    default:\n      iteratee = (a, b)=>a < b\n      break\n  }\n  \n  if(typeof topLength === \"boolean\"){\n    topLength = topLength ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY\n  }\n  \n  return isNumber(topLength) || isInfinity(topLength)\n    ? asArray(data).sort((a, b)=>iteratee(a, b)).splice(0, topLength)\n    : asArray(data).sort((a, b)=>iteratee(a, b))[0]\n}\n","import { isNumber, isArray, isAbsoluteNaN } from './isLike'\nimport { asArray } from './cast'\n\nexport const limitNumber = (function (){\n  const limitOf = function (number, max, min){\n    if(typeof number == \"number\"){\n      if(isAbsoluteNaN(number) || number === Infinity){\n        return min\n      }\n      if(isNumber(min) && (number < min)){\n        return min\n      }\n      if(isNumber(max) && (number > max)){\n        return max\n      }\n    }\n    return number\n  }\n  const limitNumber = function (numbers, max, min){\n    if(typeof max !== \"number\"){ max = Number.POSITIVE_INFINITY }\n    if(typeof min !== \"number\"){\n      if(min === null || isAbsoluteNaN(min)){\n        min = Number.NEGATIVE_INFINITY\n      } else {\n        min = 0\n      }\n    }\n    if(isArray(numbers)){\n      for(var d = numbers, i = 0, l = d.length; i < l; i++){\n        d[i] = limitOf(d[i], max, min)\n      }\n      return numbers\n    } else {\n      return limitOf(numbers, max, min)\n    }\n  }\n  return limitNumber\n}())\n\nexport const accurateTimeout = (function (originalTimeout){\n  return function (trigger, time = 0, resolutionRatio = 0.75, coverage = 25){\n    let destTime = Date.now() + time\n    \n    if(!isNumber(time)){\n      time = 0\n    }\n    \n    if(!isNumber(resolutionRatio)){\n      resolutionRatio = 0.75\n    }\n    \n    if(!isNumber(coverage)){\n      resolutionRatio = 25\n    }\n    \n    if(resolutionRatio > 1){\n      resolutionRatio = 1\n    }\n        \n    if(resolutionRatio < 0.1){\n      resolutionRatio = 0.1\n    }\n    \n    if(coverage < 5){\n      coverage = 5\n    }\n        \n    function preparation (restTime){\n      const preparaTime = Math.floor(restTime * resolutionRatio)\n      originalTimeout(execution, preparaTime)\n    }\n        \n    function execution (){\n      const restTime = destTime - Date.now()\n        \n      if(restTime < coverage){\n        if(restTime < 1){\n          originalTimeout(trigger, 0)\n        } else {\n          originalTimeout(trigger, restTime)\n        }\n      } else {\n        preparation(restTime)\n      }\n    }\n    \n    execution()\n  }\n}(setTimeout))\n\nexport const turn = function (i, limit, ts, resultHook){\n  if(i < 0){ \n    let abs = Math.abs(i / ts) \n    i = limit - (abs > limit ? abs % limit : abs)\n  }\n  ts = typeof ts === \"number\" ? ts : 1\n  const fixIndex = Math.floor(i / ts)\n  const result = (limit > fixIndex) ? fixIndex : fixIndex % limit\n  return typeof resultHook === \"function\" ? resultHook(result, i, limit, ts) : result\n}\n\nexport const turnTime = function (i, limit, ts){\n  return turn(i, limit, ts, (result, i, limit, ts)=>[result, Math.floor(i / (limit * ts))])\n}\n\nexport const toggle = function (toggleArgs, currentValue, step = 1){\n  return (toggleArgs = asArray(toggleArgs)) && toggleArgs[(toggleArgs.findIndex(val=>val === currentValue) + step) % toggleArgs.length]\n}\n","import { asArray, cloneDeep } from './cast'\nimport { likeArray, isNumber, isAbsoluteNaN } from './isLike'\nimport { top } from './reduce'\nimport { turn, limitNumber } from './nice'\nimport { hashMap, times } from './enumerable'\n\nexport const rangeModel = function (value, step, sizeBase){\n  let start, end, reverse\n  \n  if(typeof value === \"number\"){\n    end = value\n    start = 0\n  } else if(typeof value === \"object\"){\n    start = value[0]\n    end = value[1]\n      \n    if(!step && typeof value[2] === \"number\"){\n      step = value[2]\n    }\n      \n    if(typeof sizeBase !== \"boolean\"){\n      sizeBase = false\n    }\n  }\n  \n  /*\n  if(typeof start !== \"number\" || typeof end !== \"number\"){\n    if(typeof start !== \"number\" && typeof end !== \"number\") return r\n    if(typeof start === \"number\") return r.push(start), r\n    if(typeof end === \"number\") return r.push(end), r\n  }\n  */\n  \n  if(start > end){\n    reverse = end\n    end = start\n    start = reverse\n    reverse = true\n  }\n  \n  end = parseFloat(end)\n  end = isAbsoluteNaN(end) ? 0 : end\n  start = parseFloat(start)\n  start = isAbsoluteNaN(start) ? 0 : start\n  step = parseFloat(step)\n  step = isAbsoluteNaN(step) || step == 0 ? 1 : step\n  \n  return {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  }\n}\n\nexport const range = function (value, stepSize, sizeBaseRange){\n  let r = []\n  let {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  } = rangeModel(value, stepSize, sizeBaseRange)\n  \n  if(step <= 0){ return console.warn(\"range::not support minus step\"), r };\n  if(sizeBase == false){ for(var i = start, l = end; i <= l; i = i + step) r.push(i) } else { for(var i = start, l = end; i < l; i = i + step) r.push(i) }\n  return reverse ? r.reverse() : r\n}\n\nexport const domainRangeValue = function (domain, range, vs, nice, limit){\n  return hashMap(cloneDeep(vs), function (v, sel){\n    const $range  = sel ? range[sel] : range\n    const $domain = sel ? domain[sel] : domain\n    if(!$range || !$domain){ return v }\n                    \n    const dSize = $domain[1] - $domain[0]\n    const sSize = $range[1] - $range[0]\n    const dRate = (v - $domain[0]) / dSize\n    const calc  = $range[0] + sSize * dRate\n    const result = nice ? Math.floor(calc) : calc\n    \n    return limit \n      ? $range[1] > $range[0] \n        ? limitNumber(result, $range[1], $range[0])\n        : limitNumber(result, $range[0], $range[1])\n      : result\n  })\n}\n\nexport const domainRangeInterpolate = function (domain, range, nice, limit){\n  let _domain = domain\n  let _range  = range\n  let _nice   = nice\n  \n  const interpolate = (value)=>domainRangeValue(_domain, _range, value, _nice, limit)\n  \n  interpolate.domain = (domain)=>{\n    _domain = domain\n    return interpolate\n  }\n  interpolate.range = (range)=>{\n    _range = range\n    return interpolate\n  }\n  interpolate.nice = (nice)=>{\n    _nice = nice\n    return interpolate\n  }\n  \n  return interpolate\n}\n\n//matrixRange([1],[3]) // [[1], [2], [3]] \n//matrixRange([1,1],[3,3]) // [[1, 1], [2, 1], [3, 1], [1, 2], [2, 2], [3, 2], [1, 3], [2, 3], [3, 3]]\n\nexport const matrixRange = function (start, end, step, sizeBase){\n  var scales = []\n  var maxLength = top([start.length, end.length])\n    \n  var selectLengthes = times(maxLength, function (scaleIndex){\n    const rangeResult = range([start[scaleIndex], end[scaleIndex]], step, sizeBase)\n    scales.push(rangeResult)\n    return rangeResult.length\n  })\n\n  var result = times(selectLengthes.reduce(function (redu, value){\n    return redu * value\n  }, 1), function (){ return new Array(maxLength) })\n    \n  var turnSize = 1\n  \n  \n  asArray(scales).forEach((scaleCase, scaleIndex)=>{\n    var scaleCaseLength = scaleCase.length\n    times(result.length, function (time){\n      result[time][scaleIndex] = scaleCase[turn(time, scaleCaseLength, turnSize)]\n    })\n    turnSize = turnSize * scaleCaseLength\n  })\n    \n  return result\n}\n\n//validate matrix format\nexport const validMatrix = function (arr){\n  // Matrix must be array\n  if(!likeArray(arr)){\n    return false\n  }\n  \n  // Empty is valid\n  if(arr.length === 0){\n    return true\n  }\n  \n  //find some error ( return true => false)\n  return !Array.from(arr).some((v)=>{\n    if(likeArray(v)){\n      //length check\n      if(v.length !== arr.length) return true\n      //type check\n      return v.some(likeError=>!(likeError == undefined || isNumber(likeError)))\n    }\n    return true\n  })\n}\n\n// real matrix model\nexport const asMatrix = function (arr, columnSize){\n  const result = []\n  if(typeof columnSize === \"number\" && columnSize > 0){\n    const rowCount = Math.ceil(arr.length / columnSize)\n    times(rowCount, i=>{\n      const column = []\n      times(columnSize, ci=>{ column.push(arr[i * columnSize + ci]) })\n      result.push(column)\n    })\n  } else {\n    return [arr]\n  }\n  return result\n}\n\nexport const multiplyMatrix = function (aMatrix, bMatrix){\n  if(!validMatrix(aMatrix) && validMatrix(bMatrix)){\n    return null\n  }\n  if(aMatrix[0].length !== bMatrix.length){\n    return null\n  }\n  const result = []\n  times(bMatrix.length, rRowIndex=>{\n    const columnLength = bMatrix[rRowIndex].length\n    const columnResult = []\n    times(columnLength, rColumnIndex=>{\n      //var calcLog = [];\n      const multiplied = aMatrix[rRowIndex].reduce((dist, num, index)=>{\n        //calcLog.push(`${num} * ${bMatrix[index][rColumnIndex]}`)\n        return num * bMatrix[index][rColumnIndex] + dist\n      }, 0)\n      //console.log(\"calcLog\",calcLog.join(\" + \"))\n      columnResult.push(multiplied)\n    })\n    result.push(columnResult)\n  })\n  return result\n}\n","import { isAbsoluteNaN } from './isLike'\n\nimport { rangeModel } from './matrix'\n\nexport const rand64 = (function (){\n  var rand64Token = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"\n  return function (length, codeAt, codeLength){\n    length = (isAbsoluteNaN(length)) ? 1 : parseInt(length, 10)\n    codeAt = (isAbsoluteNaN(codeAt)) ? 0 : parseInt(codeAt, 10)\n    codeLength = (isAbsoluteNaN(codeLength)) ? 62 - codeAt : parseInt(codeLength, 10)\n    var result = \"\"\n    for(var i = 0, l = length; i < l; i++) result = result + rand64Token.charAt(codeAt + parseInt(Math.random() * codeLength, 10))\n    return result\n  }\n}())\n\n\nexport const tokenize = function (seed, digits){\n  return Math.floor((Math.abs(Math.sin(Number((seed + \"\").replace(/./g, function (s){ return s.charCodeAt(0) }))) * 16777215)) % 16777215).toString(digits || 16) \n}\nexport const randRange = function (rangeValue, nice){\n  const { start, end } = rangeModel(rangeValue)\n  const result = start + (Math.random() * (end - start))\n  return nice === true ? Math.ceil(result) : result\n}\n","import { isArray } from './isLike'\nimport { toNumber } from './cast'\n\nexport const dateExp = function (dv, format){\n  if(isArray(dv)) dv = dv.join(' ')\n\n  var dt = /(\\d\\d\\d\\d|)[^\\d]?(\\d\\d|\\d|).?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)/.exec(dv)\n  dt[1] = dt[1] || (((new Date()).getYear() + 1900) + '')\n  dt[2] = dt[2] || ((new Date()).getMonth() + 1)\n  dt[3] = dt[3] || ((new Date()).getDate())\n  dt[4] = dt[4] || (\"00\")\n  dt[5] = dt[5] || (\"00\")\n  dt[6] = dt[6] || (\"00\")\n\n  var r = [ dt[1], dt[2], dt[3], dt[4], dt[5], dt[6], dt[0] ]\n  Object.defineProperties(r, {\n    year  : { enumerable: false, value: dt[1] },\n    month : { enumerable: false, value: dt[2] },\n    date  : { enumerable: false, value: dt[3] },\n    hour  : { enumerable: false, value: dt[4] },\n    minute: { enumerable: false, value: dt[5] },\n    second: { enumerable: false, value: dt[6] },\n    init  : { enumerable: false, value: dt[7] },\n    format: {\n      enumerable: false,\n      get       : ()=>function (s){\n        return s.replace('YYYY', r.year).replace(/(MM|M)/, r.month).replace(/(DD|D)/, r.date)\n        .replace(/(hh|h)/, r.hour).replace(/(mm|m)/, r.minute).replace(/(ss|s)/, r.second)\n        .replace(/(A)/, (toNumber(r.hour) > 12) ? 'PM' : 'AM')\n      }\n    }\n  })\n  if(typeof format === 'string'){ return r.format(format) }\n  return r\n}\n\nexport const timestampExp = function (exp){\n  if(arguments.length === 0){\n    return (+new Date())\n  }\n  if(typeof exp === \"string\"){\n    exp = dateExp(exp)\n  }\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(isArray(exp) && (exp.length == 7)){\n    exp = new Date(exp[0], exp[1], exp[2], exp[3], exp[4], exp[5])\n  }\n  if(exp instanceof Date){\n    return (+exp)\n  }\n  return 0\n}\n\nexport const timescaleExp = function (exp){\n  var scale = 0\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(typeof exp === \"string\"){\n    // \n    exp = exp.replace(/\\d+(Y|year)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 31536000000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(M|month)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 2678400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(D|day)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 86400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(h|hour)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 3600000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(ms|millisecond)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(m|minute)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 60000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(s|second)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1000 })\n      return \"\"\n    })\n  }\n  return scale\n}\n","import {\n  isNumber,\n  likeRegexp,\n  isObject,\n  isArray,\n  isEqual\n} from './isLike'\n\nimport {\n  get,\n  hasValue\n} from './read'\n\nimport {\n  clone,\n  unique,\n  asArray\n} from './cast'\n\nimport {\n  baseEntries,\n  baseKeys\n} from './baseFunction'\n\n\nexport const fallback = function (value, fallbackFn, ...args){\n  return typeof value === \"undefined\" ? fallbackFn(...args) : value\n}\n\nexport const valueOf = function (value, ...args){\n  return typeof value === \"function\" ? value(...args) : value\n}\n\nexport const keys = baseKeys\n\nexport const deepKeys = (function (){\n  const nestedDeepKeys = function (target, filter, scope, total){\n    if(typeof target === \"object\"){\n      keys(target, (key)=>{\n        const child  = target[key]\n        const useKey = filter(child, key, scope.length)\n        if(!useKey){\n          return\n        }\n        const currentScope = clone(scope)\n        currentScope.push(key)\n        total.push(currentScope)\n        nestedDeepKeys(child, filter, currentScope, total)\n      }, true)\n    }\n  }\n  \n  return function (target, filter){\n    const result = []\n    nestedDeepKeys(target, filter ? (child, key)=>{ filter(child, key) } : ()=>true, [], result)\n    return result\n  }\n}())\n\nexport const entries = baseEntries\n\nexport const findIndex = (function (){\n  const __find_string = (it, search, at)=>it.indexOf(search, at)\n  const __find_regexp = (it, search, at)=>{\n    let i = it.substring(at || 0).search(search)\n    return (i >= 0) ? (i + (at || 0)) : i\n  }\n  return (it, search, at)=>((search instanceof RegExp) ? __find_regexp : __find_string)(it, search, at)\n}())\n\n//remark.spec.js\nexport const findIndexes = (function (){\n  return function (c, s, at){\n    if(typeof c === \"string\" || typeof c === \"number\"){\n      var idxs = []; var s = likeRegexp(s) ? s : s + \"\"; var at = (!at || !isNumber(at) || at < 0) ? 0 : at; var next\n      do {\n        let i = findIndex(c, s, at)\n        if(i > -1){\n          at = (s.length || 1) + i\n          idxs.push(i) \n          next = true\n        } else {\n          next = false\n        }\n      } while(next)\n      return idxs\n    }\n  }\n}())\n\n\n//TODO: Union hasValue\nconst NESTED_HAS_PROC = function (obj, key){\n  var keys = key.split(\".\")\n  if(!keys.length) return false\n\n  var pointer = obj\n  for(var ki in keys){\n    var k = keys[ki]\n\n    if(!pointer.hasOwnProperty(k)){\n      return false\n    } else {\n      pointer = pointer[k]\n    }\n  }\n  return true\n}\n\nexport const diffStructure = function (before, after){\n  var afterKeys = Object.keys(after)\n  var beforeKeys\n  var canDiff = false\n  if(isObject(before)){\n    if(isArray(before)){\n      beforeKeys = before\n    } else {\n      beforeKeys = Object.keys(before)\n      canDiff = true\n    }\n  } else {\n    beforeKeys = []\n  }\n\n  var analysis = {\n    after  : after,\n    before : before,\n    keys   : unique(afterKeys.concat(beforeKeys)).reduce((dest, key)=>{ dest[key] = undefined; return dest }, {}),\n    match  : [],\n    missing: [],\n    surplus: [],\n    diff   : [],\n    pass   : false\n  }\n  \n  //match, missing\n  for(var ki in beforeKeys){\n    if(!beforeKeys.hasOwnProperty(ki)) continue\n      \n    var key = beforeKeys[ki]\n      \n    if(NESTED_HAS_PROC(after, key)){\n      analysis.match.push(key)\n      analysis.keys[key] = \"match\"\n\n      if(canDiff && !isEqual(get(after, key), get(before, key))){\n        analysis.diff.push(key)\n        analysis.keys[key] = \"diff\"\n      }\n    } else {\n      analysis.surplus.push(key)\n      analysis.keys[key] = \"surplus\"\n    }\n  }\n\n  //surplus\n  asArray(afterKeys).forEach(key=>{\n    if(!hasValue(analysis.match, key)){\n      analysis.missing.push(key)\n      analysis.keys[key] = \"missing\"\n    }\n  })\n\n  //absolute\n  analysis.pass = !analysis.missing.length && !analysis.surplus.length\n\n  return analysis\n}\n","export const argumentNamesBy = function getArgs (fn){\n  if(typeof fn !== \"function\") return []\n    // normal -  function[^\\(]*?\\(([^)]*)\\)\n    // arrow  -  \\([\\)]*\\)\\s*\\=\\>\\s*\\{\n  var args = fn.toString().match(/function[^\\(]*?\\(([^)]*)\\)|\\([\\)]*\\)\\s*\\=\\>\\s*\\{/)[1]\n  if(!args) return []\n  return args.split(',').map(s=>s.trim()).filter(n=>n)\n}\n\nexport const scopelizeBy = function (evalCommand){\n  if(evalCommand.indexOf(\"return\") == -1){\n    evalCommand = `  return ${evalCommand}`\n  }\n\n  const command = evalCommand\n  const scopeBeforeFn = function (scope, info){\n    const params = []\n    const fnArgs = []\n    \n    Object.keys(scope).forEach(key=>{\n      params.push(scope[key])\n      fnArgs.push(key)\n    })\n    \n    fnArgs.push(command)\n    \n    const makeFn = Function.apply(Function, fnArgs)\n    \n    if(typeof info === \"function\"){\n      info({\n        func  : makeFn,\n        args  : fnArgs,\n        params: params\n      })\n    }\n    \n    return makeFn.apply(void 0, params)\n  }\n  \n  scopeBeforeFn.scoped = function (){\n    return command\n  }\n  \n  return scopeBeforeFn\n}\n\n","/*\n  usage\n  const size = 20\n  const stroke = 1\n\n  const { x, y, radius, diameter } = drawCircleVars(size, stroke);\n  \n  const d = `M${x} ${y} \n  a ${radius} ${radius} 0 0 1 0 ${diameter}\n  a ${radius} ${radius} 0 0 1 0 -${diameter}`\n\n  <svg viewbox=\"0 0 {size} {size}\">\n    <path d=\"{d}\" stroke-width=\"stroke\"></path>\n  </svg>\n*/\nexport const drawCircleVars = function (circleWidth, strokeWidth = 0){\n  const circumference = ((circleWidth - strokeWidth) / 2) * (3.14159 * 2)\n  const radius        = (circumference / (3.14159 * 2))\n  const diameter      = (radius * 2)\n  const x             = circleWidth / 2\n  const y             = strokeWidth / 2\n  //const circumLength  = drawRatio == 1 ? drawRatio : drawRatio * circumference;\n    \n  return { x, y, radius, diameter, circumference, circleWidth, strokeWidth }\n}\n","import { likePromise } from '../../functions'\nexport const PromiseClass = Promise\n\nconst resolveFn = PromiseClass.resolve\nconst rejectFn = PromiseClass.reject\n\nexport const newPromise = (fn)=>(new PromiseClass((r, c)=>{\n  const maybeAwaiter = fn(r, c)\n  likePromise(maybeAwaiter) && maybeAwaiter.then(r).catch(c)\n}))\n\nexport const promise = (fn)=>newPromise(fn)\n\nconst PromiseFunction = promise\n\nexport const all     = Promise.all\nPromiseFunction.all = all\n\nexport const resolve    = resolveFn\nPromiseFunction.resolve = resolve\n\nexport const reject    = rejectFn\nPromiseFunction.reject = reject\n","import { promise as PromiseFunction, newPromise, PromiseClass } from './promiseEngine'\nimport { likePromise } from '../../functions'\n\nexport const defer = function (){\n  var resolve, reject\n  var promise = new PromiseClass(function (){\n    resolve = arguments[0]\n    reject = arguments[1]\n  })\n  return {\n    resolve: resolve,\n    reject : reject,\n    promise: promise\n  }\n}\n\nPromiseFunction.defer = defer\n\nexport const timeout = function (fn, time){\n  if(typeof fn === \"number\"){\n    return newPromise(resolve=>setTimeout(()=>resolve(time), fn))\n  } else {\n    return newPromise(resolve=>setTimeout(()=>resolve(typeof fn === \"function\" ? fn() : fn), time))\n  }\n}\nPromiseFunction.timeout = timeout\n\nexport const valueOf = function (maybeQ){\n  return newPromise(function (resolve, reject){\n    likePromise(maybeQ)\n      ? maybeQ.then(resolve).catch(reject)\n      : resolve(maybeQ) \n  })\n}\nPromiseFunction.valueOf = valueOf\n\nexport const promise = PromiseFunction\n","import { \n  asArray,\n  isNumber\n} from '../functions'\n\nexport const operate = (function (){\n  const PARENT_OUTPUT_UPDATED = \"ParentOutputUpdated\"\n  \n  const operate = function ({ input, output, concurrent, rescue, limitInput, limitOutput }){\n    this.parent = undefined\n    this.children = []\n    this.inputs = []\n    this.outputs = []\n    this.limitInput = isNumber(limitInput) || limitInput > 0 ? limitInput : Number.POSITIVE_INFINITY\n    this.limitOutput = isNumber(limitOutput) || limitOutput > 0 ? limitOutput : Number.POSITIVE_INFINITY\n    \n    //\n    let current = 0\n    concurrent = isNumber(concurrent) || concurrent > 0 ? concurrent : 1\n    \n    Object.defineProperty(this, \"avaliablePullCount\", {\n      get: ()=>{\n        let limit = this.limitInput - this.inputs.length\n        if(limit < 0) limit = 0\n        return limit\n      }\n    })\n    \n    Object.defineProperty(this, \"avaliableOutputCount\", {\n      get: ()=>{\n        return this.limitOutput + current + this.outputs.length\n      }\n    })\n    \n    const inputOutput = { input, output }\n    \n    const kickStart = ()=>{\n      let avaliableQueLength = concurrent - current\n      \n      // 작동가능한 큐\n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      // input의 길이로 확인하여 실행 가능한 큐\n      if(avaliableQueLength > this.inputs.length){\n        avaliableQueLength = this.inputs.length\n      }\n      \n      // output의 제한을 확인하여 사용 가능한 큐\n      if(avaliableQueLength > this.avaliableOutputCount){\n        avaliableQueLength = this.avaliableOutputCount\n      }\n      \n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      Array(avaliableQueLength).fill(inputOutput).forEach(async ({ input })=>{\n        let entry = this.inputs.shift()\n        current++\n        \n        const outputHandle = async (formInputDataum)=>{\n          /* TODO:lint\n          if(typeof output === \"function\"){\n            const out = await output({ entry: formInputDataum })\n          }\n          */\n          \n          this.outputs.push(formInputDataum)\n          current--\n        \n          this.children.forEach(child=>child.emit(PARENT_OUTPUT_UPDATED))\n          kickStart()\n        }\n        \n        if(input){\n          try {\n            outputHandle(await input({ entry }))\n          } catch (e){\n            if(typeof rescue === \"function\"){\n              rescue(e)\n            } else {\n              throw e\n            }\n            current--\n          }\n        } else {\n          outputHandle(entry)\n        }\n      })\n    }\n\n    Object.defineProperty(this, \"push\", {\n      value: (pushData)=>{\n        this.inputs.push(pushData)\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"concat\", {\n      value: (pushData)=>{\n        asArray(pushData).forEach(d=>this.inputs.push(d))\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"emit\", {\n      value: (eventName)=>{\n        switch (eventName){\n          case PARENT_OUTPUT_UPDATED:\n            if(this.avaliablePullCount < 1) return\n            let pullData = this.parent.pull(this.avaliablePullCount)\n            if(pullData.length < 1) return\n            pullData.forEach(datum=>this.inputs.push(datum))\n            kickStart()\n            break\n        }\n      }\n    })\n    \n    Object.defineProperty(this, \"pull\", {\n      value: (pullLength)=>{\n        if(!(isNumber(pullLength) || pullLength == Number.POSITIVE_INFINITY)) return []\n        const pullData = this.outputs.splice(0, pullLength)\n        //pullData.length && kickStart();\n        return pullData\n      }\n    })\n    \n    Object.defineProperty(this, \"clone\", {\n      value: (deep = true)=>{\n        let cloneOperate = operateFunction({ input, output, concurrent, rescue, limitInput, limitOutput })\n        \n        deep === true && this.children.forEach(child=>{\n          child.clone(true, cloneOperate)\n        })\n        \n        return cloneOperate\n      }\n    })\n  }\n  \n  operate.prototype = {\n    append: function (child){\n      child.parent = this\n      this.children.push(child)\n      return this\n    },\n    remove: function (child){\n      let index = this.children.indexOf(child)\n      if(index < 0) return this\n      child.parent = undefined\n      this.children.splice(index, 1)\n    },\n    operate: function (option){\n      return this.append(operateFunction(option))\n    }\n  }\n  \n  const operateFunction = function (option){\n    return new operate(Object.assign({}, option))\n  }\n  \n  return operateFunction\n}())\n","// promise utils\nimport { PromiseClass, newPromise } from './promiseEngine'\nimport { promise as PromiseFunction } from './promise'\nimport { asArray, asObject } from '../../functions/cast'\nimport { isNumber } from '../../functions/isLike'\nimport { turn } from '../../functions/nice'\nimport { argumentNamesBy } from '../../functions/hack'\n\nimport { operate } from '../operate'\n\nexport const promisify = function (asyncErrCallbackfn){\n  const argumentNames = argumentNamesBy(asyncErrCallbackfn).slice(1)\n  const promisified   = function (){\n    const args = Array.from(arguments)\n    return new Promise((resolve, reject)=>{\n      const applyParams = args.concat(function (){\n        const [error, ...callbakArgs] = Array.from(arguments)\n        if(error){\n          reject(error)\n        } else if(argumentNames.length && callbakArgs.length > 1){\n          resolve(argumentNames.reduce((dest, name, index)=>{\n            dest[name] = callbakArgs[index]\n            return dest\n          }, {}))\n        } else {\n          resolve(callbakArgs[0])\n        }\n      })\n      asyncErrCallbackfn.apply(this, applyParams)\n    })\n  }\n  return function (){\n    return promisified.apply(this, Array.from(arguments))\n  }\n}\n\nexport const until = function (tasks, option){\n  if(!(tasks instanceof Array)){\n    return PromiseFunction.reject(new Error(\"tasks must be array\"))\n  }\n\n  if(!tasks.length || !tasks.some(e=>typeof e === \"function\")){\n    return PromiseFunction.reject(new Error(\"not found wheel executable\"))\n  }\n\n  if(!tasks.some(e=>(typeof e !== \"function\" || typeof e !== \"number\"))){\n    return PromiseFunction.reject(new Error(\"wheel task only function or number executable\"))\n  }\n\n  if(typeof option !== \"object\"){\n    option = {}\n  }\n\n  let finished = false\n  let defer\n  const limit = (typeof option.limit === \"number\" && option.limit > 0) ? parseInt(option.limit, 10) : 10000\n  const taskLength = tasks.length\n  let wheelTick = 0\n  let resetScope = 0\n  const nextWheelTick = (tick, value, tickScope)=>{\n    const nowAction = tasks[turn(tick, taskLength, 1)]\n\n    const isActiveFn = ()=>{\n      return tickScope === resetScope\n    }\n\n    const nextTickFn = passValue=>{\n      // if reset called\n      if(!isActiveFn()) return\n      // if over tick\n      if(wheelTick > limit){\n        return defer.reject(new Error(\"limit\"))\n      }\n      if(finished === false){\n        nextWheelTick(wheelTick++, passValue, tickScope)\n      }\n    }\n\n    if(typeof nowAction === \"function\"){\n      nowAction(\n        {\n          value,\n          next    : nextTickFn,\n          isActive: isActiveFn,\n          resolve : defer.resolve,\n          reject  : defer.reject\n        },\n        Math.floor(tick / tasks.length),\n        tick\n      )\n    } else if(typeof nowAction === \"number\"){\n      setTimeout(()=>{ nextTickFn(value) }, nowAction)\n    }\n  }\n  \n  const thenStack  = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return e\n    }\n  ]\n  const catchStack = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return PromiseFunction.reject(e)\n    }\n  ]\n  \n  const deferReset = (resetTick)=>{\n    defer && defer.stop()\n    //\n    defer = PromiseFunction.defer()\n    thenStack.forEach(fn=>defer.promise.then(fn))\n    catchStack.forEach(fn=>defer.promise.catch(fn))\n    \n    //\n    defer.stop = ()=>{\n      finished = null\n      resetScope += 1\n    }\n    \n    defer.start = (resetTick)=>{\n      if(finished === null){\n        finished = false\n        wheelTick = typeof resetTick === \"number\" ? resetTick : 0\n        nextWheelTick(wheelTick++, option.value, resetScope)\n      }\n    }\n    //\n    defer.reset = deferReset\n    //\n    finished = null\n    defer.start(resetTick)\n  }\n  \n  deferReset(0)\n  \n  const wheelControls = {\n    ...defer,\n    then (fn){\n      defer.promise.then(fn)\n      thenStack.push(fn)\n      return wheelControls\n    },\n    catch (fn){\n      defer.promise.catch(fn)\n      catchStack.push(fn)\n      return wheelControls\n    }\n  }\n  \n  return wheelControls\n}\n\nexport const batch = function (funcArray, opts){\n  return newPromise(function (resolve){\n    const option = asObject(opts, \"concurrent\")\n      \n    if(option.concurrent === true){\n      option.concurrent = Number.POSITIVE_INFINITY\n    } else if(!isNumber(option.concurrent) || option.concurrent < 1){\n      option.concurrent = 1\n    }\n      \n    if(!isNumber(option.interval) || option.interval < -1){\n      option.interval = -1\n    }\n      \n    if(!isNumber(option.repeat) || option.repeat < 1){\n      option.repeat = 1\n    }\n      \n    //set task with repeat\n    const sequanceTaskEntries = Array(option.repeat)\n    .fill(asArray(funcArray))\n    .reduce((dest, tasks)=>{\n      tasks.forEach((fn, index)=>dest.push([index, fn]))\n      return dest\n    }, [])\n      \n    const sequanceLength = sequanceTaskEntries.length\n    let sequanceComplete = 0\n    const sequanceReseult = Array(sequanceTaskEntries.length)\n      \n    operate({\n      output: async ({ entry })=>{\n        if(option.interval > -1){\n          await PromiseFunction.timeout(option.interval)\n        }\n        return entry\n      },\n      limitOutput: 1\n    })\n    .operate({\n      concurrent: option.concurrent,\n      input     : async ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn] = entry\n        entry.push(await fn())\n        return entry\n      },\n      output: ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn, result] = entry\n        \n        sequanceReseult[index] = result\n        sequanceComplete++\n        \n        if(sequanceComplete === sequanceLength){\n          resolve(sequanceReseult)\n        }\n      }\n    })\n    .concat(sequanceTaskEntries)\n  })\n}\n\n\n// abort is deprecated\nconst abortMessage = new function (){\n  Object.defineProperty(this, \"message\", {\n    get: ()=>\":abort\"\n  })\n  Object.defineProperty(this, \"abort\", {\n    get: ()=>true\n  })\n}()\n\nexport const abort = function (notifyConsole = undefined){\n  return new PromiseClass((resolve, reject)=>{\n    if(notifyConsole === true){\n      console.warn(\"abort promise\")\n    }\n    reject(abortMessage)\n  })\n}\n","import {\n  get,\n  hashMap,\n  domainRangeValue\n} from '../functions'\n\nimport {\n  isArray,\n  likeObject,\n  isEmpty\n} from '../functions/isLike'\n\nimport {\n  asArray,\n  cloneDeep\n} from '../functions/cast'\n\n// ?\nconst hasValueProperty = function (obj, value, key){\n  if(arguments.length == 1 && likeObject(obj)) return isEmpty(obj)\n  if(isArray(obj)) for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return true\n  if(likeObject(obj)){\n    if(key){\n      return get(obj, key) === value\n    } else {\n      for(var key in obj) if(get(obj, key) === value) return true\n    }\n  }\n  return false\n}\n\n\n//Scale foundation\n//정의역과 치역을 계산하여 결과값을 리턴함, 속성별로 정의하여 다중 차원 지원\n\nconst Block = function (posSize, syncOpt){\n  Object.defineProperties(this, {\n    $space     : { enumerable: false, writable: true, value: undefined },\n    $posSize   : { enumerable: false, writable: true, value: undefined },\n    $mask      : { enumerable: false, writable: true, value: undefined },\n    $compute   : { enumerable: false, writable: true, value: undefined },\n    $sync      : { enumerable: false, writable: true, value: undefined },\n    domainValue: { \n      enumerable: true,\n      get       : ()=>{\n        return hashMap(cloneDeep(this.get()), function (posSize){ return posSize[0] })\n      }\n    },\n    domainSize: { \n      enumerable: true,\n      get       : ()=>{\n        return hashMap(cloneDeep(this.get()), function (posSize){ return posSize[1] })\n      }\n    },\n    rangeStart: { \n      enumerable: true,\n      get       : ()=>{\n        return this.$space.domainRange(hashMap(this.get(), function (posSize){ return posSize[0] }))\n      }\n    },\n    rangeSize: { \n      enumerable: true,\n      get       : ()=>{\n        return this.$space.domainRangeSize(hashMap(this.get(), function (posSize){ return posSize[1] }))\n      }\n    }\n  })\n  \n  this.sync(posSize, syncOpt)\n}\n  \nconst BlockPrototype = {}\n\nObject.defineProperties(BlockPrototype, {\n  domainMap: { \n    enumerable: false,\n    get (){\n      return hashMap(cloneDeep(this.get()), function (posSize){\n        return {\n          start: posSize[0],\n          size : posSize[1],\n          end  : posSize[0] + posSize[1]\n        }\n      })\n    }\n  },\n  rangeMap: { \n    enumerable: false,\n    get (){\n      const rangeSize = this.rangeSize\n              \n      return hashMap(this.rangeStart, function ($start, sel){ \n        var $size = sel ? rangeSize[sel] : rangeSize\n        return {\n          start: $start,\n          size : $size,\n          end  : $start + $size\n        }\n      })\n    }\n  },\n  rangeEnd: { \n    enumerable: false,\n    get (){\n      return this.rangeMap(this.rangeMap, function (map){ return map.end })\n    }\n  }\n})\n\nObject.assign(BlockPrototype, {\n  sync: function (block, syncOpt){ \n    if(!arguments.length && this.$sync){\n      block = this.$sync()\n    } else if(typeof block === \"function\"){\n      this.$sync = block\n      if(syncOpt == true){\n        block = this.$sync()\n      } else {\n        return this\n      }\n    }\n    if(block instanceof Block){ \n      this.$posSize = cloneDeep(block.$posSize)\n      //.. this.$sync    = this.$sync || block.$sync\n      this.$space = this.$space || block.$space \n      this.$mask = this.$mask || block.$mask \n    } else {\n      this.$posSize = hashMap(cloneDeep(block), function (posSize){ return !isArray(posSize) ? [posSize, 0] : posSize })\n    }\n    return this \n  },\n  clone      : function (){ return new Block(this) },\n  setPosition: function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[0] = value; return this },\n  setSize    : function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[1] = value; return this },\n  get        : function (){ return cloneDeep(typeof this.$posSize === \"function\" ? this.$posSize() : this.$posSize) },\n  conflicts  : function (otherBlocks, selector){\n    return asArray(otherBlocks).reduce(function (red, block){\n      var selectOtherBlock = get(block, selector)\n                  \n      if(selectOtherBlock instanceof Block){\n        //다른 블럭이 현재 블럭과 같거나 space가 다를때는 평가하지 않음\n        if((selectOtherBlock === this) || (selectOtherBlock.$space != this.$space)) return red\n                      \n        //\n        var inspectResult = []\n                      \n        hashMap(this.get(), function (thisPos, key){\n          var otherPos = get(selectOtherBlock.get(), key)\n          if(otherPos[0] < thisPos[0] && (otherPos[0] + otherPos[1]) <= thisPos[0]) return inspectResult.push(false)\n          if(otherPos[0] > thisPos[0] && (thisPos[0] + thisPos[1]) <= otherPos[0]) return inspectResult.push(false)\n          return inspectResult.push(true)\n        })\n                      \n        if(inspectResult.length && !hasValueProperty(inspectResult, false)){\n          red.push(block)\n        }\n      }\n      return red\n    }.bind(this), [])\n  },\n  hasConflicts: function (otherBlocks, selector){ return !!this.conflicts(otherBlocks, selector).length },\n  overflow    : function (mask){\n    var blockPosSize  = this.get()\n    var spaceDomain   = this.$space.domain\n    var overflowDomain = (mask && cloneDeep(mask)) || (this.$space && this.$space.domain) || []\n    return hashMap(overflowDomain, function ($overflowSelected, sel){\n      var $posSize = get(blockPosSize, sel)\n      var $domain  = get(spaceDomain, sel)\n      return ($posSize[0] < get($overflowSelected[0], $domain[0]) || ($posSize[0] + $posSize[1]) > get($overflowSelected[1], $domain[1]))\n    })\n  },\n  isOverflow: function (mask){\n    var overflow = false\n    hashMap(this.overflow(mask), function (f){ if(f){ overflow = true } })\n    return overflow\n  },\n  maskOverflow  : function (mask){ return this.overflow(this.$mask || mask) },\n  isMaskOverflow: function (mask){ return this.isOverflow(this.$mask || mask) },\n  compute       : function (func){\n    if(typeof func === \"function\"){ \n      this.$compute = func \n    } else {\n      this.$compute && this.$compute(this.map())\n    } \n    return this \n  },\n  call: function (f){ typeof f === \"function\" && f.call(this, this.rangeMap) }\n})\n\nBlock.prototype = BlockPrototype \n      \nconst Tracker = function (space, domainMask){\n  this.$space = space\n  this.$domainMask = hashMap(cloneDeep(domainMask), function (mask){\n    if(typeof mask === \"number\") mask = [mask]\n    if(mask instanceof Array){\n      if(!mask[0]) mask[0] = 0\n      if(!mask[1]) mask[1] = function (v){ return v }\n    }\n    return mask\n  })\n}\n      \nTracker.prototype = {\n  block: function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt) \n    block.$space = this.$space \n    block.$mask = this.$domainMask \n    return block\n  },\n  domainBlock: function (cursor, callback){\n    var domainGrid = hashMap(this.$space.range, function (range){ return range[2] })\n    var block      = this.block(hashMap(this.$space.rangeDomain(cursor), function (cursorPoint, key){ return [cursorPoint, get(domainGrid, key)] }))\n    var blockMap   = block.map()\n              \n    callback && callback.call(block, blockMap, block)\n    return block\n  }\n}\n      \nconst Space = function (domain, range){\n  this.$niceDomain = true\n  this.$niceRange = true\n  \n  Object.defineProperties(this, {\n    $niceDomain: { enumerable: false, writable: true, value: true },\n    $niceRange : { enumerable: false, writable: true, value: true },\n    $domain    : { enumerable: false, writable: true, value: undefined },\n    $range     : { enumerable: false, writable: true, value: undefined },\n    domain     : {\n      enumerable: true,\n      set (domain){\n        domain = hashMap(domain, function (domain){\n          if(!domain[2]){ domain[2] = 1 }\n          return domain\n        })\n        this.$domain = domain\n      },\n      get (){\n        return hashMap(cloneDeep(this.$domain), function (domain){\n          for(var i = 0, l = domain.length; i < l; i++) if(typeof domain[i] === \"function\") domain[i] = domain[i]()\n          return domain\n        })\n      }\n    },\n    range: {\n      enumerable: true,\n      set (range){\n        range = hashMap(range, function (range){\n          if(!range[2]){ range[2] = 1 }\n          return range\n        })\n        this.$range = range\n      },\n      get (){\n        return hashMap(cloneDeep(this.$range), function (range){\n          for(var i = 0, l = range.length; i < l; i++) if(typeof range[i] === \"function\") range[i] = range[i]()\n          return range\n        })\n      }\n    }\n  })\n  \n  this.$domain = domain\n  this.$range = range\n}\n      \nSpace.prototype = {\n  domainRangeSize: function (vs){\n    return hashMap(vs, function (v, sel){\n      var $range  = sel ? this.range[sel] : this.range\n      var $domain = sel ? this.domain[sel] : this.domain\n      return (v / ($domain[1] - $domain[0])) * ($range[1] - $range[0])\n    }.bind(this))\n  },\n  domainRange: function (vs){ return domainRangeValue(this.domain, this.range, vs, this.$niceRange) },\n  rangeDomain: function (vs){ return domainRangeValue(this.range, this.domain, vs, this.$niceDomain) },\n  block      : function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt)\n    block.$space = this\n    return block\n  },\n  tracker: function (domainMask){\n    var tracker = new Tracker(this, domainMask)\n    return tracker\n  }\n}\n      \nexport const space = (function (){\n  return function (domain, range){\n    return new Space(domain, range)\n  }\n}())\n  \nexport const block = (function (){\n  return function (posSize, syncOpt){\n    return new Block(posSize, syncOpt)\n  }\n}())\n","import { promise } from './promise'\n\nconst SESSION_STORE = {}\nconst STATE_STORE   = {}\n\n/*\nlet idx = 0;\nsession(\"scopeName\").open((name)=>{ id:idx++, name });\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"bob\");\nresolve(item);\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"cat\");\nresolve(item);\n\nsession(\"scopeName\").close()\n*/\n\nexport const session = function (name){\n  const inst = {\n    outputs: ()=>STATE_STORE[name].map(e=>e.output),\n    open   : (fn)=>{\n      SESSION_STORE[name] = fn\n      STATE_STORE[name] = []\n    },\n    close: ()=>{\n      const result = inst.outputs()\n      delete SESSION_STORE[name]\n      delete STATE_STORE[name]\n      return Promise.all(result)\n    },\n    spawn: (payload)=>{\n      if(typeof SESSION_STORE[name] !== \"function\"){\n        if(!SESSION_STORE[name]){\n          throw new Error(`session:: ${name} is not defined`)\n        } else {\n          throw new Error(`session:: ${name} is not function callback`)\n        }\n      }\n      \n      const input = promise.valueOf(SESSION_STORE[name](payload))\n      const managedSpawn = {\n        input,\n        output: undefined,\n        item  : undefined\n      }\n      \n      return input.then((item)=>{\n        const deferred      = promise.defer()\n        const deferPromise  = deferred.promise\n        managedSpawn.output = deferPromise\n        managedSpawn.item = item\n        \n        STATE_STORE[name].push(managedSpawn)\n        \n        return { \n          item,\n          resolve: deferred.resolve,\n          reject : deferred.reject\n        }\n      })\n    }\n  }\n  \n  return inst\n}\n","import { limitNumber, isAbsoluteNaN } from \"../functions\"\n\nexport const Limitter = function (max, min){\n  this.value = 0\n  if(typeof max !== \"number\" || isAbsoluteNaN(min)){\n    this.maximum = Number.POSITIVE_INFINITY\n  } else {\n    this.maximum = max\n  }\n  if(typeof min !== \"number\" || isAbsoluteNaN(min)){\n    this.minimum = 0\n  } else {\n    this.minimum = min\n  }\n}\n\nconst LimitterPrototype = {\n  expectIn (setValue){\n    return setValue === limitNumber(setValue, this.maximum, this.minimum)\n  },\n  expectOut (setValue){\n    return setValue !== limitNumber(setValue, this.maximum, this.minimum)\n  },\n  addExpectIn: function (addValue){\n    const destValue = this.value + addValue\n    return destValue === limitNumber(destValue, this.maximum, this.minimum)\n  },\n  addExpectOut: function (addValue){\n    const destValue = this.value + addValue\n    return destValue !== limitNumber(destValue, this.maximum, this.minimum)\n  },\n  set: function (setValue){\n    this.value = setValue\n    return this\n  },\n  add: function (addValue){\n    this.value = this.value + addValue\n    return this\n  }\n}\n\nObject.defineProperties(LimitterPrototype, {\n  done: {\n    get (){\n      return this.value === limitNumber(this.value, this.maximum, this.minimum)\n    }\n  }\n})\n\nLimitter.prototype = LimitterPrototype\n\nexport const ranger = function (max, min){\n  return new Limitter(max, min)\n}\n","import { asArray } from '../functions/cast'\nimport { times } from '../functions/enumerable'\nimport { turnTime } from '../functions/nice'\n\nexport const MatrixArray = (function (){\n  const MatrixArray = function (data, column, row){\n    asArray(data).forEach(datum=>{ this.push(datum) })\n    \n    Object.defineProperties(this, {\n      column: {\n        enumerable: false,\n        value     : column\n      },\n      row: {\n        enumerable: false,\n        value     : row\n      },\n      length: {\n        enumerable: false\n      }\n    })\n  }\n\n  MatrixArray.prototype = Object.assign([], {\n    toMatrix (eachResultHook){\n      const result = []\n      eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n\n      times(this.column * this.row, (index)=>{\n        const [ colIndex, rowIndex ] = turnTime(index, this.column)\n        const data       = this[index]\n        const dataResult = eachResultHook ? eachResultHook(data, index, colIndex, rowIndex) : data\n        if(!result[rowIndex]) result[rowIndex] = []\n        result[rowIndex].push(dataResult)\n      })\n      \n      return result\n    },\n    toArray (){\n      return Array.from(this)\n    },\n    eachColumn (eachFn){\n      const rows = this.toMatrix()\n      const columns = times(this.column, colIndex=>{\n        const colData = []\n        rows.forEach(row=>colData.push(row[colIndex]))\n        return colData\n      })\n      \n      return typeof eachFn === \"function\" ? columns.map(eachFn) : columns\n    },\n    eachRow (eachFn){\n      const rows = this.toMatrix()\n      return typeof eachFn === \"function\" ? rows.map(eachFn) : rows\n    },\n    multiply (){\n      //TODO\n    }\n  })\n  \n  return MatrixArray\n})()\n\nexport const makeMatrixArray = function (column, row, eachHook){\n  const matrixProto = times(column * row, (index)=>{\n    const [ colIndex, rowIndex ] = turnTime(index, column)\n    return eachHook(index, colIndex, rowIndex) || [colIndex, rowIndex]\n  })\n  \n  const matrixArray = new MatrixArray(matrixProto, column, row)\n  return matrixArray\n}\n","import { isArray, isNumber } from '../functions/isLike'\nimport { asArray, toNumber } from '../functions/cast'\nimport { validMatrix, multiplyMatrix } from '../functions/matrix'\nimport { makeMatrixArray } from './matrix'\n\n\nconst likePoint = function (p){\n  return typeof p === \"object\" && p.hasOwnProperty(\"x\") && p.hasOwnProperty(\"y\")\n}\n\nconst calcTransformedPoint = (__ref, { matrix, perspectiveOrigin })=>{\n  // yet support affin\n  //let perspectiveVar = (this.meta && this.meta.perspective)\n  //perspectiveVar = !isNumber(perspectiveVar) ? 0 : perspectiveVar;\n  //perspectiveVar = -1/perspectiveVar;\n  //perspectiveVar = isInfinity(perspectiveVar) ? 0 : (perspectiveVar || 0) ;\n  if(!matrix) return\n  \n  const transformPoint = {}\n  const { x:px = 0, y:py = 0, z:pz = 0 } = perspectiveOrigin || { x: 0, y: 0, z: 0 }\n  const [[x], [y], [z], [w]] = multiplyMatrix(matrix, [[__ref.x - px], [__ref.y - py], [__ref.z - pz], [__ref.w]])\n  \n  transformPoint.x = x + px + matrix[0][3]\n  transformPoint.y = y + py + matrix[1][3]\n  transformPoint.z = z + pz + matrix[2][3]\n  transformPoint.w = w\n  \n  return transformPoint\n}\n\nconst Point = function (x = 0, y = 0, z = 0, w = 1, meta){\n  // base point config\n  const __ref = { x, y, z, w }\n  let __meta = {}\n  let __transformedPoint\n  \n  Object.defineProperties(this, {\n    x: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.x : __ref.x\n        }\n        return __ref.x\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.x = v\n      }\n    },\n    y: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.y : __ref.y\n        }\n        return __ref.y\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.y = v\n      }\n    },\n    z: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.z : __ref.z\n        }\n        return __ref.z\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.z = v\n      }\n    },\n    w: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.w : __ref.w\n        }\n        return __ref.w\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.w = v\n      }\n    },\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        __transformedPoint = undefined\n        return __meta\n      }\n    },\n    transform: {\n      enumerable  : false,\n      configurable: false,\n      writable    : true,\n      value       : false\n    },\n    rx: { enumerable: false,\n      get       : ()=>{\n        const rangeWidth = (this.meta && this.meta.range && this.meta.range.width) || 0\n        return this.x / rangeWidth\n      }\n    },\n    ry: { \n      enumerable: false,\n      get       : ()=>{\n        const rangeHeight = (this.meta && this.meta.range && this.meta.range.height) || 0\n        return this.y / rangeHeight\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nPoint.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Point(this.x, this.y, this.z, this.w, this.meta)\n  },\n  call (fn){\n    if(typeof fn === \"function\"){\n      return fn(this) || this\n    }\n    return this\n  },\n  toJSON (withMeta){\n    const json = { x: this.x, y: this.y, z: this.z, w: this.w }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  pull (width = 0, angle = \"horizontal\"){\n    const { x, y, z, w } = this\n    switch (angle){\n      case \"h\": case \"horizontal\":\n        const xHalf = width <= 0 ? 0 : width / 2\n        return new Vertex([{ x: x - xHalf, y, z, w }, { x: x + xHalf, y, z, w }])\n      default:\n    }\n  },\n  vertexWith (destPoint){\n    const points = asArray(destPoint)\n    points.unshift(this)\n    return new Vertex(points)\n  },\n  rectWith ({ x, y }){\n    const [largeX, smallX] = this.x > x ? [ this.x, x ] : [ x, this.x ]\n    const [largeY, smallY] = this.y > y ? [ this.y, y ] : [ y, this.y ]\n    return new Rect(smallX, smallY, largeX - smallX, largeY - smallY, 0, 0)\n  },\n  applyTransform (){\n    const { x, y, z, w } = this\n    this.transform = false\n    this.x = x\n    this.y = y\n    this.z = z\n    this.w = w\n    return this\n  },\n  setTransform (matrix44 = this.meta.matrix){\n    if(!validMatrix(matrix44)){\n      this.transform = false\n      throw new Error('Point::setTransform invalid matrix', matrix44)\n      return this\n    }\n    \n    this.meta.matrix = matrix44\n    this.transform = true\n    \n    return this\n  },\n  add ({ x, y, z, w }){\n    isNumber(x) && x && (this.x += x)\n    isNumber(y) && y && (this.y += y)\n    isNumber(z) && z && (this.z += z)\n    isNumber(w) && w && (this.w += w)\n    return this\n  },\n  subtract ({ x, y, z, w }){\n    isNumber(x) && x && (this.x -= x)\n    isNumber(y) && y && (this.y -= y)\n    isNumber(z) && z && (this.z -= z)\n    isNumber(w) && w && (this.w -= w)\n    return this\n  }\n}\n\nconst Vertex = function (pointArray, meta){\n  let __meta\n  \n  Object.defineProperties(this, {\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ __meta = typeof it === \"object\" ? it : null; return __meta }\n    }\n  })\n  \n  this.meta = meta\n  \n  asArray(pointArray).forEach(point=>{\n    if(!likePoint(point)) return\n    const { x, y, z, w } = point\n    this.push(new Point(x, y, z, w, __meta))\n  })\n};\n\n(function (classFunction, methods){\n  const prototype = []\n  \n  classFunction.prototype = prototype\n  \n  Object.keys(methods).forEach(key=>{\n    prototype[key] = methods[key]\n  })\n  \n  Object.defineProperties(prototype, {\n    start: {\n      enumerable: false,\n      get (){\n        return this[0]\n      }\n    },\n    end: {\n      enumerable: false,\n      get (){\n        return !this.length ? void 0 : this[this.length - 1]\n      }\n    }\n  })\n}(Vertex, {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  toJSON (withMeta){\n    const result = []\n    this.forEach(p=>result.push(p.toJSON(withMeta)))\n    return result\n  },\n  clone (){\n    return new Vertex(this)\n  },\n  eq (index){\n    return this[index]\n  },\n  join: function (fn){\n    const joins = []\n    this.forEach((refp, i)=>{\n      joins.push(refp)\n      if(!this[i + 1]) return\n      const newp = fn(refp, this[i + 1], i)\n      if(!likePoint(newp)) return\n      const { x, y, z, w, meta } = newp\n      joins.push(new Point(x, y, z, w, meta))\n    })\n    this.splice(0, this.length)\n    joins.forEach(p=>this.push(p))\n    return this\n  },\n  point (order){\n    switch (order){\n      case \"e\": case \"end\":\n      case \"d\": case \"down\": case \"r\": case \"right\":\n        const { x:px, y:py, z:pz, w:pw } = this.end\n        return new Point(\n          px,\n          py,\n          pz,\n          pw,\n          this.meta\n        )\n      case \"c\": case \"m\": case \"center\": case \"middle\":\n        const { x:sx, y:sy, z:sz, w:sw } = this.start\n        const { x:ex, y:ey, z:ez, w:ew } = this.end\n        return new Point(\n          sx / 2 + ex / 2,\n          sy / 2 + ey / 2,\n          sz / 2 + ez / 2,\n          sw / 2 + ew / 2,\n          this.meta\n        )\n      case \"s\": case \"start\":\n      case \"u\": case \"up\": case \"l\": case \"left\":\n      default:\n        const { x, y, z, w } = this.start\n        return new Point(\n          x,\n          y,\n          z,\n          w,\n          this.meta\n        )\n    }\n  },\n  rect (){\n    const first = this[0]\n    \n    if(!first){\n      return new Rect(0, 0, 0, 0)\n    }\n    \n    let left = first.x\n    let right = first.x\n    let top = first.y\n    let bottom = first.y\n    \n    for(let d = this, i = 1, l = this.length; i < l; i++){\n      const p = d[i]\n      p.x < left && (left = p.x)\n      p.x > right && (right = p.x)\n      p.y < top && (top = p.y)\n      p.y > bottom && (bottom = p.y)\n    }\n    \n    return new Rect(left, top, right - left, bottom - top)\n  },\n  setTransform (param){\n    this.forEach(p=>p.setTransform(param))\n    return this\n  }\n}))\n\n\nconst Rect = function (left = 0, top = 0, width = 0, height = 0, meta = null){\n  const __ref = { left, top, width, height }\n  let __meta = {}\n  \n  Object.defineProperties(this, {\n    width: { \n      enumerable: true, \n      get (){ return __ref.width },\n      set (newValue){\n        __ref.width = newValue\n        return newValue\n      }\n    },\n    height: { \n      enumerable: true, \n      get (){ return __ref.height },\n      set (newValue){\n        __ref.height = newValue\n        return newValue\n      }\n    },\n    left: { enumerable: true,\n      get (){ return __ref.left },\n      set (newValue){\n        __ref.left = newValue\n        return newValue\n      }\n    },\n    top: { enumerable: true,\n      get (){ return __ref.top },\n      set (newValue){\n        __ref.top = newValue\n        return newValue\n      }\n    },\n    right : { enumerable: true, get (){ return this.left + this.width } },\n    bottom: { enumerable: true, get (){ return this.top + this.height } },\n    meta  : {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        return __meta\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nconst splitCountParser = (split)=>{\n    //splitCount [ horizental, vertical ]\n    //1 = [ 1 ]\n    //[1, 2] = [1, 2]\n  const [ columnOrder, rowOrder ] = asArray(split)\n  return {\n    column: isNumber(columnOrder) && columnOrder > 0 ? parseInt(columnOrder, 10) : 1,\n    row   : isNumber(rowOrder) && rowOrder > 0 ? parseInt(rowOrder, 10) : 1\n  }\n}\n\nRect.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Rect(this.left, this.top, this.width, this.height, this.meta)\n  },\n  toJSON (withMeta){\n    const json = { width: this.width, height: this.height, left: this.left, top: this.top, right: this.right, bottom: this.bottom }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  defaultPerspective (){\n    return {\n      perspective      : 0,\n      perspectiveOrigin: {\n        x: this.left + (this.width / 2),\n        y: this.top + (this.height / 2),\n        z: 0\n      }\n    }\n  },\n  findPoint (findWord){\n    const [ lineFind, pointFind ] = isArray(findWord) ? findWord : findWord.trim().split(/\\s+/)\n    return this.vertex(lineFind).point(pointFind)\n  },\n  vertex (order){\n    const inheritMeta = Object.assign(this.defaultPerspective(), this.meta)\n    \n    switch (order){\n      case \"right\": case \"r\":\n        return new Vertex([{ x: this.right, y: this.top, z: 0, w: 0 }, { x: this.right, y: this.bottom, z: 0, w: 0 }], inheritMeta)\n      case \"bottom\": case \"b\":\n        return new Vertex([{ x: this.left, y: this.bottom, z: 0, w: 0 }, { x: this.right, y: this.bottom, z: 0, w: 0 }], inheritMeta)\n      case \"left\": case \"l\":\n        return new Vertex([{ x: this.left, y: this.top, z: 0, w: 0 }, { x: this.left, y: this.bottom, z: 0, w: 0 }], inheritMeta)\n      case \"top\": case \"t\":\n        return new Vertex([{ x: this.left, y: this.top, z: 0, w: 0 }, { x: this.right, y: this.top, z: 0, w: 0 }], inheritMeta)\n      case \"middle\": case \"m\":\n        const middleY = this.height / 2 + this.top\n        return new Vertex(\n          [\n            { x: this.left, y: middleY, z: 0, w: 0 },\n            { x: this.right, y: middleY, z: 0, w: 0 }\n          ],\n          inheritMeta\n        )\n      case \"center\": case \"c\":\n        const centerX = this.width / 2 + this.x\n        return new Vertex(\n          [\n            { x: centerX, y: this.top, z: 0, w: 0 },\n            { x: centerX, y: this.bottom, z: 0, w: 0 }\n          ],\n          inheritMeta\n        )\n      default:\n        return new Vertex(\n          [\n            { x: this.left, y: this.top, z: 0, w: 0 },\n            { x: this.left, y: this.bottom, z: 0, w: 0 },\n            { x: this.right, y: this.bottom, z: 0, w: 0 },\n            { x: this.right, y: this.top, z: 0, w: 0 }\n          ],\n          inheritMeta\n        )\n    }\n  },\n  transformRect (){\n    this.vertex()\n  },\n  piecesWithCount (splitCount, eachResultHook){\n    const { column, row } = splitCountParser(splitCount)\n    const width = this.width\n    const height = this.height\n    const pieceWidth = width / column\n    const pieceHeight = height / row\n    eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n    \n    \n    const pacExt = { ...this.defaultPerspective() }\n    \n    if(this.meta.matrix && this.meta.matrix instanceof Array){\n      Object.assign(pacExt, {\n        matrix: this.meta.matrix\n      })\n    }\n    \n    const pacResult = makeMatrixArray(column, row, (index, colIndex, rowIndex)=>{\n      const pacMeta = { \n        column: colIndex,\n        row   : rowIndex,\n        coords: [colIndex, rowIndex], \n        range : { width, height },\n        ...pacExt\n      }\n      \n      //\n      const result = new Rect(colIndex * pieceWidth, rowIndex * pieceHeight, pieceWidth, pieceHeight, pacMeta)\n      return eachResultHook ? eachResultHook(result, index, colIndex, rowIndex) : result\n    })\n    \n    return pacResult\n  },\n  diff ({ left:aleft = 0, top:atop = 0, width:awidth = 0, height:aheight = 0, right:aright, bottom:abottom }){\n    const diffResult = {}\n    const original = this.toJSON()\n    const offset = { left: 0, top: 0 }\n    Object.defineProperties(diffResult, {\n      left: {\n        enumerable: true, \n        get       : ()=>original.left - aleft + offset.left,\n        set       : (want)=>{ offset.left = typeof want === \"number\" ? -original.left + want : 0 }\n      },\n      top: {\n        enumerable: true,\n        get       : ()=>original.top - atop + offset.top,\n        set       : (want)=>{ offset.top = typeof want === \"number\" ? -original.top + want : 0 }\n      },\n      width : { enumerable: true, get: ()=>original.width - awidth },\n      height: { enumerable: true, get: ()=>original.height - aheight },\n      right : { enumerable: true, get: ()=>original.right - aright + offset.left },\n      bottom: { enumerable: true, get: ()=>original.bottom - abottom + offset.top },\n      x     : { enumerable: false, get: ()=>offset.left },\n      y     : { enumerable: false, get: ()=>offset.top },\n      offset: {\n        enumerable: false,\n        get       : ()=>()=>({\n          x     : offset.left,\n          y     : offset.top,\n          right : diffResult.right,\n          bottom: diffResult.bottom,\n          over  : diffResult.right > diffResult.bottom ? diffResult.right : diffResult.bottom\n        })\n      },\n      move: {\n        enumerable: false,\n        get       : ()=>(nleft, ntop)=>{\n          diffResult.left = typeof nleft === \"number\" ? nleft : aleft\n          diffResult.top = typeof ntop === \"number\" ? ntop : atop\n          return diffResult\n        }\n      },\n      toJSON: {\n        enumerable: false,\n        get       : ()=>()=>({ ...diffResult })\n      }\n    })\n    \n    return diffResult\n  },\n  fitRatio (rect){\n    if(typeof rect !== \"object\"){ throw new Error(\"fit::argument[0] is not object\") }\n    const { width, height } = rect\n    \n    if(!isNumber(width) || !isNumber(height)){ throw new Error(\"fit::argument[0] is not { width:Number, height:Number }\") }\n    const WHRatio = [ width / this.width, height / this.height ]\n    const transformRatio = WHRatio.sort()[0]\n    return transformRatio\n  },\n  fit (rect){\n    const transformRatio = this.fitRatio(rect)\n    \n    this.width = (this.width * transformRatio) || 0\n    this.height = (this.height * transformRatio) || 0\n    \n    return this\n  },\n  //TODO : incompleted sticky(parent, position, offset);\n  sticky ({ left:refX, top:refY, width:refWidth, height:refHeight }, position = \"bottom left\"){\n    const { left, top, width, height } = this\n    switch (position){\n      case \"bl\": case \"obl\": case \"bottom left\": case \"outer bottom left\":\n        return rect({\n          left: refX,\n          top : refY + refHeight,\n          width,\n          height\n        })\n      case \"c\": case \"m\": case \"mc\": case \"center\": case \"middle\": case \"middle center\":\n        return rect({\n          left: refX + refWidth / 2 - width / 2,\n          top : refY + refHeight / 2 - height / 2,\n          width,\n          height\n        })\n      default:\n        return rect({ left, top, width, height })\n    }\n  },\n  add ({ left, top, width, height }){\n    isNumber(left) && left && (this.left += left)\n    isNumber(top) && top && (this.top += top)\n    isNumber(width) && width && (this.width += width)\n    isNumber(height) && height && (this.height += height)\n    return this\n  },\n  subtract ({ left, top, width, height }){\n    isNumber(left) && left && (this.left -= left)\n    isNumber(top) && top && (this.top -= top)\n    isNumber(width) && width && (this.width -= width)\n    isNumber(height) && height && (this.height -= height)\n    return this\n  }\n}\n\nconst Movement = function (distance, rotate, time){\n  \n  const __ref = {\n    rotate  : toNumber(rotate),\n    distance: toNumber(distance),\n    time    : toNumber(time)\n  }\n  \n  Object.defineProperties(this, {\n    rotate: {\n      enumerable: true,\n      get (){\n        return __ref.rotate\n      }\n    },\n    distance: {\n      enumerable: true,\n      get (){\n        return __ref.distance\n      }\n    },\n    time: {\n      enumerable: true,\n      get (){\n        return __ref.time\n      }\n    },\n    angle: {\n      enumerable: false,\n      get (){\n        const { rotate } = this\n        return !rotate ? 0 : 360 * (rotate + 0)\n      },\n      set (angle){\n        const angleValue = toNumber(angle)\n        __ref.rotate = !isNumber(angleValue) ? 0 : angleValue / 360\n        !isNumber(__ref.rotate) && (__ref.rotate = 0)\n        return this\n      }\n    },\n    theta: {\n      enumerable: false,\n      get (){\n        const { angle } = this\n        return angle * Math.PI / 180.0\n      }\n    }\n  })\n}\n\nMovement.prototype = {\n  clone (){\n    return new Movement(this.distance, this.rotate, this.time)\n  },\n  from (object){\n    const { theta, distance } = this\n    \n    if(object instanceof Point){\n      const { x, y } = object\n      return new Point(\n        x + distance * Math.cos(theta),\n        y + distance * Math.sin(theta)\n      )\n    }\n    return null\n  },\n  setAngle (angle){\n    this.angle = angle\n    return this\n  }\n}\n\nexport const point = function (x, y, z, w){\n  return typeof x === \"object\" \n    ? new Point(x.x, x.y, x.z, x.w) \n    : new Point(x, y, z, w)\n}\n\nexport const vertex = function (start, end){\n  return new Vertex([{ x: start.x, y: start.y, z: start.z, w: start.w }, { x: end.x, y: end.y, z: end.z, w: end.w }])\n}\n\nexport const rect = function (left, top, width, height, x, y, valid){\n  return typeof left === \"object\"\n    ? new Rect(left.left, left.top, left.width, left.height, left.x, left.y, left.valid)\n    : new Rect(left, top, width, height, x, y, valid)\n}\n\nexport const movement = function (distance, rotate, time){\n  return new Movement(distance, rotate, time)\n}\n","import { cloneDeep } from '../functions'\n\nconst ManualReactive = function (watch, effect, judgeOfEqual){\n  this.watch = watch\n  this.effect = effect\n  this.judgeOfEqual = typeof judgeOfEqual === \"function\" ? judgeOfEqual : (a, b)=>a === b\n  this.oldValue = undefined\n}\n\nManualReactive.prototype = {\n  beginAffect (watchValue){\n    this.effect(watchValue, cloneDeep(this.oldValue))\n    this.oldValue = watchValue\n  },\n  digest (...args){\n    const watchResult = this.watch.apply(this, args)\n    return this.judgeOfEqual(this.oldValue, watchResult) ? false : (this.beginAffect(watchResult), true)\n  }\n}\n\nexport const affect = function (effect, judgeOfEqual){\n  let affectValue\n  const manualReactive = new ManualReactive(()=>affectValue, effect, judgeOfEqual)\n  return (value)=>{ affectValue = value; manualReactive.digest() }\n}\n","import {\n  promise,\n  valueOf as _valueOf,\n  abort as _abort,\n  reject as _reject\n} from './promise'\n\nimport {\n  alloc,\n  asArray,\n  cloneDeep as _cloneDeep\n} from '../functions/cast'\n\nimport {\n  isEqual as _isEqual\n} from '../functions/isLike'\n\nexport const awaitLeadOnly = function (func){\n  return alloc(function (){\n    let $pending = false\n    return function (...args){\n      if($pending === true){\n        return _abort()\n      } else {\n        $pending = true\n        return promise((resolve, reject)=>{\n          return _valueOf(func.apply(this, args)).then(resolve).catch(reject)\n        })\n        .then(e=>{\n          $pending = false\n          return e\n        })\n        .catch(e=>{\n          $pending = false\n          return _reject(e)\n        })\n      }\n    }\n  })\n}\n\nexport const awaitCompose = function (funcArgs){\n  return alloc(function (){\n    const composeFuncs = []\n\n    asArray(funcArgs).forEach(f=>{ typeof f === \"function\" && composeFuncs.push(f) })\n\n    return function (payload){\n      return promise((resolve, reject)=>{\n        function * iterator (){\n          for(let d = composeFuncs, i = 0, l = d.length; i < l; i++){\n            yield d[i]\n          }\n        }\n\n        const doWhile = ({ value: proc, done }, taskPayload)=>{\n          if(done){\n            resolve(taskPayload)\n          } else {\n            _valueOf(proc.call(this, taskPayload))\n            .then(nextPayload=>{\n              doWhile(iterator.next(), nextPayload)\n            })\n            .catch(reject)\n          }\n        }\n\n        doWhile.apply(iterator.next(), payload)\n      })\n    }\n  })\n}\n\n/*\n  수동 watch로직 입니다.\n  let watcher = watchChange(newValue=>{ doSomething... })\n  watcher.change(\"newValue\")\n*/\nexport const watchChange = function (){\n  const changeValue = function (watchman, newValue){\n    const countScope   = watchman.$count\n    const destOldValue = _cloneDeep(newValue)\n    \n    watchman.$setter.forEach(effect=>{\n      effect(newValue, watchman.$oldValue, countScope)\n    })\n    \n    watchman.$oldValue = destOldValue\n  }\n  \n  var Watchman = function (equalityLogic){\n    this.$setter = []\n    this.$oldValue = undefined\n    this.$count = 0\n    this.$equalityLogic = equalityLogic\n  }\n  \n  Watchman.prototype = {\n    setter (changeListeners){\n      asArray(changeListeners).forEach(fn=>{\n        if(typeof fn === \"function\"){\n          this.$setter.push(fn)\n        }\n      })\n    },\n    change (newValue){\n      var newValue\n      if(this.$equalityLogic){\n        if(!_isEqual(this.$oldValue, newValue)){\n          changeValue(this, newValue)\n        }\n      } else {\n        if(this.$oldValue != newValue){\n          changeValue(this, newValue)\n        }\n      }\n    }\n  }\n  return function (effect, equalityLogic){\n    const watch = new Watchman(equalityLogic)\n    watch.setter(effect)\n    return watch\n  }\n}\n","import * as functions from './index.js'\n\nlet Bow  = function (){}\nlet BowFactory = function (fns){\n  let BOX = function (payload){ return new Bow(payload) }\n  \n  function applyBoxFns (BowFns){ for(var name in BowFns) BOX[name] = BowFns[name] }\n  \n  applyBoxFns(fns)\n  \n  return BOX\n}\n\nlet DEFAULT = BowFactory({ ...functions })\n\nexport const factory = BowFactory\nexport default DEFAULT\n","import { factory } from './pado.core.js'\nimport * as functions from './index.js'\n\nconst DEFAULT = factory({ ...functions })\n\nexport default DEFAULT\n"],"names":["isAbsoluteNaN","it","isNone","data","undefined","isInfinity","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","isNumber","isInteger","value","trim","test","isNaN","parseInt","isArray","Array","isObject","isFunction","likeObject","likeString","likeNumber","String","parseFloat","likeArray","item","hasOwnProperty","length","isPlainObject","constructor","Object","isEnumerableObject","isNode","a","nodeType","isEmpty","RegExp","prop","isPresence","likeRegexp","s","eqof","typeIt","baseEq","other","filter","depth","strict","arguments","valueType","otherType","every","vValue","i","oValue","vKeys","keys","oKeys","sort","key","isEqual","likeEqual","values","eqeq","isExsist","notExsist","likePromise","target","baseAsArray","defaultArray","toArray","stringTest","string","rule","meta","Boolean","indexOf","some","filterKey","matchString","search","at","Error","replace","result","substr","match","index","baseKeys","filterExp","numberKey","push","forEach","baseEntries","v","k","asArray","option","prototype","slice","call","split","asObject","defaultKey","toNumber","d","vr","dr","cleanObject","splice","clone","r","Date","setTime","getTime","console","error","cloneDeep","l","p","getKeyWithValue","obj","removeValue","detect","array","unique","findKey","uniqueSet","Set","keyPath","has","add","getKeyBy","object","moveOf","oldIndex","newIndex","move","baseConcatOf","args","concatOf","concat","filterOf","filterFn","exitFn","dataArray","dataKeys","isOnExit","exitArray","removedIndex","datumKey","datum","exitDatum","func","insertOf","insert","clearOf","fillFn","sp","sortOf","b","ri","rl","rebase","ref","refValue","refKey","assign","deepKey","removeKey","removeRule","removeKeys","originalIndex","offset","removeIndex","omitOf","omit","pickOf","pick","COMPACT_MATCH_FN","compactOf","compact","FREE_MATCH_EXPRESSION","freeOf","free","purgeOf","purge","instance","proto","ins","DummyInstance","param","alloc","init","fn","rn","apply","baseCaseSplit","e","_","pascalCase","joinString","words","charAt","toUpperCase","toLowerCase","join","camelCase","pascalCaseString","all","times","hashMap","pairs","inputArr","ai","al","map","applyArgs","deepForEach","nsData","proc","startParam","nestedTreeDownProcess","nested","parentReturn","procIndex","forKey","destChilds","ok","procReturn","dest","select","fineded","fill","collection","fillLength","emptyDefault","dataLength","baseCut","cutLength","useFill","rest","readString","rebaseMatches","matches","text","castFn","props","payload","content","newMatchEntries","castingState","firstIndex","lastIndex","castingStart","cursor","start","open","matchEntries","parentScope","matchesMap","matchType","matchExp","firstMatch","aPriority","bPriority","matchIndex","matchSize","castStart","castEnd","castSize","skipSize","matching","casting","scope","fork","next","needCursor","cursorTo","enter","enterMatches","enterCastFn","exit","more","readPath","__filterDotPath","dotPath","removeFirstDot","__filterBlockPath","blockPath","substring","pathParam","path","stackCount","get","defaultValue","allget","name","hasProperty","hasValue","defaultObjectValueFunc","functionKeyObjectValueProc","functionKey","selectKeyObjectValueProc","leftSelect","rightSelect","useLeftSelector","useRightSelector","getKey","objKey","readDown","rootValue","readFn","rootParam","enterScope","arrayScope","objectScope","primitiveScope","type","childrenDepth","cut","fillContent","cuts","rowIndex","enumFn","top","iteratee","topLength","limitNumber","limitOf","number","max","min","Infinity","numbers","accurateTimeout","originalTimeout","trigger","time","resolutionRatio","coverage","destTime","now","preparation","restTime","preparaTime","Math","floor","execution","setTimeout","turn","limit","ts","resultHook","abs","fixIndex","turnTime","toggle","toggleArgs","currentValue","step","findIndex","val","rangeModel","sizeBase","end","reverse","range","stepSize","sizeBaseRange","warn","domainRangeValue","domain","vs","nice","sel","$range","$domain","dSize","sSize","dRate","calc","domainRangeInterpolate","_domain","_range","_nice","interpolate","matrixRange","scales","maxLength","selectLengthes","scaleIndex","rangeResult","reduce","redu","turnSize","scaleCase","scaleCaseLength","validMatrix","arr","from","likeError","asMatrix","columnSize","rowCount","ceil","column","ci","multiplyMatrix","aMatrix","bMatrix","rRowIndex","columnLength","columnResult","rColumnIndex","multiplied","dist","num","rand64","rand64Token","codeAt","codeLength","random","tokenize","seed","digits","sin","charCodeAt","toString","randRange","rangeValue","dateExp","dv","format","dt","exec","getYear","getMonth","getDate","defineProperties","year","enumerable","month","date","hour","minute","second","timestampExp","exp","timescaleExp","scale","t","fallback","fallbackFn","valueOf","deepKeys","nestedDeepKeys","total","child","useKey","currentScope","entries","__find_string","__find_regexp","findIndexes","c","idxs","NESTED_HAS_PROC","pointer","ki","diffStructure","before","after","afterKeys","beforeKeys","canDiff","analysis","missing","surplus","diff","pass","argumentNamesBy","getArgs","n","scopelizeBy","evalCommand","command","scopeBeforeFn","info","params","fnArgs","makeFn","Function","scoped","drawCircleVars","circleWidth","strokeWidth","circumference","radius","diameter","x","y","PromiseClass","Promise","resolveFn","resolve","rejectFn","reject","newPromise","maybeAwaiter","then","catch","promise","PromiseFunction","defer","timeout","maybeQ","operate","PARENT_OUTPUT_UPDATED","input","output","concurrent","rescue","limitInput","limitOutput","parent","children","inputs","outputs","current","defineProperty","inputOutput","kickStart","avaliableQueLength","avaliableOutputCount","entry","shift","outputHandle","formInputDataum","emit","pushData","eventName","avaliablePullCount","pullData","pull","pullLength","deep","cloneOperate","operateFunction","append","remove","abortMessage","abort","notifyConsole","hasValueProperty","Block","posSize","syncOpt","$space","writable","$posSize","$mask","$compute","$sync","domainValue","domainSize","rangeStart","domainRange","rangeSize","domainRangeSize","sync","BlockPrototype","domainMap","size","rangeMap","$start","$size","rangeEnd","block","setPosition","setSize","conflicts","otherBlocks","selector","red","selectOtherBlock","inspectResult","thisPos","otherPos","bind","hasConflicts","overflow","mask","blockPosSize","spaceDomain","overflowDomain","$overflowSelected","isOverflow","f","maskOverflow","isMaskOverflow","compute","Tracker","space","domainMask","$domainMask","domainBlock","callback","domainGrid","rangeDomain","cursorPoint","blockMap","Space","$niceDomain","$niceRange","set","tracker","SESSION_STORE","STATE_STORE","session","inst","close","spawn","managedSpawn","deferred","deferPromise","Limitter","maximum","minimum","LimitterPrototype","expectIn","setValue","expectOut","addExpectIn","addValue","destValue","addExpectOut","done","ranger","MatrixArray","row","toMatrix","eachResultHook","colIndex","dataResult","eachColumn","eachFn","rows","columns","colData","eachRow","multiply","makeMatrixArray","eachHook","matrixProto","matrixArray","likePoint","calcTransformedPoint","__ref","matrix","perspectiveOrigin","transformPoint","z","px","py","pz","w","Point","__meta","__transformedPoint","transform","configurable","rx","rangeWidth","width","ry","rangeHeight","height","addMeta","toJSON","withMeta","json","angle","xHalf","Vertex","vertexWith","destPoint","points","unshift","rectWith","largeX","smallX","largeY","smallY","Rect","applyTransform","setTransform","matrix44","subtract","pointArray","point","classFunction","methods","eq","joins","refp","newp","order","pw","sx","sy","sz","sw","ex","ey","ez","ew","rect","first","left","right","bottom","newValue","splitCountParser","columnOrder","rowOrder","defaultPerspective","perspective","findPoint","findWord","lineFind","pointFind","vertex","inheritMeta","middleY","centerX","transformRect","piecesWithCount","splitCount","pieceWidth","pieceHeight","pacExt","pacResult","pacMeta","coords","aleft","atop","awidth","aheight","aright","abottom","diffResult","original","want","over","nleft","ntop","fitRatio","WHRatio","transformRatio","fit","sticky","position","refX","refY","refWidth","refHeight","Movement","distance","rotate","angleValue","theta","PI","cos","setAngle","valid","movement","ManualReactive","watch","effect","judgeOfEqual","oldValue","beginAffect","watchValue","digest","watchResult","affect","affectValue","manualReactive","awaitLeadOnly","$pending","_abort","_valueOf","_reject","awaitCompose","funcArgs","composeFuncs","iterator","doWhile","taskPayload","nextPayload","watchChange","changeValue","watchman","countScope","$count","destOldValue","_cloneDeep","$setter","$oldValue","Watchman","equalityLogic","$equalityLogic","setter","changeListeners","change","_isEqual","Bow","BowFactory","fns","BOX","applyBoxFns","BowFns","DEFAULT","functions","factory"],"mappings":"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"}
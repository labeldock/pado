{"version":3,"file":"pado.js","sources":["packages/pado/functions/isLike.js","packages/pado/functions/remark.js","packages/pado/functions/cast.js","packages/pado/functions/enumerable.js","packages/pado/functions/reform.js","packages/pado/functions/reduce/reduce.base.js","packages/pado/functions/read.js","packages/pado/functions/reduce/reduce.js","packages/pado/functions/nice.js","packages/pado/functions/matrix.js","packages/pado/functions/random.js","packages/pado/functions/datetime.js","packages/pado/functions/hack.js","packages/pado/functions/draw.js","packages/pado/modules/promise/promiseEngine.js","packages/pado/modules/promise/promise.js","packages/pado/modules/operate.js","packages/pado/modules/promise/promiseFunctions.js","packages/pado/modules/block.js","packages/pado/modules/decorator.js","packages/pado/modules/session.js","packages/pado/modules/ranger.js","packages/pado/modules/matrix.js","packages/pado/modules/stance.js","packages/pado/modules/affect.js","packages/pado/pado.core.js","packages/pado/pado.js"],"sourcesContent":["export const isAbsoluteNaN = function (it){\n  // eslint-disable-next-line no-self-compare\n  return it !== it && typeof it === \"number\"\n}\n\nexport const isNone = function (data){\n  return isAbsoluteNaN(data) || data === undefined || data === null\n}\n\nexport const isInfinity = function (it){\n  return it === Number.POSITIVE_INFINITY || it === Number.NEGATIVE_INFINITY\n}\n\nexport const isNumber = function (it){\n  return (typeof it === \"number\" && !isInfinity(it) && !isAbsoluteNaN(it))\n}\n\nexport const isInteger = function (value){\n  //NaN, null, undefined\n  if(isNone(value) === true) return false\n  \n  if(typeof value === \"string\"){\n    value = value.trim()\n  }\n\n  if(!(/string|number/.test(typeof value)) || isInfinity(value) || isNaN(value)){\n    return false\n  }\n\n  return value == parseInt(value, 10)\n}\n\nexport const isArray = function (data){\n  return Array.isArray(data) || data instanceof Array\n}\n\nexport const isObject   = it=>!!((it !== null && typeof it === \"object\"))\nexport const isFunction = (it)=>typeof it === \"function\"\n\n/*\n  * likeObject is have hasOwnProperty\n*/\nexport const likeObject = (it)=>isObject(it) || isFunction(it)\n\nexport const likeString = function (data){\n  if(typeof data === \"string\") return true\n  if(isNumber(data)) return true\n  return false\n}\n\nexport const likeNumber = function (data){\n  if(isNumber(data) || isInfinity(data)) return true\n  if(typeof data === \"string\") return String(parseFloat(data)) === String(data)\n  return false\n}\n\nexport const likeArray = function (item){\n  return (\n    Array.isArray(item) || \n    ( \n      item !== null &&\n      typeof item === \"object\" &&\n      item.hasOwnProperty(\"length\") && \n      typeof item.length === \"number\" && \n      item.length > 0\n    )\n  )\n}\n\nexport const isPlainObject = data=>typeof data === \"object\" && data.constructor === Object\n\nexport const isEnumerableObject = data=>isPlainObject(data) || isArray(data)\n\nexport const isNode = (a)=>isObject(a) && typeof a.nodeType === \"number\"\n\nexport const isEmpty = function (it){\n  if(typeof it === \"undefined\") return true\n  if(typeof it === \"string\") return it.trim().length < 1\n  if(typeof it === \"object\"){\n    if(it == null) return true\n    if(it instanceof RegExp) return false      \n    if(isArray(it)){\n      return !it.length\n    } else {\n      for(var prop in it) return false; return true\n    }\n  }\n  if(typeof it === \"number\"){\n    //NaN check \n    return isAbsoluteNaN(it) || false\n  }\n  if(typeof it === \"function\") return false\n  if(typeof it === \"boolean\") return false\n  return true\n}\n\n// check JSON, input.value possible value\nexport const isPresence = function (it){\n  return !(it === undefined || isAbsoluteNaN(it))\n}\n\nexport const likeRegexp = (s)=>(typeof s === \"string\") || (s instanceof RegExp)\n\n// none(undfinec, null, NaN), value(1,\"1\"), hash({}), array([]), node, object(new, Date), function, boolean\nexport const eqof = function (it){\n  const typeIt = typeof it\n  switch (typeIt){\n    case \"number\":\n      if(isAbsoluteNaN(it)) return \"none\"\n    case \"string\":\n      return \"value\"\n      break\n    case \"object\":\n      if(isNone(it)) return \"none\"\n      if(likeArray(it)) return \"array\"\n      if(isNode(it)) return \"node\"\n      if(!isPlainObject(it)) return \"object\"\n      return \"hash\"\n      break\n    case \"undefined\":\n      return \"none\"\n      break\n    case \"function\":\n    case \"boolean\":\n    default:\n      return typeIt\n      break\n  }\n}\n\nconst baseEq = function (value, other, filter, depth = 0, strict){\n  if(arguments.length < 2) return false\n  \n  const valueType = eqof(value)\n  const otherType = eqof(other)\n  \n  if(valueType !== otherType) return false\n  \n  switch (valueType){\n    case \"none\":\n      return true\n    case \"array\":\n      if(value.length !== other.length){\n        return false\n      }\n      return value.every((vValue, i)=>{\n        const oValue = other[i]\n        return (typeof filter === \"function\" && filter(i, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"hash\":\n      const vKeys = Object.keys(value); const oKeys = Object.keys(other)\n      if(vKeys.length !== oKeys.length || !baseEq(vKeys.sort(), oKeys.sort())) return false\n      return vKeys.every((key)=>{\n        const vValue = value[key]\n        const oValue = other[key]\n        return (typeof filter === \"function\" && filter(key, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"node\":\n    case \"object\":\n    case \"function\":\n    case \"boolean\":\n    case \"value\":\n    default:\n      return strict ? value === other : value == other\n  }\n}\n\nexport const isEqual   = (value, other, filter, depth)=>baseEq(value, other, filter, depth, true)\nexport const likeEqual = (value, other, filter, depth)=>baseEq(\n  value,\n  other,\n  (key, values, depth)=>/^(\\$|\\_)/.test(key) ? false : typeof filter === \"function\" ? filter(key, values, depth) : true, \n  depth, \n  true\n)\nexport const eqeq      = (value, other, filter, depth)=>baseEq(value, other, filter, depth, false)\n\nexport const isExsist = function (value){\n  if(value === true){\n    return true\n  }\n  if(value === false){\n    return false\n  }\n  if(typeof value === \"string\" || typeof value === \"number\"){\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const notExsist = value=>!isExsist(value)\n\nexport const likePromise = (target)=>(typeof target === \"object\" && target !== null && typeof target['then'] === \"function\" && typeof target['catch'] === \"function\")\n","import { \n  isNone,\n  likeString,\n  isNumber,\n  likeRegexp,\n  isArray,\n  likeArray,\n  likeObject,\n  isPlainObject\n} from './isLike'\n\nimport {\n  clone,\n  asArray\n} from './cast'\n\n\nexport const fallback = function (value, fallbackFn, ...args){\n  return typeof value === \"undefined\" ? fallbackFn(...args) : value\n}\n\nexport const valueOf = function (value, ...args){\n  return typeof value === \"function\" ? value(...args) : value\n}\n\nexport const stringTest = function (string, rule, meta){\n  if(!likeString(string)) return false\n  if(typeof rule === \"undefined\") return true\n  return typeof rule === \"function\" ? Boolean(rule(string, meta))\n    : likeString(rule) ? (string + '').indexOf(rule + '') > -1\n    : rule instanceof RegExp ? rule.test(string)\n    : isArray(rule) ? rule.some(filterKey=>filterKey === string)\n    : false\n}\n\nexport const keys = function (target, filterExp, strict){\n  const result = []\n  \n  if(!likeObject(target)){\n    return result\n  }\n  \n  if(strict === true ? isArray(target) : likeArray(target)){\n    Object.keys(target).filter(key=>{ \n      if(isNaN(key)) return\n      const numberKey = parseInt(key, 10)\n      stringTest(numberKey, filterExp, target[key]) && result.push(parseInt(numberKey, 10)) \n    })\n  } else if((strict === true ? isPlainObject(target) : likeObject(target))){\n    Object.keys(target).forEach(key=>{ \n      stringTest(key, filterExp, target[key]) && result.push(key) \n    })\n  }\n  \n  return result\n}\n\n\nexport const deepKeys = (function (){\n  const nestedDeepKeys = function (target, filter, scope, total){\n    if(typeof target === \"object\"){\n      keys(target, (key)=>{\n        const child  = target[key]\n        const useKey = filter(child, key, scope.length)\n        if(!useKey){\n          return\n        }\n        const currentScope = clone(scope)\n        currentScope.push(key)\n        total.push(currentScope)\n        nestedDeepKeys(child, filter, currentScope, total)\n      }, true)\n    }\n  }\n  \n  return function (target, filter){\n    const result = []\n    nestedDeepKeys(target, filter ? (child, key)=>{ filter(child, key) } : ()=>true, [], result)\n    return result\n  }\n}())\n\nexport const entries = function (it){\n  const result = []\n  switch (typeof it){\n    case \"object\":\n      // eslint-disable-next-line no-unused-expressions\n      isNone(it) ? 0\n        : likeArray(it) ? asArray(it).forEach((v, k)=>{ result.push([k, v]) })\n        : Object.keys(it).forEach(key=>{ result.push([key, it[key]]) })\n      break\n  }\n  return result\n}\n\n//remark.spec.js\nexport const matchString = (it, search, at = 0)=>{\n  if(typeof it !== \"string\") throw new Error(`matchString :: worng argument ${it}`)\n  if(typeof search === \"string\") search = search.replace(new RegExp(\"(\\\\.|\\\\[|\\\\])\", \"g\"), s=>`\\\\${s}`)\n  const result = it.substr(at).match(search)\n  return result ? [result.index + at, result[0].length] : [-1, 0]\n}\n\nexport const findIndex = (function (){\n  const __find_string = (it, search, at)=>it.indexOf(search, at)\n  const __find_regexp = (it, search, at)=>{\n    let i = it.substring(at || 0).search(search)\n    return (i >= 0) ? (i + (at || 0)) : i\n  }\n  return (it, search, at)=>((search instanceof RegExp) ? __find_regexp : __find_string)(it, search, at)\n}())\n\n//remark.spec.js\nexport const findIndexes = (function (){\n  return function (c, s, at){\n    if(typeof c === \"string\" || typeof c === \"number\"){\n      var idxs = []; var s = likeRegexp(s) ? s : s + \"\"; var at = (!at || !isNumber(at) || at < 0) ? 0 : at; var next\n      do {\n        let i = findIndex(c, s, at)\n        if(i > -1){\n          at = (s.length || 1) + i\n          idxs.push(i) \n          next = true\n        } else {\n          next = false\n        }\n      } while(next)\n      return idxs\n    }\n  }\n}())\n\n\n//TODO: Union hasValue\nconst NESTED_HAS_PROC = function (obj, key){\n  var keys = key.split(\".\")\n  if(!keys.length) return false\n\n  var pointer = obj\n  for(var ki in keys){\n    var k = keys[ki]\n\n    if(!pointer.hasOwnProperty(k)){\n      return false\n    } else {\n      pointer = pointer[k]\n    }\n  }\n  return true\n}\n\nexport const diffStructure = function (before, after){\n  var afterKeys = Object.keys(after)\n  var beforeKeys\n  var canDiff = false\n  if(isObject(before)){\n    if(isArray(before)){\n      beforeKeys = before\n    } else {\n      beforeKeys = Object.keys(before)\n      canDiff = true\n    }\n  } else {\n    beforeKeys = []\n  }\n\n  var analysis = {\n    after  : after,\n    before : before,\n    keys   : unique(afterKeys.concat(beforeKeys)).reduce((dest, key)=>{ dest[key] = undefined; return dest }, {}),\n    match  : [],\n    missing: [],\n    surplus: [],\n    diff   : [],\n    pass   : false\n  }\n  \n  //match, missing\n  for(var ki in beforeKeys){\n    if(!beforeKeys.hasOwnProperty(ki)) continue\n      \n    var key = beforeKeys[ki]\n      \n    if(NESTED_HAS_PROC(after, key)){\n      analysis.match.push(key)\n      analysis.keys[key] = \"match\"\n\n      if(canDiff && !isEqual(get(after, key), get(before, key))){\n        analysis.diff.push(key)\n        analysis.keys[key] = \"diff\"\n      }\n    } else {\n      analysis.surplus.push(key)\n      analysis.keys[key] = \"surplus\"\n    }\n  }\n\n  //surplus\n  asArray(afterKeys).forEach(key=>{\n    if(!hasValue(analysis.match, key)){\n      analysis.missing.push(key)\n      analysis.keys[key] = \"missing\"\n    }\n  })\n\n  //absolute\n  analysis.pass = !analysis.missing.length && !analysis.surplus.length\n\n  return analysis\n}\n","import {\n  isNumber,\n  isArray,\n  isNone,\n  isAbsoluteNaN,\n  isPlainObject,\n  isObject,\n  isFunction,\n  isNode\n} from './isLike'\n\nimport {\n  stringTest,\n  keys\n} from './remark'\n\nexport const asArray = function (data, defaultArray = undefined){\n  if(isArray(data)){\n    return data\n  }\n  if(isNone(data)){\n    return isArray(defaultArray) ? defaultArray\n      : isNone(defaultArray) ? [] : [defaultArray]\n  }\n  if(typeof data === \"object\" && typeof data.toArray === \"function\"){\n    return data.toArray()\n  }\n  return [data]\n}\n\nexport const toArray = function (data, option){\n  if(typeof data === \"undefined\" || data === null || isAbsoluteNaN(data)) return []\n  if(isArray(data)) return Array.prototype.slice.call(data)\n  if(typeof data === \"object\" && typeof data.toArray === \"function\") return data.toArray()\n  if(typeof data === \"string\" && typeof option === \"string\") return data.split(option)\n  return [data]\n}\n\nexport const asObject = function (data, defaultKey = \"default\"){\n  if(isPlainObject(data)){\n    return data\n  } else {\n    return { [defaultKey]: data }\n  }\n}\n\nexport const toNumber = function (v, d){\n  switch (typeof v){ case \"number\":return v; case \"string\":const vr = v.replace(/[^.\\d\\-]/g, \"\") * 1; return isAbsoluteNaN(vr) ? 0 : vr; break }\n  switch (typeof d){ case \"number\":return d; case \"string\":const dr = d * 1; return isAbsoluteNaN(dr) ? 0 : dr; break }\n  return 0\n}\n\nexport const cleanObject = function (data){\n  if(data instanceof Array){\n    Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    Object.keys(data).forEach(key=>{ delete data[key] })\n  }\n  return data\n}\n\nexport const clone = function (target){\n  switch (typeof target){\n    case \"undefined\": case \"function\": case \"boolean\": case \"number\": case \"string\": return target; break\n    case \"object\":\n      if(target === null) return target\n    \n      if(isArray(target)){\n        let r = []\n        for(let i = 0, length = target.length; i < length; i++)r.push(target[i])\n        return r\n      }\n    \n      if(!isPlainObject(target)){\n        if(target instanceof Date){\n          let r = new Date()\n          r.setTime(target.getTime())\n          return r\n        }\n        return target\n      }\n    \n      let r = {}\n    \n      Object.keys(target).forEach(k=>{\n        if(target.hasOwnProperty(k)) r[k] = target[k]\n      })\n      return r\n      break\n    default : \n      console.error(\"clone::copy failed : target => \", target)\n      return target \n      break\n  }\n}\n\nexport const cloneDeep = function (target){\n  if(typeof target === \"object\"){\n    let d\n    if(isArray(target)){\n      if(!isArray(d)){ d = [] };\n      for(var i = 0, l = target.length; i < l; i++) d.push(((typeof target[i] === \"object\" && target[i] !== null) ? clone(target[i]) : target[i]))\n      return d\n    } else {\n      d = {}\n      Object.keys(target).forEach(p=>{\n        (typeof target[p] === \"object\" && target[p] !== null && d[p]) ? clone(target[p], d[p]) : d[p] = target[p]\n      })\n      return d\n    }\n  } else {\n    return clone(target)\n  }\n}\n\nconst getKeyWithValue = function (obj, value){\n  if(isArray(obj)){\n    for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return i\n  } \n  if(isObject(obj)){\n    for(var key in obj) if(obj[key] === value) return key\n  }\n  return undefined\n}\n\nexport const removeValue = function (obj, value){\n  var detect = true\n  var array  = isArray(obj)\n\n  while(detect){\n    var key = getKeyWithValue(obj, value)\n    if(typeof key === \"undefined\"){\n      detect = false\n    } else {\n      if(array){\n        obj.splice(key, 1)\n      } else {\n        delete obj[key]\n      }\n    }\n  }\n\n  return obj\n}\n\n\n// Only one unique value is left.\nexport const unique = function (array, findKey){\n  const result    = []\n  const uniqueSet = new Set()\n  if(typeof findKey === \"undefined\"){ findKey = (v)=>v }\n  if(typeof findKey === \"string\"){ const keyPath = findKey; findKey = (v)=>v[keyPath] }\n  array.forEach((v)=>{\n    const key = findKey(v)\n    if(uniqueSet.has(key)) return\n    uniqueSet.add(key)\n    result.push(v)\n  })\n  return result\n}\n\nexport const getKeyBy = function (object, value){\n  if(isFunction(value)){\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(value(object[i], i) === true) return i\n    if(isObject(object)) for(var key in object) if(value(object[key], key) === true) return key\n  } else {\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(object[i] === value) return i\n    if(isObject(object)) for(var key in object) if(object[key] === value) return key\n  }\n}\n\n// Change the positions of the specified indexes in the array\nexport const moveOf = function (data, oldIndex, newIndex){\n  data = asArray(data)\n  oldIndex !== newIndex && \n  isNumber(oldIndex) &&\n  isNumber(newIndex) &&\n  oldIndex >= 0 && oldIndex < data.length && \n  Array.prototype.splice.call(data, newIndex > data.length ? data.length : newIndex, 0, Array.prototype.splice.call(data, oldIndex, 1)[0])\n  return data\n}\nexport const move = (data, oldIndex, newIndex)=>moveOf(toArray(data), oldIndex, newIndex)\n\n\n// Supports self concat.\nconst baseConcatOf = (data, args)=>{\n  const result = asArray(data)\n  return (args.forEach(data=>{ asArray(data).forEach(value=>{ result.push(value) }) }), result)\n}\nexport const concatOf = (data, ...args)=>baseConcatOf(data, args)\nexport const concat = (data, ...args)=>baseConcatOf(toArray(data), args)\n\n\n// Removes the value of data that does not return a positive value to the filter function.\nexport const filterOf = function (data, filterFn, exitFn){\n  const dataArray = asArray(data)\n  const dataKeys = keys(data)\n  const isOnExit = typeof exitFn === \"function\"\n  const exitArray = isOnExit ? [] : null\n  for(let i = 0, removedIndex = 0, l = dataKeys.length; i < l; i++, removedIndex++){\n    const datumKey = dataKeys[i]\n    const datum = dataArray[datumKey]\n    if(filterFn(datum, datumKey) !== true){\n      const exitDatum = dataArray.splice(i, 1)\n      i--\n      l--\n      isOnExit && exitArray.push([removedIndex, exitDatum])\n    }\n  }\n  isOnExit && exitFn(exitArray, dataArray)\n  return dataArray\n}\nexport const filter = (data, func, exitFn)=>filterOf(toArray(data), func, exitFn)\n\n\n// Put the specified value in the specified index.\nexport const insertOf = function (data, v, a){\n  data = asArray(data)\n  return (data.splice(typeof a === \"number\" ? a : 0, 0, v), data)\n}\nexport const insert = (data, v, a)=>insertOf(toArray(data), v, a)\n\n\n// Removes all contents of an array or object.\nexport const clearOf = function (data, fillFn, sp){\n  if(isArray(data)){\n    sp = Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    sp = {}\n    for(var key in data){ sp[key] = data[key]; delete data[key] } \n  }\n  return (fillFn && fillFn(data, sp)), data\n}\n\n// sort\nexport const sortOf = function (data, filter){\n  if(data.length == 0){\n    return data\n  }\n  \n  switch (filter){\n    case 'desc':\n      filter = function (a, b){ return a > b }\n      break\n    case undefined:\n    case 'asc':\n    default:\n      if(typeof filter !== \"function\"){\n        filter = function (a, b){ return a < b }\n      }\n      break\n  }\n\n  var result = [data[0]]\n\n  for(var i = 1, l = data.length; i < l; i++){\n    for(var ri = 0, rl = result.length; ri < rl; ri++){\n      if(filter(data[i], result[ri]) === true){\n        insertOf(result, data[i], ri)\n        break\n      }\n      if((ri + 1) === result.length){\n        result.push(data[i])\n      }\n    }\n  }\n\n  clearOf(data)\n\n  for(var i = 0, l = result.length; i < l; data.push(result[i]), i++);\n  \n  return data\n}\n\nexport const sort = (data, filter)=>sortOf(toArray(data), filter)\n\n// If have defined multiple key names in one hash, change them appropriately.\n// rebase({ \"a,b\":1 }) => { \"a\":1, \"b\":1 }\nexport const rebase = function (obj, ref){\n  var result = {}\n  for(var key in obj){\n    if(key === \".*\"){\n      var refValue = obj[key]\n      for(var i = 0, d = Object.keys(ref), l = d.length; i < l; i++){\n        var refKey = d[i]\n        if(typeof refValue === \"function\"){\n          result[refKey] = obj[key]\n        } else {\n          if((typeof refValue !== \"object\" && typeof refValue !== \"object\") || isNode(refValue)){\n            result[refKey] = refValue\n          } else {\n            result[refKey] = Object.assign(result[refKey], refValue)\n          }\n        }\n      }\n    } else if(key.indexOf(\",\") > -1){\n      key.split(\",\").forEach(deepKey=>{\n        deepKey = deepKey.trim()\n        if(typeof obj[key] === \"function\"){\n          result[deepKey] = obj[key]\n        } else {\n          if((!result.hasOwnProperty(deepKey) && typeof obj[key] !== \"object\") || isNode(obj[key])){\n            result[deepKey] = obj[key]\n          } else {\n            result[deepKey] = Object.assign(result[deepKey] || (isArray(obj[key]) ? [] : {}), obj[key], obj[deepKey])\n          }\n        }\n      })\n    } else {\n      if(typeof obj[key] === \"function\"){\n        result[key] = obj[key]\n      } else {\n        if((typeof result[key] !== \"object\" && typeof obj[key] !== \"object\") || isNode(obj[key])){\n          result[key] = obj[key]\n        } else {\n          result[key] = Object.assign(result[key], obj[key])\n        }\n      }\n    }\n  }\n  return result\n}\n\nconst removeKey = function (datum, rule){\n  if(!isObject(datum)) return datum\n  const removeRule = typeof rule === \"function\" ? (key, value)=>rule(value, key) : rule\n  const removeKeys = keys(datum, removeRule)\n  if(!removeKeys.length) return datum\n  \n  isArray(datum)\n    ? removeKeys.forEach((originalIndex, offset)=>{\n      const removeIndex = originalIndex - offset\n      datum.splice(removeIndex, 1)\n    })\n    : removeKeys.forEach(key=>{ delete datum[key] })\n\n  return datum\n}\n\n// If the rule matches the rule, remove the key\nexport const omitOf = (datum, rule)=>removeKey(datum, rule)\nexport const omit = (datum, rule)=>omitOf(clone(datum), rule)\n\n// If the rule matches the rule, preserve the key.\nexport const pickOf = (datum, rule)=>removeKey(datum, (value, key)=>!stringTest(key, rule, value))\nexport const pick = (datum, rule)=>pickOf(clone(datum), rule)\n\n// Remove the key that has a value of undefined\n//const COMPACT_MATCH_FN = value=>typeof value !== \"undefined\"\nconst COMPACT_MATCH_FN = value=>{\n  return typeof value === \"undefined\"\n}\nexport const compactOf = (datum)=>omitOf(datum, COMPACT_MATCH_FN)\nexport const compact = (datum)=>compactOf(clone(datum))\n\n// Clears key values starting with $\nconst FREE_MATCH_EXPRESSION = /^\\$/\nexport const freeOf = (datum)=>omitOf(datum, FREE_MATCH_EXPRESSION)\nexport const free = (datum)=>freeOf(clone(datum))\n\n// Remove the key that begins with $ or has a value of undefined.\nexport const purgeOf = (datum)=>omitOf(datum, (value, key)=>FREE_MATCH_EXPRESSION.test(key) || COMPACT_MATCH_FN(value))\nexport const purge = (datum)=>purgeOf(clone(datum))\n\nexport const instance = function (func, proto){\n  var ins; var DummyInstance = function (param){ if(typeof param === \"object\") for(var k in param) this[k] = param[k] }\n  if(typeof func == \"object\"){\n    if(typeof proto === \"object\") DummyInstance.prototype = proto\n    ins = new DummyInstance(func)\n  }\n  if(typeof func == \"function\"){\n    if(typeof proto === \"object\") func.prototype = proto\n    ins = (new func())\n  }\n  return ins\n}\n\nexport const alloc = function (init){\n  let fn = init()\n  const rn = function (...args){\n    return fn.apply(this, args)\n  }\n  rn['reset'] = function (){ fn = init(rn, rn) }\n  rn['$constructor'] = fn\n  return rn\n}\n\n// TODO\n/*\nconst syncData = (function (){\n  const ENTER_HOOK  = (newDatum)=>Object.assign({}, newDatum)\n  const UPDATE_HOOK = (oldDatum, newDatum)=>Object.assign({}, oldDatum, newDatum)\n  \n  return function (oldData, newData, getId, options){\n    if(!/string|function/.test(typeof getId)) throw new Error(\"syncData need getId\")\n  \n    if(typeof getId === \"string\"){\n      const getIdString = getId\n      getId = e=>_.get(e, getIdString)\n    }\n\n    oldData = asArray(oldData)\n    newData = asArray(newData)\n\n    const result = []\n    const hooks  = asObject(options, \"afterEach\")\n    \n    if(typeof hooks[\"enter\"] !== \"function\"){\n      hooks[\"enter\"] = ENTER_HOOK\n    }\n    \n    if(typeof hooks[\"update\"] !== \"function\"){\n      hooks[\"update\"] = UPDATE_HOOK\n    }\n    \n    const oldDataMap = _.map(oldData, e=>{\n      return { id: getId(e), ref: e }\n    })\n    \n    \n    asArray(newData).forEach((newDatum, i)=>{\n      const newId = getId(newDatum)\n      \n      let oldDatum = _.get(oldDataMap[_.findIndex(oldDataMap, e=>e.id === newId)], \"ref\")\n      let genDatum\n      let dirty = false\n      // eslint-disable-next-line no-undef\n      if(oldDatum){\n        // change is not dirty, modify is dirty\n        if(typeof oldDatum !== typeof newDatum){\n          dirty = false\n        } else { // same type\n          const oldOwnKeys = Object.keys(oldDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n          const newOwnKeys = Object.keys(newDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n\n          // inspect key chnage\n          if(_.isEqual(oldOwnKeys, newOwnKeys)){\n            dirty = !_.isEqual(_.pick(oldDatum, oldOwnKeys), _.pick(newDatum, newOwnKeys))\n          } else {\n            dirty = true\n          }\n        }\n        \n        if(typeof hooks[\"beforeUpdate\"] === \"function\"){\n          if(hooks[\"beforeUpdate\"](oldDatum, newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"update\"](oldDatum, newDatum)\n        \n        if(typeof hooks[\"afterUpdate\"] === \"function\"){\n          genDatum = hooks[\"afterUpdate\"](genDatum, oldDatum, newDatum)\n        }\n      } else {\n        if(typeof hooks[\"beforeEnter\"] === \"function\"){\n          if(hooks[\"beforeEnter\"](newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"enter\"](newDatum)\n        \n        if(typeof hooks[\"afterEnter\"] === \"function\"){\n          genDatum = hooks[\"afterEnter\"](genDatum, newDatum)\n        }\n      }\n\n      if(typeof hooks[\"afterEach\"] === \"function\"){\n        hooks[\"afterEach\"](genDatum, i, dirty)\n      }\n\n      result.push(genDatum)\n    })\n\n    return result\n  }\n}())\n*/\n","import {\n  isArray\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nexport const all = function (data, fn){\n  data = asArray(data)\n  \n  if(data.length === 0){\n    return false\n  }\n  \n  for(let i = 0, l = data.length; i < l; i++){\n    if(!fn(data[i], i)){\n      return false\n    } \n  };\n  \n  return true\n}\n\nexport const times = function (length, fn){\n  const result = []\n  for(var i = 0, l = length; i < l; i++){\n    result.push(fn(i))\n  }\n  return result\n}\n\nexport const hashMap = function (object, fn){\n  if(typeof object === \"object\" && !isArray(object)) for(var k in object) object[k] = fn(object[k], k)\n  else return fn(object, (void 0))\n  return object\n}\n\nexport const pairs = (inputArr, fn)=>{\n  let result = []\n  for(let i = 0, l = inputArr.length; i < l; i++){\n    for(let ai = 0, al = l; ai < al; (i !== ai && result.push([inputArr[i], inputArr[ai]])), ai++);\n  }\n  return typeof fn === \"function\" ? result.map(applyArgs=>fn.apply(undefined, applyArgs)) : result\n}\n","import {\n  asArray\n} from './cast'\n\nimport { \n  isNumber\n} from './isLike'\n\nexport const fill = function (collection, fillLength, emptyDefault = undefined){\n  const data = asArray(collection)\n  let dataLength = data.length\n  \n  fillLength = isNumber(fillLength) ? fillLength : 0\n  const fillFn = typeof emptyDefault !== \"function\" ? ()=>emptyDefault : emptyDefault\n  \n  for(let i = 0, l = fillLength - dataLength; i < l; data.push(fillFn(dataLength++, i++)));\n  \n  return collection\n}\n","import { \n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  fill\n} from '../reform'\n\nexport const baseCut = function (collection, cutLength, emptyDefault, useFill){\n  let data = asArray(collection); let rest\n  cutLength = isNumber(cutLength) ? cutLength : 1\n  \n  if(data.length > cutLength){\n    rest = data.splice(cutLength, Number.POSITIVE_INFINITY)\n    return [data, rest]\n  }\n  \n  useFill === true && (data = fill(data, cutLength, emptyDefault))\n  return [data, []]\n}\n","import {\n  isArray,\n  likeString,\n  isObject,\n  likeObject,\n  isNumber,\n  isEmpty\n} from './isLike'\n\nimport {\n  entries,\n  matchString\n} from './remark'\n\nimport {\n  all\n} from './enumerable'\n\nimport {\n  asArray\n} from './cast'\n\n\n//read.readString.spec.js\nexport const readString = (function (){\n  const rebaseMatches = matches=>entries(asArray(matches))\n  return function (text, matches, castFn, props){\n    const payload = {\n      content: text,\n      props\n    }\n  \n    const newMatchEntries = rebaseMatches(matches)\n  \n    const castingState = {\n      firstIndex  : 0,\n      lastIndex   : text.length,\n      castingStart: 0,\n      cursor      : 0\n    }\n    \n    if(typeof props === \"object\" && isNumber(props.start)){\n      castingState.castingStart = props.start\n      castingState.cursor = props.start\n    }\n\n    const open = function ({ castingState:{ firstIndex, lastIndex, castingStart, cursor }, matchEntries, castFn, parentScope }){\n      if(cursor >= lastIndex){\n        return false\n      }\n      \n      //find match\n      const matchesMap = matchEntries.map(([matchType, matchExp])=>([matchString(text, matchExp, cursor), matchType, matchExp]))\n      let firstMatch   = asArray(matchesMap).sort(([a, aPriority], [b, bPriority])=>(\n        a[0] < 0 ? true\n        : b[0] < 0 ? false\n        : a[0] == b[0] ? aPriority < bPriority : a[0] > b[0]\n      ))[0]\n      \n      // top match is not exsist\n      if(!firstMatch){ return false }\n      \n      // unmatched\n      if(firstMatch[0][0] === -1){\n        firstMatch = [[-1, 0], -1, null]\n      }\n\n      //next variant\n      const [[ matchIndex, matchSize ], matchType, matchExp] = firstMatch\n      const castStart = castingStart\n      const castEnd   = matchType === -1 ? lastIndex : (matchIndex + matchSize)\n      const castSize  = castEnd - castStart\n      const skipSize  = castSize - matchSize\n      \n      //next params\n      const matching = { \n        matchType, \n        matchExp,\n        matchIndex,\n        matchSize,\n        skipSize\n      }\n      const casting = {\n        firstIndex,\n        lastIndex,\n        castStart,\n        castEnd,\n        castSize\n      }\n      const scope = {\n        fork (matchEntries, castFn){\n          const newMatchEntries = rebaseMatches(matches)\n          open({\n            castingState: {\n              firstIndex  : matching.matchIndex,\n              lastIndex   : matching.matchIndex + matchSize,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            }, \n            matchEntries: newMatchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        next (needCursor){\n          const cursorTo = isNumber(needCursor) ? needCursor : casting.castEnd\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: cursorTo,\n              cursor      : cursorTo\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        enter (enterMatches, enterCastFn){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            },\n            matchEntries: rebaseMatches(enterMatches),\n            castFn      : enterCastFn,\n            parentScope : {\n              next: scope.next\n            }\n          })\n        },\n        exit (needCursor){\n          parentScope && parentScope.next(isNumber(needCursor) ? needCursor : casting.castEnd)\n        },\n        more (){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: castStart,\n              cursor      : casting.castEnd\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        }\n      }\n      \n      castFn({\n        ...payload,\n        ...matching,\n        ...casting,\n        ...scope\n      })\n      \n      return true\n    }\n    \n    open({\n      castingState,\n      matchEntries: newMatchEntries,\n      castFn\n    })\n  \n    return payload\n  }\n}())\n\nexport const readPath = (function (){\n  const __filterDotPath = (dotPath, removeFirstDot)=>removeFirstDot && dotPath.indexOf(\".\") === 0 ? dotPath.substr(1) : dotPath\n  const __filterBlockPath = (blockPath)=>{\n    //remove []\n    blockPath = blockPath.substring(1, blockPath.length - 1)\n    \n    //interger\n    if(/^[0-9]+$/.test(blockPath)){\n      return parseInt(blockPath, 10)\n    }\n    \n    //remove ''\n    if(/^\\'.*\\'$/.test(blockPath) || /^\\\".*\\\"$/.test(blockPath)){\n      blockPath = blockPath.substring(1, blockPath.length - 1)\n    }\n    return blockPath\n  }\n\n  return function (pathParam){\n    if(isArray(pathParam)){\n      return pathParam\n    }\n  \n    if(likeString(pathParam)){\n      if(isNumber(pathParam)){\n        return [pathParam]\n      }\n    \n      if(typeof pathParam === \"string\"){\n        //one depth\n        if(!/\\.|\\[/.test(pathParam)){\n          return [pathParam]\n        }\n        \n        //multiple depth\n        const { props:{ path:result } } = readString(pathParam, [\".\", \"[\"], ({\n          content, props:{ path }, matchExp, castStart, castEnd, skipSize, enter, next\n        })=>{\n          if(matchExp === \".\"){\n            skipSize && path.push(content.substr(castStart, skipSize))\n            next()\n          }\n          if(matchExp === \"[\"){\n            let stackCount = 0\n          \n            if(skipSize){\n              path.push(__filterDotPath(content.substr(castStart, skipSize), castStart !== 0))\n            }\n          \n            enter([\"[\", \"]\"], ({ matchExp, castStart, castEnd, more, exit })=>{\n              if(matchExp === \"[\") stackCount++\n              if(matchExp === \"]\") stackCount--\n              if(matchExp === null) return\n              if(stackCount === 0){\n                path.push(__filterBlockPath(content.substring(castStart, castEnd)))\n                exit()\n              } else {\n                more()\n              }\n            })\n          }\n          if(matchExp === null){\n            path.push(__filterDotPath(content.substr(castStart, castEnd), castStart !== 0))\n          }\n        }, { path: [] })\n      \n        return result\n      }\n    }\n    return []\n  }\n}())\n\nexport const get = function (target, path, defaultValue){\n  if(typeof target === \"object\"){\n    switch (typeof path){\n      case \"number\": path += \"\"\n      case \"string\":\n        path = readPath(path)\n      case \"object\":\n        if(isArray(path)){\n          const allget = all(path, (name)=>{\n            if(likeObject(target) && (target.hasOwnProperty(name) || target[name])){\n              target = target[name]\n              return true\n            } else {\n              return false\n            }\n          })\n          return allget ? target : defaultValue\n        } else {\n          return\n        }\n        break\n      case \"function\": return path.call(this, target)\n    }\n  } else if(typeof target === \"function\"){\n    return target.apply(this, Array.prototype.slice.call(arguments, 1))\n  }\n  return target\n}\n\nexport const hasProperty = function (target, pathParam){\n  return all(readPath(pathParam), path=>{\n    if(likeObject(target) && likeString(path) && target.hasOwnProperty(path)){\n      target = target[path]\n      return true\n    }\n    return false\n  })\n}\n\nexport const hasValue = (function (){\n  const defaultObjectValueFunc = function (object, value){\n    return object === value\n  }\n    \n  const functionKeyObjectValueProc = function (functionKey){\n    return function (object, value){\n      return Boolean(functionKey(object, value))\n    }\n  }\n    \n  const selectKeyObjectValueProc = function (leftSelect, rightSelect){\n    var useLeftSelector  = (typeof leftSelect === \"string\" || typeof leftSelect === \"number\")\n    var useRightSelector = leftSelect === rightSelect ? useLeftSelector : (typeof rightSelect === \"string\" || typeof rightSelect === \"number\")\n        \n    return function (object, value){\n      if(useLeftSelector && !object.hasOwnProperty(leftSelect)) return false\n      if(useRightSelector && !value.hasOwnProperty(rightSelect)) return false\n            \n      return (useLeftSelector ? get(object, leftSelect) : object) === (useRightSelector ? get(value, rightSelect) : value)\n    }\n  }\n    \n  return function (obj, value, key, getKey){\n    if(typeof key === \"boolean\"){\n      if(typeof getKey !== \"boolean\"){\n        getKey = key\n      }\n      key = void 0\n    }\n        \n    if(obj === value){\n      return true\n    } else if(likeObject(obj)){\n      if(value === (void 0) && key === (void 0)) return !isEmpty(obj)\n            \n      var proc\n            \n      if(key){\n        if(typeof key === \"function\"){\n          proc = functionKeyObjectValueProc(key)\n        } else if(isArray(key) && key.length > 1){\n          proc = selectKeyObjectValueProc(key[0], key[1])\n        } else if(typeof key === \"string\" || typeof key === \"number\"){\n          proc = selectKeyObjectValueProc(key, key)\n        }\n      } else {\n        proc = defaultObjectValueFunc\n      }\n            \n      if(isArray(obj)){\n        for(var i = 0, l = obj.length; i < l; i++) if(proc(obj[i], value)) return getKey ? i : true\n      } else {\n        for(var objKey in obj) if(obj.hasOwnProperty(objKey) && proc(obj[objKey], value)) return getKey ? objKey : true \n      }\n    }\n        \n    return getKey ? void 0 : false\n  }\n}())\n\nexport const readDown = function (rootValue, readFn, rootParam){\n  const enterScope = (value, depth, param)=>isArray(value) ? arrayScope(value, depth, param) : isObject(value) ? objectScope(value, depth, param) : primitiveScope(value, depth, param)\n  \n  const arrayScope = (array, depth, param)=>{\n    return readFn({\n      type : \"array\",\n      value: array,\n      key  : null,\n      depth,\n      param,\n      enter: (param)=>{\n        const childrenDepth = depth + 1\n        return Array(array.length).fill(void 0).map((v, i)=>i).map(key=>{\n          const value = array[key]\n          return enterScope(value, childrenDepth, param)\n        })\n      }\n    })\n  }\n  \n  const objectScope = (object, depth, param)=>{\n    return readFn({\n      type : \"object\",\n      value: object,\n      key  : null,\n      depth,\n      param,\n      enter: (param)=>{\n        const childrenDepth = depth + 1\n        return Object.keys(object).map(key=>{\n          const value = object[key]\n          return readFn({\n            type : \"hash\",\n            key,\n            value,\n            depth,\n            param,\n            enter: (param)=>enterScope(value, childrenDepth, param)\n          })\n        })\n      }\n    })\n  }\n  \n  const primitiveScope = (value, depth, param)=>{\n    readFn({\n      type : \"value\",\n      key  : null,\n      value,\n      depth,\n      param,\n      enter: (param)=>param\n    })\n  }\n  \n  enterScope(rootValue, 0, rootParam)\n  return rootParam\n}\n","import {\n  baseCut\n} from './reduce.base'\n\nimport { \n  isInfinity,\n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  get\n} from '../read'\n\n\nexport const cut = function (collection, cutLength, fillContent){\n  const useFill = arguments.length > 2\n  return baseCut(collection, cutLength, fillContent, useFill)[0]\n}\n\nexport const cuts = function (collection, cutLength, fillContent){\n  const result = []\n  let rest = collection\n  let rowIndex = 0\n  const enumFn = typeof fillContent !== \"function\" ? ()=>fillContent : (index)=>fillContent(rowIndex * cutLength + index, index, rowIndex)\n  const useFill = arguments.length > 2\n  \n  do {\n    ([collection, rest] = baseCut(rest, cutLength, enumFn, useFill))\n    result.push(collection)\n    rowIndex++\n  } while(rest.length > 0)\n  return result\n}\n\n//reduce.spec.js\nexport const top = function (data, iteratee, topLength){\n  switch (typeof iteratee){\n    case \"function\":\n    //iteratee=iteratee;\n      break\n    case \"string\":\n      const path = iteratee\n      iteratee = (a, b)=>get(a, path) < get(b, path)\n      break\n    case \"boolean\":\n      iteratee = iteratee ? (a, b)=>a < b : (a, b)=>a > b\n      break\n    default:\n      iteratee = (a, b)=>a < b\n      break\n  }\n  \n  if(typeof topLength === \"boolean\"){\n    topLength = topLength ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY\n  }\n  \n  return isNumber(topLength) || isInfinity(topLength)\n    ? asArray(data).sort((a, b)=>iteratee(a, b)).splice(0, topLength)\n    : asArray(data).sort((a, b)=>iteratee(a, b))[0]\n}\n","import { isNumber, isArray, isAbsoluteNaN } from './isLike'\nimport { asArray } from './cast'\n\nexport const limitNumber = (function (){\n  const limitOf = function (number, max, min){\n    if(typeof number == \"number\"){\n      if(isAbsoluteNaN(number) || number === Infinity){\n        return min\n      }\n      if(isNumber(min) && (number < min)){\n        return min\n      }\n      if(isNumber(max) && (number > max)){\n        return max\n      }\n    }\n    return number\n  }\n  const limitNumber = function (numbers, max, min){\n    if(typeof max !== \"number\"){ max = Number.POSITIVE_INFINITY }\n    if(typeof min !== \"number\"){\n      if(min === null || isAbsoluteNaN(min)){\n        min = Number.NEGATIVE_INFINITY\n      } else {\n        min = 0\n      }\n    }\n    if(isArray(numbers)){\n      for(var d = numbers, i = 0, l = d.length; i < l; i++){\n        d[i] = limitOf(d[i], max, min)\n      }\n      return numbers\n    } else {\n      return limitOf(numbers, max, min)\n    }\n  }\n  return limitNumber\n}())\n\nexport const accurateTimeout = (function (originalTimeout){\n  return function (trigger, time = 0, resolutionRatio = 0.75, coverage = 25){\n    let destTime = Date.now() + time\n    \n    if(!isNumber(time)){\n      time = 0\n    }\n    \n    if(!isNumber(resolutionRatio)){\n      resolutionRatio = 0.75\n    }\n    \n    if(!isNumber(coverage)){\n      resolutionRatio = 25\n    }\n    \n    if(resolutionRatio > 1){\n      resolutionRatio = 1\n    }\n        \n    if(resolutionRatio < 0.1){\n      resolutionRatio = 0.1\n    }\n    \n    if(coverage < 5){\n      coverage = 5\n    }\n        \n    function preparation (restTime){\n      const preparaTime = Math.floor(restTime * resolutionRatio)\n      originalTimeout(execution, preparaTime)\n    }\n        \n    function execution (){\n      const restTime = destTime - Date.now()\n        \n      if(restTime < coverage){\n        if(restTime < 1){\n          originalTimeout(trigger, 0)\n        } else {\n          originalTimeout(trigger, restTime)\n        }\n      } else {\n        preparation(restTime)\n      }\n    }\n    \n    execution()\n  }\n}(setTimeout))\n\nexport const turn = function (i, limit, ts, resultHook){\n  if(i < 0){ \n    let abs = Math.abs(i / ts) \n    i = limit - (abs > limit ? abs % limit : abs)\n  }\n  ts = typeof ts === \"number\" ? ts : 1\n  const fixIndex = Math.floor(i / ts)\n  const result = (limit > fixIndex) ? fixIndex : fixIndex % limit\n  return typeof resultHook === \"function\" ? resultHook(result, i, limit, ts) : result\n}\n\nexport const turnTime = function (i, limit, ts){\n  return turn(i, limit, ts, (result, i, limit, ts)=>[result, Math.floor(i / (limit * ts))])\n}\n\nexport const toggle = function (toggleArgs, currentValue, step = 1){\n  return (toggleArgs = asArray(toggleArgs)) && toggleArgs[(toggleArgs.findIndex(val=>val === currentValue) + step) % toggleArgs.length]\n}\n","import { asArray, cloneDeep } from './cast'\nimport { likeArray, isNumber, isAbsoluteNaN } from './isLike'\nimport { top } from './reduce'\nimport { turn, limitNumber } from './nice'\nimport { hashMap, times } from './enumerable'\n\nexport const rangeModel = function (value, step, sizeBase){\n  let start, end, reverse\n  \n  if(typeof value === \"number\"){\n    end = value\n    start = 0\n  } else if(typeof value === \"object\"){\n    start = value[0]\n    end = value[1]\n      \n    if(!step && typeof value[2] === \"number\"){\n      step = value[2]\n    }\n      \n    if(typeof sizeBase !== \"boolean\"){\n      sizeBase = false\n    }\n  }\n  \n  /*\n  if(typeof start !== \"number\" || typeof end !== \"number\"){\n    if(typeof start !== \"number\" && typeof end !== \"number\") return r\n    if(typeof start === \"number\") return r.push(start), r\n    if(typeof end === \"number\") return r.push(end), r\n  }\n  */\n  \n  if(start > end){\n    reverse = end\n    end = start\n    start = reverse\n    reverse = true\n  }\n  \n  end = parseFloat(end)\n  end = isAbsoluteNaN(end) ? 0 : end\n  start = parseFloat(start)\n  start = isAbsoluteNaN(start) ? 0 : start\n  step = parseFloat(step)\n  step = isAbsoluteNaN(step) || step == 0 ? 1 : step\n  \n  return {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  }\n}\n\nexport const range = function (value, stepSize, sizeBaseRange){\n  let r = []\n  let {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  } = rangeModel(value, stepSize, sizeBaseRange)\n  \n  if(step <= 0){ return console.warn(\"range::not support minus step\"), r };\n  if(sizeBase == false){ for(var i = start, l = end; i <= l; i = i + step) r.push(i) } else { for(var i = start, l = end; i < l; i = i + step) r.push(i) }\n  return reverse ? r.reverse() : r\n}\n\nexport const domainRangeValue = function (domain, range, vs, nice, limit){\n  return hashMap(cloneDeep(vs), function (v, sel){\n    const $range  = sel ? range[sel] : range\n    const $domain = sel ? domain[sel] : domain\n    if(!$range || !$domain){ return v }\n                    \n    const dSize = $domain[1] - $domain[0]\n    const sSize = $range[1] - $range[0]\n    const dRate = (v - $domain[0]) / dSize\n    const calc  = $range[0] + sSize * dRate\n    const result = nice ? Math.floor(calc) : calc\n    \n    return limit \n      ? $range[1] > $range[0] \n        ? limitNumber(result, $range[1], $range[0])\n        : limitNumber(result, $range[0], $range[1])\n      : result\n  })\n}\n\nexport const domainRangeInterpolate = function (domain, range, nice, limit){\n  let _domain = domain\n  let _range  = range\n  let _nice   = nice\n  \n  const interpolate = (value)=>domainRangeValue(_domain, _range, value, _nice, limit)\n  \n  interpolate.domain = (domain)=>{\n    _domain = domain\n    return interpolate\n  }\n  interpolate.range = (range)=>{\n    _range = range\n    return interpolate\n  }\n  interpolate.nice = (nice)=>{\n    _nice = nice\n    return interpolate\n  }\n  \n  return interpolate\n}\n\n//matrixRange([1],[3]) // [[1], [2], [3]] \n//matrixRange([1,1],[3,3]) // [[1, 1], [2, 1], [3, 1], [1, 2], [2, 2], [3, 2], [1, 3], [2, 3], [3, 3]]\n\nexport const matrixRange = function (start, end, step, sizeBase){\n  var scales = []\n  var maxLength = top([start.length, end.length])\n    \n  var selectLengthes = times(maxLength, function (scaleIndex){\n    const rangeResult = range([start[scaleIndex], end[scaleIndex]], step, sizeBase)\n    scales.push(rangeResult)\n    return rangeResult.length\n  })\n\n  var result = times(selectLengthes.reduce(function (redu, value){\n    return redu * value\n  }, 1), function (){ return new Array(maxLength) })\n    \n  var turnSize = 1\n  \n  \n  asArray(scales).forEach((scaleCase, scaleIndex)=>{\n    var scaleCaseLength = scaleCase.length\n    times(result.length, function (time){\n      result[time][scaleIndex] = scaleCase[turn(time, scaleCaseLength, turnSize)]\n    })\n    turnSize = turnSize * scaleCaseLength\n  })\n    \n  return result\n}\n\n//validate matrix format\nexport const validMatrix = function (arr){\n  // Matrix must be array\n  if(!likeArray(arr)){\n    return false\n  }\n  \n  // Empty is valid\n  if(arr.length === 0){\n    return true\n  }\n  \n  //find some error ( return true => false)\n  return !Array.from(arr).some((v)=>{\n    if(likeArray(v)){\n      //length check\n      if(v.length !== arr.length) return true\n      //type check\n      return v.some(likeError=>!(likeError == undefined || isNumber(likeError)))\n    }\n    return true\n  })\n}\n\n// real matrix model\nexport const asMatrix = function (arr, columnSize){\n  const result = []\n  if(typeof columnSize === \"number\" && columnSize > 0){\n    const rowCount = Math.ceil(arr.length / columnSize)\n    times(rowCount, i=>{\n      const column = []\n      times(columnSize, ci=>{ column.push(arr[i * columnSize + ci]) })\n      result.push(column)\n    })\n  } else {\n    return [arr]\n  }\n  return result\n}\n\nexport const multiplyMatrix = function (aMatrix, bMatrix){\n  if(!validMatrix(aMatrix) && validMatrix(bMatrix)){\n    return null\n  }\n  if(aMatrix[0].length !== bMatrix.length){\n    return null\n  }\n  const result = []\n  times(bMatrix.length, rRowIndex=>{\n    const columnLength = bMatrix[rRowIndex].length\n    const columnResult = []\n    times(columnLength, rColumnIndex=>{\n      //var calcLog = [];\n      const multiplied = aMatrix[rRowIndex].reduce((dist, num, index)=>{\n        //calcLog.push(`${num} * ${bMatrix[index][rColumnIndex]}`)\n        return num * bMatrix[index][rColumnIndex] + dist\n      }, 0)\n      //console.log(\"calcLog\",calcLog.join(\" + \"))\n      columnResult.push(multiplied)\n    })\n    result.push(columnResult)\n  })\n  return result\n}\n","import { isAbsoluteNaN } from './isLike'\n\nimport { rangeModel } from './matrix'\n\nexport const rand64 = (function (){\n  var rand64Token = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"\n  return function (length, codeAt, codeLength){\n    length = (isAbsoluteNaN(length)) ? 1 : parseInt(length, 10)\n    codeAt = (isAbsoluteNaN(codeAt)) ? 0 : parseInt(codeAt, 10)\n    codeLength = (isAbsoluteNaN(codeLength)) ? 62 - codeAt : parseInt(codeLength, 10)\n    var result = \"\"\n    for(var i = 0, l = length; i < l; i++) result = result + rand64Token.charAt(codeAt + parseInt(Math.random() * codeLength, 10))\n    return result\n  }\n}())\n\n\nexport const tokenize = function (seed, digits){\n  return Math.floor((Math.abs(Math.sin(Number((seed + \"\").replace(/./g, function (s){ return s.charCodeAt(0) }))) * 16777215)) % 16777215).toString(digits || 16) \n}\nexport const randRange = function (rangeValue, nice){\n  const { start, end } = rangeModel(rangeValue)\n  const result = start + (Math.random() * (end - start))\n  return nice === true ? Math.ceil(result) : result\n}\n","import { isArray } from './isLike'\nimport { toNumber } from './cast'\n\nexport const dateExp = function (dv, format){\n  if(isArray(dv)) dv = dv.join(' ')\n\n  var dt = /(\\d\\d\\d\\d|)[^\\d]?(\\d\\d|\\d|).?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)/.exec(dv)\n  dt[1] = dt[1] || (((new Date()).getYear() + 1900) + '')\n  dt[2] = dt[2] || ((new Date()).getMonth() + 1)\n  dt[3] = dt[3] || ((new Date()).getDate())\n  dt[4] = dt[4] || (\"00\")\n  dt[5] = dt[5] || (\"00\")\n  dt[6] = dt[6] || (\"00\")\n\n  var r = [ dt[1], dt[2], dt[3], dt[4], dt[5], dt[6], dt[0] ]\n  Object.defineProperties(r, {\n    year  : { enumerable: false, value: dt[1] },\n    month : { enumerable: false, value: dt[2] },\n    date  : { enumerable: false, value: dt[3] },\n    hour  : { enumerable: false, value: dt[4] },\n    minute: { enumerable: false, value: dt[5] },\n    second: { enumerable: false, value: dt[6] },\n    init  : { enumerable: false, value: dt[7] },\n    format: {\n      enumerable: false,\n      get       : ()=>function (s){\n        return s.replace('YYYY', r.year).replace(/(MM|M)/, r.month).replace(/(DD|D)/, r.date)\n        .replace(/(hh|h)/, r.hour).replace(/(mm|m)/, r.minute).replace(/(ss|s)/, r.second)\n        .replace(/(A)/, (toNumber(r.hour) > 12) ? 'PM' : 'AM')\n      }\n    }\n  })\n  if(typeof format === 'string'){ return r.format(format) }\n  return r\n}\n\nexport const timestampExp = function (exp){\n  if(arguments.length === 0){\n    return (+new Date())\n  }\n  if(typeof exp === \"string\"){\n    exp = dateExp(exp)\n  }\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(isArray(exp) && (exp.length == 7)){\n    exp = new Date(exp[0], exp[1], exp[2], exp[3], exp[4], exp[5])\n  }\n  if(exp instanceof Date){\n    return (+exp)\n  }\n  return 0\n}\n\nexport const timescaleExp = function (exp){\n  var scale = 0\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(typeof exp === \"string\"){\n    // \n    exp = exp.replace(/\\d+(Y|year)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 31536000000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(M|month)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 2678400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(D|day)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 86400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(h|hour)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 3600000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(ms|millisecond)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(m|minute)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 60000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(s|second)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1000 })\n      return \"\"\n    })\n  }\n  return scale\n}\n","export const argumentNamesBy = function getArgs (fn){\n  if(typeof fn !== \"function\") return []\n    // normal -  function[^\\(]*?\\(([^)]*)\\)\n    // arrow  -  \\([\\)]*\\)\\s*\\=\\>\\s*\\{\n  var args = fn.toString().match(/function[^\\(]*?\\(([^)]*)\\)|\\([\\)]*\\)\\s*\\=\\>\\s*\\{/)[1]\n  if(!args) return []\n  return args.split(',').map(s=>s.trim()).filter(n=>n)\n}\n\nexport const scopelizeBy = function (evalCommand){\n  if(evalCommand.indexOf(\"return\") == -1){\n    evalCommand = `  return ${evalCommand}`\n  }\n\n  const command = evalCommand\n  const scopeBeforeFn = function (scope, info){\n    const params = []\n    const fnArgs = []\n    \n    Object.keys(scope).forEach(key=>{\n      params.push(scope[key])\n      fnArgs.push(key)\n    })\n    \n    fnArgs.push(command)\n    \n    const makeFn = Function.apply(Function, fnArgs)\n    \n    if(typeof info === \"function\"){\n      info({\n        func  : makeFn,\n        args  : fnArgs,\n        params: params\n      })\n    }\n    \n    return makeFn.apply(void 0, params)\n  }\n  \n  scopeBeforeFn.scoped = function (){\n    return command\n  }\n  \n  return scopeBeforeFn\n}\n\n","/*\n  usage\n  const size = 20\n  const stroke = 1\n\n  const { x, y, radius, diameter } = drawCircleVars(size, stroke);\n  \n  const d = `M${x} ${y} \n  a ${radius} ${radius} 0 0 1 0 ${diameter}\n  a ${radius} ${radius} 0 0 1 0 -${diameter}`\n\n  <svg viewbox=\"0 0 {size} {size}\">\n    <path d=\"{d}\" stroke-width=\"stroke\"></path>\n  </svg>\n*/\nexport const drawCircleVars = function (circleWidth, strokeWidth = 0){\n  const circumference = ((circleWidth - strokeWidth) / 2) * (3.14159 * 2)\n  const radius        = (circumference / (3.14159 * 2))\n  const diameter      = (radius * 2)\n  const x             = circleWidth / 2\n  const y             = strokeWidth / 2\n  //const circumLength  = drawRatio == 1 ? drawRatio : drawRatio * circumference;\n    \n  return { x, y, radius, diameter, circumference, circleWidth, strokeWidth }\n}\n","import { likePromise } from '../../functions'\nexport const PromiseClass = Promise\n\nconst resolveFn = PromiseClass.resolve\nconst rejectFn = PromiseClass.reject\n\nexport const newPromise = (fn)=>(new PromiseClass((r, c)=>{\n  const maybeAwaiter = fn(r, c)\n  likePromise(maybeAwaiter) && maybeAwaiter.then(r).catch(c)\n}))\n\nexport const promise = (fn)=>newPromise(fn)\n\nconst PromiseFunction = promise\n\nexport const all     = Promise.all\nPromiseFunction.all = all\n\nexport const resolve    = resolveFn\nPromiseFunction.resolve = resolve\n\nexport const reject    = rejectFn\nPromiseFunction.reject = reject\n","import { promise as PromiseFunction, newPromise, PromiseClass } from './promiseEngine'\nimport { likePromise } from '../../functions'\n\nexport const defer = function (){\n  var resolve, reject\n  var promise = new PromiseClass(function (){\n    resolve = arguments[0]\n    reject = arguments[1]\n  })\n  return {\n    resolve: resolve,\n    reject : reject,\n    promise: promise\n  }\n}\n\nPromiseFunction.defer = defer\n\nexport const timeout = function (fn, time){\n  if(typeof fn === \"number\"){\n    return newPromise(resolve=>setTimeout(()=>resolve(time), fn))\n  } else {\n    return newPromise(resolve=>setTimeout(()=>resolve(typeof fn === \"function\" ? fn() : fn), time))\n  }\n}\nPromiseFunction.timeout = timeout\n\nexport const valueOf = function (maybeQ){\n  return newPromise(function (resolve, reject){\n    likePromise(maybeQ)\n      ? maybeQ.then(resolve).catch(reject)\n      : resolve(maybeQ) \n  })\n}\nPromiseFunction.valueOf = valueOf\n\nexport const promise = PromiseFunction\n","import { \n  asArray,\n  isNumber\n} from '../functions'\n\nexport const operate = (function (){\n  const PARENT_OUTPUT_UPDATED = \"ParentOutputUpdated\"\n  \n  const operate = function ({ input, output, concurrent, rescue, limitInput, limitOutput }){\n    this.parent = undefined\n    this.children = []\n    this.inputs = []\n    this.outputs = []\n    this.limitInput = isNumber(limitInput) || limitInput > 0 ? limitInput : Number.POSITIVE_INFINITY\n    this.limitOutput = isNumber(limitOutput) || limitOutput > 0 ? limitOutput : Number.POSITIVE_INFINITY\n    \n    //\n    let current = 0\n    concurrent = isNumber(concurrent) || concurrent > 0 ? concurrent : 1\n    \n    Object.defineProperty(this, \"avaliablePullCount\", {\n      get: ()=>{\n        let limit = this.limitInput - this.inputs.length\n        if(limit < 0) limit = 0\n        return limit\n      }\n    })\n    \n    Object.defineProperty(this, \"avaliableOutputCount\", {\n      get: ()=>{\n        return this.limitOutput + current + this.outputs.length\n      }\n    })\n    \n    const inputOutput = { input, output }\n    \n    const kickStart = ()=>{\n      let avaliableQueLength = concurrent - current\n      \n      // 작동가능한 큐\n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      // input의 길이로 확인하여 실행 가능한 큐\n      if(avaliableQueLength > this.inputs.length){\n        avaliableQueLength = this.inputs.length\n      }\n      \n      // output의 제한을 확인하여 사용 가능한 큐\n      if(avaliableQueLength > this.avaliableOutputCount){\n        avaliableQueLength = this.avaliableOutputCount\n      }\n      \n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      Array(avaliableQueLength).fill(inputOutput).forEach(async ({ input, output })=>{\n        let entry = this.inputs.shift()\n        current++\n        \n        const outputHandle = async (formInputDataum)=>{\n          /* TODO:lint\n          if(typeof output === \"function\"){\n            const out = await output({ entry: formInputDataum })\n          }\n          */\n          \n          this.outputs.push(formInputDataum)\n          current--\n        \n          this.children.forEach(child=>child.emit(PARENT_OUTPUT_UPDATED))\n          kickStart()\n        }\n        \n        if(input){\n          try {\n            outputHandle(await input({ entry }))\n          } catch (e){\n            if(typeof rescue === \"function\"){\n              rescue(e)\n            } else {\n              throw e\n            }\n            current--\n          }\n        } else {\n          outputHandle(entry)\n        }\n      })\n    }\n\n    Object.defineProperty(this, \"push\", {\n      value: (pushData)=>{\n        this.inputs.push(pushData)\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"concat\", {\n      value: (pushData)=>{\n        asArray(pushData).forEach(d=>this.inputs.push(d))\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"emit\", {\n      value: (eventName, payload)=>{\n        switch (eventName){\n          case PARENT_OUTPUT_UPDATED:\n            if(this.avaliablePullCount < 1) return\n            let pullData = this.parent.pull(this.avaliablePullCount)\n            if(pullData.length < 1) return\n            pullData.forEach(datum=>this.inputs.push(datum))\n            kickStart()\n            break\n        }\n      }\n    })\n    \n    Object.defineProperty(this, \"pull\", {\n      value: (pullLength)=>{\n        if(!(isNumber(pullLength) || pullLength == Number.POSITIVE_INFINITY)) return []\n        const pullData = this.outputs.splice(0, pullLength)\n        //pullData.length && kickStart();\n        return pullData\n      }\n    })\n    \n    Object.defineProperty(this, \"clone\", {\n      value: (deep = true, parentOperate)=>{\n        let cloneOperate = operateFunction({ input, output, concurrent, rescue, limitInput, limitOutput })\n        \n        deep === true && this.children.forEach(child=>{\n          child.clone(true, cloneOperate)\n        })\n        \n        return cloneOperate\n      }\n    })\n  }\n  \n  operate.prototype = {\n    append: function (child){\n      child.parent = this\n      this.children.push(child)\n      return this\n    },\n    remove: function (child){\n      let index = this.children.indexOf(child)\n      if(index < 0) return this\n      child.parent = undefined\n      this.children.splice(index, 1)\n    },\n    operate: function (option){\n      return this.append(operateFunction(option))\n    }\n  }\n  \n  const operateFunction = function (option){\n    return new operate(Object.assign({}, option))\n  }\n  \n  return operateFunction\n}())\n","// promise utils\nimport { PromiseClass, newPromise } from './promiseEngine'\nimport { promise as PromiseFunction } from './promise'\nimport { asArray, asObject } from '../../functions/cast'\nimport { isNumber } from '../../functions/isLike'\nimport { turn } from '../../functions/nice'\nimport { argumentNamesBy } from '../../functions/hack'\n\nimport { operate } from '../operate'\n\nexport const promisify = function (asyncErrCallbackfn){\n  const argumentNames = argumentNamesBy(asyncErrCallbackfn).slice(1)\n  const promisified   = function (){\n    const args = Array.from(arguments)\n    return new Promise((resolve, reject)=>{\n      const applyParams = args.concat(function (){\n        const [error, ...callbakArgs] = Array.from(arguments)\n        if(error){\n          reject(error)\n        } else if(argumentNames.length && callbakArgs.length > 1){\n          resolve(argumentNames.reduce((dest, name, index)=>{\n            dest[name] = callbakArgs[index]\n            return dest\n          }, {}))\n        } else {\n          resolve(callbakArgs[0])\n        }\n      })\n      asyncErrCallbackfn.apply(this, applyParams)\n    })\n  }\n  return function (){\n    return promisified.apply(this, Array.from(arguments))\n  }\n}\n\nexport const until = function (tasks, option){\n  if(!(tasks instanceof Array)){\n    return PromiseFunction.reject(new Error(\"tasks must be array\"))\n  }\n\n  if(!tasks.length || !tasks.some(e=>typeof e === \"function\")){\n    return PromiseFunction.reject(new Error(\"not found wheel executable\"))\n  }\n\n  if(!tasks.some(e=>(typeof e !== \"function\" || typeof e !== \"number\"))){\n    return PromiseFunction.reject(new Error(\"wheel task only function or number executable\"))\n  }\n\n  if(typeof option !== \"object\"){\n    option = {}\n  }\n\n  let finished = false\n  let defer\n  const limit = (typeof option.limit === \"number\" && option.limit > 0) ? parseInt(option.limit, 10) : 10000\n  const taskLength = tasks.length\n  let wheelTick = 0\n  let resetScope = 0\n  const nextWheelTick = (tick, value, tickScope)=>{\n    const nowAction = tasks[turn(tick, taskLength, 1)]\n\n    const isActiveFn = ()=>{\n      return tickScope === resetScope\n    }\n\n    const nextTickFn = passValue=>{\n      // if reset called\n      if(!isActiveFn()) return\n      // if over tick\n      if(wheelTick > limit){\n        return defer.reject(new Error(\"limit\"))\n      }\n      if(finished === false){\n        nextWheelTick(wheelTick++, passValue, tickScope)\n      }\n    }\n\n    if(typeof nowAction === \"function\"){\n      nowAction(\n        {\n          value,\n          next    : nextTickFn,\n          isActive: isActiveFn,\n          resolve : defer.resolve,\n          reject  : defer.reject\n        },\n        Math.floor(tick / tasks.length),\n        tick\n      )\n    } else if(typeof nowAction === \"number\"){\n      setTimeout(()=>{ nextTickFn(value) }, nowAction)\n    }\n  }\n  \n  const thenStack  = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return e\n    }\n  ]\n  const catchStack = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return PromiseFunction.reject(e)\n    }\n  ]\n  \n  const deferReset = (resetTick)=>{\n    defer && defer.stop()\n    //\n    defer = PromiseFunction.defer()\n    thenStack.forEach(fn=>defer.promise.then(fn))\n    catchStack.forEach(fn=>defer.promise.catch(fn))\n    \n    //\n    defer.stop = ()=>{\n      finished = null\n      resetScope += 1\n    }\n    \n    defer.start = (resetTick)=>{\n      if(finished === null){\n        finished = false\n        wheelTick = typeof resetTick === \"number\" ? resetTick : 0\n        nextWheelTick(wheelTick++, option.value, resetScope)\n      }\n    }\n    //\n    defer.reset = deferReset\n    //\n    finished = null\n    defer.start(resetTick)\n  }\n  \n  deferReset(0)\n  \n  const wheelControls = {\n    ...defer,\n    then (fn){\n      defer.promise.then(fn)\n      thenStack.push(fn)\n      return wheelControls\n    },\n    catch (fn){\n      defer.promise.catch(fn)\n      catchStack.push(fn)\n      return wheelControls\n    }\n  }\n  \n  return wheelControls\n}\n\nexport const batch = function (funcArray, opts){\n  return newPromise(function (resolve, reject){\n    const option = asObject(opts, \"concurrent\")\n      \n    if(option.concurrent === true){\n      option.concurrent = Number.POSITIVE_INFINITY\n    } else if(!isNumber(option.concurrent) || option.concurrent < 1){\n      option.concurrent = 1\n    }\n      \n    if(!isNumber(option.interval) || option.interval < -1){\n      option.interval = -1\n    }\n      \n    if(!isNumber(option.repeat) || option.repeat < 1){\n      option.repeat = 1\n    }\n      \n    //set task with repeat\n    const sequanceTaskEntries = Array(option.repeat)\n    .fill(asArray(funcArray))\n    .reduce((dest, tasks)=>{\n      tasks.forEach((fn, index)=>dest.push([index, fn]))\n      return dest\n    }, [])\n      \n    const sequanceLength = sequanceTaskEntries.length\n    let sequanceComplete = 0\n    const sequanceReseult = Array(sequanceTaskEntries.length)\n      \n    operate({\n      output: async ({ entry })=>{\n        if(option.interval > -1){\n          await PromiseFunction.timeout(option.interval)\n        }\n        return entry\n      },\n      limitOutput: 1\n    })\n    .operate({\n      concurrent: option.concurrent,\n      input     : async ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn] = entry\n        entry.push(await fn())\n        return entry\n      },\n      output: ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn, result] = entry\n        \n        sequanceReseult[index] = result\n        sequanceComplete++\n        \n        if(sequanceComplete === sequanceLength){\n          resolve(sequanceReseult)\n        }\n      }\n    })\n    .concat(sequanceTaskEntries)\n  })\n}\n\n\n// abort is deprecated\nconst abortMessage = new function (){\n  Object.defineProperty(this, \"message\", {\n    get: ()=>\":abort\"\n  })\n  Object.defineProperty(this, \"abort\", {\n    get: ()=>true\n  })\n}()\n\nexport const abort = function (notifyConsole = undefined){\n  return new PromiseClass((resolve, reject)=>{\n    if(notifyConsole === true){\n      console.warn(\"abort promise\")\n    }\n    reject(abortMessage)\n  })\n}\n","import {\n  get,\n  hashMap,\n  domainRangeValue\n} from '../functions'\n\nimport {\n  isArray,\n  likeObject,\n  isEmpty\n} from '../functions/isLike'\n\nimport {\n  asArray,\n  cloneDeep\n} from '../functions/cast'\n\n// ?\nconst hasValueProperty = function (obj, value, key){\n  if(arguments.length == 1 && likeObject(obj)) return isEmpty(obj)\n  if(isArray(obj)) for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return true\n  if(likeObject(obj)){\n    if(key){\n      return get(obj, key) === value\n    } else {\n      for(var key in obj) if(get(obj, key) === value) return true\n    }\n  }\n  return false\n}\n\n\n//Scale foundation\n//정의역과 치역을 계산하여 결과값을 리턴함, 속성별로 정의하여 다중 차원 지원\n\nconst Block = function (posSize, syncOpt){\n  Object.defineProperties(this, {\n    $space     : { enumerable: false, writable: true, value: undefined },\n    $posSize   : { enumerable: false, writable: true, value: undefined },\n    $mask      : { enumerable: false, writable: true, value: undefined },\n    $compute   : { enumerable: false, writable: true, value: undefined },\n    $sync      : { enumerable: false, writable: true, value: undefined },\n    domainValue: { \n      enumerable: true,\n      get       : ()=>{\n        return hashMap(cloneDeep(this.get()), function (posSize){ return posSize[0] })\n      }\n    },\n    domainSize: { \n      enumerable: true,\n      get       : ()=>{\n        return hashMap(cloneDeep(this.get()), function (posSize){ return posSize[1] })\n      }\n    },\n    rangeStart: { \n      enumerable: true,\n      get       : ()=>{\n        return this.$space.domainRange(hashMap(this.get(), function (posSize){ return posSize[0] }))\n      }\n    },\n    rangeSize: { \n      enumerable: true,\n      get       : ()=>{\n        return this.$space.domainRangeSize(hashMap(this.get(), function (posSize){ return posSize[1] }))\n      }\n    }\n  })\n  \n  this.sync(posSize, syncOpt)\n}\n  \nconst BlockPrototype = {}\n\nObject.defineProperties(BlockPrototype, {\n  domainMap: { \n    enumerable: false,\n    get (){\n      return hashMap(cloneDeep(this.get()), function (posSize){\n        return {\n          start: posSize[0],\n          size : posSize[1],\n          end  : posSize[0] + posSize[1]\n        }\n      })\n    }\n  },\n  rangeMap: { \n    enumerable: false,\n    get (){\n      const rangeSize = this.rangeSize\n              \n      return hashMap(this.rangeStart, function ($start, sel){ \n        var $size = sel ? rangeSize[sel] : rangeSize\n        return {\n          start: $start,\n          size : $size,\n          end  : $start + $size\n        }\n      })\n    }\n  },\n  rangeEnd: { \n    enumerable: false,\n    get (){\n      return this.rangeMap(this.rangeMap, function (map){ return map.end })\n    }\n  }\n})\n\nObject.assign(BlockPrototype, {\n  sync: function (block, syncOpt){ \n    if(!arguments.length && this.$sync){\n      block = this.$sync()\n    } else if(typeof block === \"function\"){\n      this.$sync = block\n      if(syncOpt == true){\n        block = this.$sync()\n      } else {\n        return this\n      }\n    }\n    if(block instanceof Block){ \n      this.$posSize = cloneDeep(block.$posSize)\n      //.. this.$sync    = this.$sync || block.$sync\n      this.$space = this.$space || block.$space \n      this.$mask = this.$mask || block.$mask \n    } else {\n      this.$posSize = hashMap(cloneDeep(block), function (posSize){ return !isArray(posSize) ? [posSize, 0] : posSize })\n    }\n    return this \n  },\n  clone      : function (){ return new Block(this) },\n  setPosition: function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[0] = value; return this },\n  setSize    : function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[1] = value; return this },\n  get        : function (){ return cloneDeep(typeof this.$posSize === \"function\" ? this.$posSize() : this.$posSize) },\n  conflicts  : function (otherBlocks, selector){\n    return asArray(otherBlocks).reduce(function (red, block){\n      var selectOtherBlock = get(block, selector)\n                  \n      if(selectOtherBlock instanceof Block){\n        //다른 블럭이 현재 블럭과 같거나 space가 다를때는 평가하지 않음\n        if((selectOtherBlock === this) || (selectOtherBlock.$space != this.$space)) return red\n                      \n        //\n        var inspectResult = []\n                      \n        hashMap(this.get(), function (thisPos, key){\n          var otherPos = get(selectOtherBlock.get(), key)\n          if(otherPos[0] < thisPos[0] && (otherPos[0] + otherPos[1]) <= thisPos[0]) return inspectResult.push(false)\n          if(otherPos[0] > thisPos[0] && (thisPos[0] + thisPos[1]) <= otherPos[0]) return inspectResult.push(false)\n          return inspectResult.push(true)\n        })\n                      \n        if(inspectResult.length && !hasValueProperty(inspectResult, false)){\n          red.push(block)\n        }\n      }\n      return red\n    }.bind(this), [])\n  },\n  hasConflicts: function (otherBlocks, selector){ return !!this.conflicts(otherBlocks, selector).length },\n  overflow    : function (mask){\n    var blockPosSize  = this.get()\n    var spaceDomain   = this.$space.domain\n    var overflowDomain = (mask && cloneDeep(mask)) || (this.$space && this.$space.domain) || []\n    return hashMap(overflowDomain, function ($overflowSelected, sel){\n      var $posSize = get(blockPosSize, sel)\n      var $domain  = get(spaceDomain, sel)\n      return ($posSize[0] < get($overflowSelected[0], $domain[0]) || ($posSize[0] + $posSize[1]) > get($overflowSelected[1], $domain[1]))\n    })\n  },\n  isOverflow: function (mask){\n    var overflow = false\n    hashMap(this.overflow(mask), function (f){ if(f){ overflow = true } })\n    return overflow\n  },\n  maskOverflow  : function (mask){ return this.overflow(this.$mask || mask) },\n  isMaskOverflow: function (mask){ return this.isOverflow(this.$mask || mask) },\n  compute       : function (func){\n    if(typeof func === \"function\"){ \n      this.$compute = func \n    } else {\n      this.$compute && this.$compute(this.map())\n    } \n    return this \n  },\n  call: function (f){ typeof f === \"function\" && f.call(this, this.rangeMap) }\n})\n\nBlock.prototype = BlockPrototype \n      \nconst Tracker = function (space, domainMask){\n  this.$space = space\n  this.$domainMask = hashMap(cloneDeep(domainMask), function (mask, sel){\n    if(typeof mask === \"number\") mask = [mask]\n    if(mask instanceof Array){\n      if(!mask[0]) mask[0] = 0\n      if(!mask[1]) mask[1] = function (v){ return v }\n    }\n    return mask\n  })\n}\n      \nTracker.prototype = {\n  block: function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt) \n    block.$space = this.$space \n    block.$mask = this.$domainMask \n    return block\n  },\n  domainBlock: function (cursor, callback){\n    var domainGrid = hashMap(this.$space.range, function (range){ return range[2] })\n    var block      = this.block(hashMap(this.$space.rangeDomain(cursor), function (cursorPoint, key){ return [cursorPoint, get(domainGrid, key)] }))\n    var blockMap   = block.map()\n              \n    callback && callback.call(block, blockMap, block)\n    return block\n  }\n}\n      \nconst Space = function (domain, range){\n  this.$niceDomain = true\n  this.$niceRange = true\n  \n  Object.defineProperties(this, {\n    $niceDomain: { enumerable: false, writable: true, value: true },\n    $niceRange : { enumerable: false, writable: true, value: true },\n    $domain    : { enumerable: false, writable: true, value: undefined },\n    $range     : { enumerable: false, writable: true, value: undefined },\n    domain     : {\n      enumerable: true,\n      set (domain){\n        domain = hashMap(domain, function (domain){\n          if(!domain[2]){ domain[2] = 1 }\n          return domain\n        })\n        this.$domain = domain\n      },\n      get (){\n        return hashMap(cloneDeep(this.$domain), function (domain){\n          for(var i = 0, l = domain.length; i < l; i++) if(typeof domain[i] === \"function\") domain[i] = domain[i]()\n          return domain\n        })\n      }\n    },\n    range: {\n      enumerable: true,\n      set (range){\n        range = hashMap(range, function (range){\n          if(!range[2]){ range[2] = 1 }\n          return range\n        })\n        this.$range = range\n      },\n      get (){\n        return hashMap(cloneDeep(this.$range), function (range){\n          for(var i = 0, l = range.length; i < l; i++) if(typeof range[i] === \"function\") range[i] = range[i]()\n          return range\n        })\n      }\n    }\n  })\n  \n  this.$domain = domain\n  this.$range = range\n}\n      \nSpace.prototype = {\n  domainRangeSize: function (vs){\n    return hashMap(vs, function (v, sel){\n      var $range  = sel ? this.range[sel] : this.range\n      var $domain = sel ? this.domain[sel] : this.domain\n      return (v / ($domain[1] - $domain[0])) * ($range[1] - $range[0])\n    }.bind(this))\n  },\n  domainRange: function (vs){ return domainRangeValue(this.domain, this.range, vs, this.$niceRange) },\n  rangeDomain: function (vs){ return domainRangeValue(this.range, this.domain, vs, this.$niceDomain) },\n  block      : function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt)\n    block.$space = this\n    return block\n  },\n  tracker: function (domainMask){\n    var tracker = new Tracker(this, domainMask)\n    return tracker\n  }\n}\n      \nexport const space = (function (){\n  return function (domain, range){\n    return new Space(domain, range)\n  }\n}())\n  \nexport const block = (function (){\n  return function (posSize, syncOpt){\n    return new Block(posSize, syncOpt)\n  }\n}())\n","import {\n  promise,\n  valueOf as _valueOf,\n  abort as _abort,\n  reject as _reject\n} from './promise'\n\nimport {\n  alloc,\n  asArray,\n  cloneDeep as _cloneDeep\n} from '../functions/cast'\n\nimport {\n  isEqual as _isEqual\n} from '../functions/isLike'\n\nexport const awaitLeadOnly = function (func){\n  return alloc(function (){\n    let $pending = false\n    return function (...args){\n      if($pending === true){\n        return _abort()\n      } else {\n        $pending = true\n        return promise((resolve, reject)=>{\n          return _valueOf(func.apply(this, args)).then(resolve).catch(reject)\n        })\n        .then(e=>{\n          $pending = false\n          return e\n        })\n        .catch(e=>{\n          $pending = false\n          return _reject(e)\n        })\n      }\n    }\n  })\n}\n\nexport const awaitCompose = function (funcArgs){\n  return alloc(function (){\n    const composeFuncs = []\n\n    asArray(funcArgs).forEach(f=>{ typeof f === \"function\" && composeFuncs.push(f) })\n\n    return function (payload){\n      return promise((resolve, reject)=>{\n        function * iterator (){\n          for(let d = composeFuncs, i = 0, l = d.length; i < l; i++){\n            yield d[i]\n          }\n        }\n\n        const doWhile = ({ value: proc, done }, taskPayload)=>{\n          if(done){\n            resolve(taskPayload)\n          } else {\n            _valueOf(proc.call(this, taskPayload))\n            .then(nextPayload=>{\n              doWhile(iterator.next(), nextPayload)\n            })\n            .catch(reject)\n          }\n        }\n\n        doWhile.apply(iterator.next(), payload)\n      })\n    }\n  })\n}\n\n/*\n  수동 watch로직 입니다.\n  let watcher = watchChange(newValue=>{ doSomething... })\n  watcher.change(\"newValue\")\n*/\nexport const watchChange = function (){\n  const changeValue = function (watchman, newValue){\n    const countScope   = watchman.$count\n    const destOldValue = _cloneDeep(newValue)\n    \n    watchman.$setter.forEach(effect=>{\n      effect(newValue, watchman.$oldValue, countScope)\n    })\n    \n    watchman.$oldValue = destOldValue\n  }\n  \n  var Watchman = function (equalityLogic){\n    this.$setter = []\n    this.$oldValue = undefined\n    this.$count = 0\n    this.$equalityLogic = equalityLogic\n  }\n  \n  Watchman.prototype = {\n    setter (changeListeners){\n      asArray(changeListeners).forEach(fn=>{\n        if(typeof fn === \"function\"){\n          this.$setter.push(fn)\n        }\n      })\n    },\n    change (newValue){\n      var newValue\n      if(this.$equalityLogic){\n        if(!_isEqual(this.$oldValue, newValue)){\n          changeValue(this, newValue)\n        }\n      } else {\n        if(this.$oldValue != newValue){\n          changeValue(this, newValue)\n        }\n      }\n    }\n  }\n  return function (effect, equalityLogic){\n    const watch = new Watchman(equalityLogic)\n    watch.setter(effect)\n    return watch\n  }\n}\n","import { promise } from './promise'\n\nconst SESSION_STORE = {}\nconst STATE_STORE   = {}\n\n/*\nlet idx = 0;\nsession(\"scopeName\").open((name)=>{ id:idx++, name });\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"bob\");\nresolve(item);\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"cat\");\nresolve(item);\n\nsession(\"scopeName\").close()\n*/\n\nexport const session = function (name){\n  const inst = {\n    outputs: ()=>STATE_STORE[name].map(e=>e.output),\n    open   : (fn)=>{\n      SESSION_STORE[name] = fn\n      STATE_STORE[name] = []\n    },\n    close: ()=>{\n      const result = inst.outputs()\n      delete SESSION_STORE[name]\n      delete STATE_STORE[name]\n      return Promise.all(result)\n    },\n    spawn: (payload)=>{\n      if(typeof SESSION_STORE[name] !== \"function\"){\n        if(!SESSION_STORE[name]){\n          throw new Error(`session:: ${name} is not defined`)\n        } else {\n          throw new Error(`session:: ${name} is not function callback`)\n        }\n      }\n      \n      const input = promise.valueOf(SESSION_STORE[name](payload))\n      const managedSpawn = {\n        input,\n        output: undefined,\n        item  : undefined\n      }\n      \n      return input.then((item)=>{\n        const deferred      = promise.defer()\n        const deferPromise  = deferred.promise\n        managedSpawn.output = deferPromise\n        managedSpawn.item = item\n        \n        STATE_STORE[name].push(managedSpawn)\n        \n        return { \n          item,\n          resolve: deferred.resolve,\n          reject : deferred.reject\n        }\n      })\n    }\n  }\n  \n  return inst\n}\n","import { limitNumber, isAbsoluteNaN } from \"../functions\"\n\nexport const Limitter = function (max, min){\n  this.value = 0\n  if(typeof max !== \"number\" || isAbsoluteNaN(min)){\n    this.maximum = Number.POSITIVE_INFINITY\n  } else {\n    this.maximum = max\n  }\n  if(typeof min !== \"number\" || isAbsoluteNaN(min)){\n    this.minimum = 0\n  } else {\n    this.minimum = min\n  }\n}\n\nconst LimitterPrototype = {\n  expectIn (setValue){\n    return setValue === limitNumber(setValue, this.maximum, this.minimum)\n  },\n  expectOut (setValue){\n    return setValue !== limitNumber(setValue, this.maximum, this.minimum)\n  },\n  addExpectIn: function (addValue){\n    const destValue = this.value + addValue\n    return destValue === limitNumber(destValue, this.maximum, this.minimum)\n  },\n  addExpectOut: function (addValue){\n    const destValue = this.value + addValue\n    return destValue !== limitNumber(destValue, this.maximum, this.minimum)\n  },\n  set: function (setValue){\n    this.value = setValue\n    return this\n  },\n  add: function (addValue){\n    this.value = this.value + addValue\n    return this\n  }\n}\n\nObject.defineProperties(LimitterPrototype, {\n  done: {\n    get (){\n      return this.value === limitNumber(this.value, this.maximum, this.minimum)\n    }\n  }\n})\n\nLimitter.prototype = LimitterPrototype\n\nexport const ranger = function (max, min){\n  return new Limitter(max, min)\n}\n","import { asArray } from '../functions/cast'\nimport { times } from '../functions/enumerable'\nimport { turnTime } from '../functions/nice'\n\nexport const MatrixArray = (function (){\n  const MatrixArray = function (data, column, row){\n    asArray(data).forEach(datum=>{ this.push(datum) })\n    \n    Object.defineProperties(this, {\n      column: {\n        enumerable: false,\n        value     : column\n      },\n      row: {\n        enumerable: false,\n        value     : row\n      },\n      length: {\n        enumerable: false\n      }\n    })\n  }\n\n  MatrixArray.prototype = Object.assign([], {\n    toMatrix (eachResultHook){\n      const result = []\n      eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n\n      times(this.column * this.row, (index)=>{\n        const [ colIndex, rowIndex ] = turnTime(index, this.column)\n        const data       = this[index]\n        const dataResult = eachResultHook ? eachResultHook(data, index, colIndex, rowIndex) : data\n        if(!result[rowIndex]) result[rowIndex] = []\n        result[rowIndex].push(dataResult)\n      })\n      \n      return result\n    },\n    toArray (){\n      return Array.from(this)\n    },\n    eachColumn (eachFn){\n      const rows = this.toMatrix()\n      const columns = times(this.column, colIndex=>{\n        const colData = []\n        rows.forEach(row=>colData.push(row[colIndex]))\n        return colData\n      })\n      \n      return typeof eachFn === \"function\" ? columns.map(eachFn) : columns\n    },\n    eachRow (eachFn){\n      const rows = this.toMatrix()\n      return typeof eachFn === \"function\" ? rows.map(eachFn) : rows\n    },\n    multiply (){\n      //TODO\n    }\n  })\n  \n  return MatrixArray\n})()\n\nexport const makeMatrixArray = function (column, row, eachHook){\n  const matrixProto = times(column * row, (index)=>{\n    const [ colIndex, rowIndex ] = turnTime(index, column)\n    return eachHook(index, colIndex, rowIndex) || [colIndex, rowIndex]\n  })\n  \n  const matrixArray = new MatrixArray(matrixProto, column, row)\n  return matrixArray\n}\n","import { isArray, isNumber } from '../functions/isLike'\nimport { asArray } from '../functions/cast'\nimport { validMatrix, multiplyMatrix } from '../functions/matrix'\nimport { makeMatrixArray } from './matrix'\n\n\nconst likePoint = function (p){\n  return typeof p === \"object\" && p.hasOwnProperty(\"x\") && p.hasOwnProperty(\"y\")\n}\n\nconst calcTransformedPoint = (__ref, { matrix, perspectiveOrigin })=>{\n  // yet support affin\n  //let perspectiveVar = (this.meta && this.meta.perspective)\n  //perspectiveVar = !isNumber(perspectiveVar) ? 0 : perspectiveVar;\n  //perspectiveVar = -1/perspectiveVar;\n  //perspectiveVar = isInfinity(perspectiveVar) ? 0 : (perspectiveVar || 0) ;\n  if(!matrix) return\n  \n  const transformPoint = {}\n  const { x:px = 0, y:py = 0, z:pz = 0 } = perspectiveOrigin || { x: 0, y: 0, z: 0 }\n  const [[x], [y], [z], [w]] = multiplyMatrix(matrix, [[__ref.x - px], [__ref.y - py], [__ref.z - pz], [__ref.w]])\n  \n  transformPoint.x = x + px + matrix[0][3]\n  transformPoint.y = y + py + matrix[1][3]\n  transformPoint.z = z + pz + matrix[2][3]\n  transformPoint.w = w\n  \n  return transformPoint\n}\n\nconst Point = function (x = 0, y = 0, z = 0, w = 1, meta){\n  // base point config\n  const __ref = { x, y, z, w }\n  let __meta = {}\n  let __transformedPoint\n  \n  Object.defineProperties(this, {\n    x: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.x : __ref.x\n        }\n        return __ref.x\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.x = v\n      }\n    },\n    y: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.y : __ref.y\n        }\n        return __ref.y\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.y = v\n      }\n    },\n    z: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.z : __ref.z\n        }\n        return __ref.z\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.z = v\n      }\n    },\n    w: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.w : __ref.w\n        }\n        return __ref.w\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.w = v\n      }\n    },\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        __transformedPoint = undefined\n        return __meta\n      }\n    },\n    transform: {\n      enumerable  : false,\n      configurable: false,\n      writable    : true,\n      value       : false\n    },\n    rx: { enumerable: false,\n      get       : ()=>{\n        const rangeWidth = (this.meta && this.meta.range && this.meta.range.width) || 0\n        return this.x / rangeWidth\n      }\n    },\n    ry: { \n      enumerable: false,\n      get       : ()=>{\n        const rangeHeight = (this.meta && this.meta.range && this.meta.range.height) || 0\n        return this.y / rangeHeight\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nPoint.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Point(this.x, this.y, this.z, this.w, this.meta)\n  },\n  call (fn){\n    if(typeof fn === \"function\"){\n      return fn(this) || this\n    }\n    return this\n  },\n  toJSON (withMeta){\n    const json = { x: this.x, y: this.y, z: this.z, w: this.w }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  pull (width = 0, angle = \"horizontal\"){\n    const { x, y, z, w } = this\n    switch (angle){\n      case \"h\": case \"horizontal\":\n        const xHalf = width <= 0 ? 0 : width / 2\n        return new Vertex([{ x: x - xHalf, y, z, w }, { x: x + xHalf, y, z, w }])\n      default:\n    }\n  },\n  vertexWith (destPoint){\n    const points = asArray(destPoint)\n    points.unshift(this)\n    return new Vertex(points)\n  },\n  rectWith ({ x, y }){\n    const [largeX, smallX] = this.x > x ? [ this.x, x ] : [ x, this.x ]\n    const [largeY, smallY] = this.y > y ? [ this.y, y ] : [ y, this.y ]\n    return new Rect(smallX, smallY, largeX - smallX, largeY - smallY, 0, 0)\n  },\n  applyTransform (){\n    const { x, y, z, w } = this\n    this.transform = false\n    this.x = x\n    this.y = y\n    this.z = z\n    this.w = w\n    return this\n  },\n  setTransform (matrix44 = this.meta.matrix){\n    if(!validMatrix(matrix44)){\n      this.transform = false\n      throw new Error('Point::setTransform invalid matrix', matrix44)\n      return this\n    }\n    \n    this.meta.matrix = matrix44\n    this.transform = true\n    \n    return this\n  },\n  add ({ x, y, z, w }){\n    isNumber(x) && x && (this.x += x)\n    isNumber(y) && y && (this.y += y)\n    isNumber(z) && z && (this.z += z)\n    isNumber(w) && w && (this.w += w)\n    return this\n  },\n  subtract ({ x, y, z, w }){\n    isNumber(x) && x && (this.x -= x)\n    isNumber(y) && y && (this.y -= y)\n    isNumber(z) && z && (this.z -= z)\n    isNumber(w) && w && (this.w -= w)\n    return this\n  }\n}\n\nconst Vertex = function (pointArray, meta){\n  let __meta\n  \n  Object.defineProperties(this, {\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ __meta = typeof it === \"object\" ? it : null; return __meta }\n    }\n  })\n  \n  this.meta = meta\n  \n  asArray(pointArray).forEach(point=>{\n    if(!likePoint(point)) return\n    const { x, y, z, w } = point\n    this.push(new Point(x, y, z, w, __meta))\n  })\n};\n\n(function (classFunction, methods){\n  const prototype = []\n  \n  classFunction.prototype = prototype\n  \n  Object.keys(methods).forEach(key=>{\n    prototype[key] = methods[key]\n  })\n  \n  Object.defineProperties(prototype, {\n    start: {\n      enumerable: false,\n      get (){\n        return this[0]\n      }\n    },\n    end: {\n      enumerable: false,\n      get (){\n        return !this.length ? void 0 : this[this.length - 1]\n      }\n    }\n  })\n}(Vertex, {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  toJSON (withMeta){\n    const result = []\n    this.forEach(p=>result.push(p.toJSON(withMeta)))\n    return result\n  },\n  clone (){\n    return new Vertex(this)\n  },\n  eq (index){\n    return this[index]\n  },\n  join: function (fn){\n    const joins = []\n    this.forEach((refp, i)=>{\n      joins.push(refp)\n      if(!this[i + 1]) return\n      const newp = fn(refp, this[i + 1], i)\n      if(!likePoint(newp)) return\n      const { x, y, z, w, meta } = newp\n      joins.push(new Point(x, y, z, w, meta))\n    })\n    this.splice(0, this.length)\n    joins.forEach(p=>this.push(p))\n    return this\n  },\n  point (order){\n    switch (order){\n      case \"e\": case \"end\":\n      case \"d\": case \"down\": case \"r\": case \"right\":\n        const { x:px, y:py, z:pz, w:pw } = this.end\n        return new Point(\n          px,\n          py,\n          pz,\n          pw,\n          this.meta\n        )\n      case \"c\": case \"m\": case \"center\": case \"middle\":\n        const { x:sx, y:sy, z:sz, w:sw } = this.start\n        const { x:ex, y:ey, z:ez, w:ew } = this.end\n        return new Point(\n          sx / 2 + ex / 2,\n          sy / 2 + ey / 2,\n          sz / 2 + ez / 2,\n          sw / 2 + ew / 2,\n          this.meta\n        )\n      case \"s\": case \"start\":\n      case \"u\": case \"up\": case \"l\": case \"left\":\n      default:\n        const { x, y, z, w } = this.start\n        return new Point(\n          x,\n          y,\n          z,\n          w,\n          this.meta\n        )\n    }\n  },\n  rect (){\n    const first = this[0]\n    \n    if(!first){\n      return new Rect(0, 0, 0, 0)\n    }\n    \n    let left = first.x\n    let right = first.x\n    let top = first.y\n    let bottom = first.y\n    \n    for(let d = this, i = 1, l = this.length; i < l; i++){\n      const p = d[i]\n      p.x < left && (left = p.x)\n      p.x > right && (right = p.x)\n      p.y < top && (top = p.y)\n      p.y > bottom && (bottom = p.y)\n    }\n    \n    return new Rect(left, top, right - left, bottom - top)\n  },\n  setTransform (param){\n    this.forEach(p=>p.setTransform(param))\n    return this\n  }\n}))\n\n\nconst Rect = function (left = 0, top = 0, width = 0, height = 0, meta = null){\n  const __ref = { left, top, width, height }\n  let __meta = {}\n  \n  Object.defineProperties(this, {\n    width: { \n      enumerable: true, \n      get (){ return __ref.width },\n      set (newValue){\n        __ref.width = newValue\n        return newValue\n      }\n    },\n    height: { \n      enumerable: true, \n      get (){ return __ref.height },\n      set (newValue){\n        __ref.height = newValue\n        return newValue\n      }\n    },\n    left: { enumerable: true,\n      get (){ return __ref.left },\n      set (newValue){\n        __ref.left = newValue\n        return newValue\n      }\n    },\n    top: { enumerable: true,\n      get (){ return __ref.top },\n      set (newValue){\n        __ref.top = newValue\n        return newValue\n      }\n    },\n    right : { enumerable: true, get (){ return this.left + this.width } },\n    bottom: { enumerable: true, get (){ return this.top + this.height } },\n    meta  : {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        return __meta\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nconst splitCountParser = (split)=>{\n    //splitCount [ horizental, vertical ]\n    //1 = [ 1 ]\n    //[1, 2] = [1, 2]\n  const [ columnOrder, rowOrder ] = asArray(split)\n  return {\n    column: isNumber(columnOrder) && columnOrder > 0 ? parseInt(columnOrder, 10) : 1,\n    row   : isNumber(rowOrder) && rowOrder > 0 ? parseInt(rowOrder, 10) : 1\n  }\n}\n\nRect.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Rect(this.left, this.top, this.width, this.height, this.meta)\n  },\n  toJSON (withMeta){\n    const json = { width: this.width, height: this.height, left: this.left, top: this.top, right: this.right, bottom: this.bottom }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  defaultPerspective (){\n    return {\n      perspective      : 0,\n      perspectiveOrigin: {\n        x: this.left + (this.width / 2),\n        y: this.top + (this.height / 2),\n        z: 0\n      }\n    }\n  },\n  findPoint (findWord){\n    const [ lineFind, pointFind ] = isArray(findWord) ? findWord : findWord.trim().split(/\\s+/)\n    return this.vertex(lineFind).point(pointFind)\n  },\n  vertex (order){\n    const inheritMeta = Object.assign(this.defaultPerspective(), this.meta)\n    \n    switch (order){\n      case \"right\": case \"r\":\n        return new Vertex([{ x: this.right, y: this.top, z: 0, w: 0 }, { x: this.right, y: this.bottom, z: 0, w: 0 }], inheritMeta)\n      case \"bottom\": case \"b\":\n        return new Vertex([{ x: this.left, y: this.bottom, z: 0, w: 0 }, { x: this.right, y: this.bottom, z: 0, w: 0 }], inheritMeta)\n      case \"left\": case \"l\":\n        return new Vertex([{ x: this.left, y: this.top, z: 0, w: 0 }, { x: this.left, y: this.bottom, z: 0, w: 0 }], inheritMeta)\n      case \"top\": case \"t\":\n        return new Vertex([{ x: this.left, y: this.top, z: 0, w: 0 }, { x: this.right, y: this.top, z: 0, w: 0 }], inheritMeta)\n      case \"middle\": case \"m\":\n        const middleY = this.height / 2 + this.top\n        return new Vertex(\n          [\n            { x: this.left, y: middleY, z: 0, w: 0 },\n            { x: this.right, y: middleY, z: 0, w: 0 }\n          ],\n          inheritMeta\n        )\n      case \"center\": case \"c\":\n        const centerX = this.width / 2 + this.x\n        return new Vertex(\n          [\n            { x: centerX, y: this.top, z: 0, w: 0 },\n            { x: centerX, y: this.bottom, z: 0, w: 0 }\n          ],\n          inheritMeta\n        )\n      default:\n        return new Vertex(\n          [\n            { x: this.left, y: this.top, z: 0, w: 0 },\n            { x: this.left, y: this.bottom, z: 0, w: 0 },\n            { x: this.right, y: this.bottom, z: 0, w: 0 },\n            { x: this.right, y: this.top, z: 0, w: 0 }\n          ],\n          inheritMeta\n        )\n    }\n  },\n  transformRect (){\n    this.vertex()\n  },\n  piecesWithCount (splitCount, eachResultHook){\n    const { column, row } = splitCountParser(splitCount)\n    const width = this.width\n    const height = this.height\n    const pieceWidth = width / column\n    const pieceHeight = height / row\n    eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n    \n    \n    const pacExt = { ...this.defaultPerspective() }\n    \n    if(this.meta.matrix && this.meta.matrix instanceof Array){\n      Object.assign(pacExt, {\n        matrix: this.meta.matrix\n      })\n    }\n    \n    const pacResult = makeMatrixArray(column, row, (index, colIndex, rowIndex)=>{\n      const pacMeta = { \n        column: colIndex,\n        row   : rowIndex,\n        coords: [colIndex, rowIndex], \n        range : { width, height },\n        ...pacExt\n      }\n      \n      //\n      const result = new Rect(colIndex * pieceWidth, rowIndex * pieceHeight, pieceWidth, pieceHeight, pacMeta)\n      return eachResultHook ? eachResultHook(result, index, colIndex, rowIndex) : result\n    })\n    \n    return pacResult\n  },\n  diff ({ left:aleft = 0, top:atop = 0, width:awidth = 0, height:aheight = 0, right:aright, bottom:abottom }){\n    const diffResult = {}\n    const original = this.toJSON()\n    const offset = { left: 0, top: 0 }\n    Object.defineProperties(diffResult, {\n      left: {\n        enumerable: true, \n        get       : ()=>original.left - aleft + offset.left,\n        set       : (want)=>{ offset.left = typeof want === \"number\" ? -original.left + want : 0 }\n      },\n      top: {\n        enumerable: true,\n        get       : ()=>original.top - atop + offset.top,\n        set       : (want)=>{ offset.top = typeof want === \"number\" ? -original.top + want : 0 }\n      },\n      width : { enumerable: true, get: ()=>original.width - awidth },\n      height: { enumerable: true, get: ()=>original.height - aheight },\n      right : { enumerable: true, get: ()=>original.right - aright + offset.left },\n      bottom: { enumerable: true, get: ()=>original.bottom - abottom + offset.top },\n      x     : { enumerable: false, get: ()=>offset.left },\n      y     : { enumerable: false, get: ()=>offset.top },\n      offset: {\n        enumerable: false,\n        get       : ()=>()=>({\n          x     : offset.left,\n          y     : offset.top,\n          right : diffResult.right,\n          bottom: diffResult.bottom,\n          over  : diffResult.right > diffResult.bottom ? diffResult.right : diffResult.bottom\n        })\n      },\n      move: {\n        enumerable: false,\n        get       : ()=>(nleft, ntop)=>{\n          diffResult.left = typeof nleft === \"number\" ? nleft : aleft\n          diffResult.top = typeof ntop === \"number\" ? ntop : atop\n          return diffResult\n        }\n      },\n      toJSON: {\n        enumerable: false,\n        get       : ()=>()=>({ ...diffResult })\n      }\n    })\n    \n    return diffResult\n  },\n  fitRatio (rect){\n    if(typeof rect !== \"object\"){ throw new Error(\"fit::argument[0] is not object\") }\n    const { width, height } = rect\n    \n    if(!isNumber(width) || !isNumber(height)){ throw new Error(\"fit::argument[0] is not { width:Number, height:Number }\") }\n    const WHRatio = [ width / this.width, height / this.height ]\n    const transformRatio = WHRatio.sort()[0]\n    return transformRatio\n  },\n  fit (rect){\n    const transformRatio = this.fitRatio(rect)\n    \n    this.width = (this.width * transformRatio) || 0\n    this.height = (this.height * transformRatio) || 0\n    \n    return this\n  },\n  //TODO : incompleted sticky(parent, position, offset);\n  sticky ({ left:refX, top:refY, width:refWidth, height:refHeight }, position = \"bottom left\"){\n    const { left, top, width, height } = this\n    switch (position){\n      case \"bl\": case \"obl\": case \"bottom left\": case \"outer bottom left\":\n        return rect({\n          left: refX,\n          top : refY + refHeight,\n          width,\n          height\n        })\n      case \"c\": case \"m\": case \"mc\": case \"center\": case \"middle\": case \"middle center\":\n        return rect({\n          left: refX + refWidth / 2 - width / 2,\n          top : refY + refHeight / 2 - height / 2,\n          width,\n          height\n        })\n      default:\n        return rect({ left, top, width, height })\n    }\n  },\n  add ({ left, top, width, height }){\n    isNumber(left) && left && (this.left += left)\n    isNumber(top) && top && (this.top += top)\n    isNumber(width) && width && (this.width += width)\n    isNumber(height) && height && (this.height += height)\n    return this\n  },\n  subtract ({ left, top, width, height }){\n    isNumber(left) && left && (this.left -= left)\n    isNumber(top) && top && (this.top -= top)\n    isNumber(width) && width && (this.width -= width)\n    isNumber(height) && height && (this.height -= height)\n    return this\n  }\n}\n\nexport const point = function (x, y, z, w){\n  return typeof x === \"object\" \n    ? new Point(x.x, x.y, x.z, x.w) \n    : new Point(x, y, z, w)\n}\n\nexport const vertex = function (start, end){\n  return new Vertex([{ x: start.x, y: start.y, z: start.z, w: start.w }, { x: end.x, y: end.y, z: end.z, w: end.w }])\n}\n\nexport const rect = function (left, top, width, height, x, y, valid){\n  return typeof left === \"object\"\n    ? new Rect(left.left, left.top, left.width, left.height, left.x, left.y, left.valid)\n    : new Rect(left, top, width, height, x, y, valid)\n}\n","import { cloneDeep } from '../functions'\n\nconst ManualReactive = function (watch, effect, judgeOfEqual){\n  this.watch = watch\n  this.effect = effect\n  this.judgeOfEqual = typeof judgeOfEqual === \"function\" ? judgeOfEqual : (a, b)=>a === b\n  this.oldValue = undefined\n}\n\nManualReactive.prototype = {\n  beginAffect (watchValue){\n    this.effect(watchValue, cloneDeep(this.oldValue))\n    this.oldValue = watchValue\n  },\n  digest (...args){\n    const watchResult = this.watch.apply(this, args)\n    return this.judgeOfEqual(this.oldValue, watchResult) ? false : (this.beginAffect(watchResult), true)\n  }\n}\n\nexport const affect = function (effect, judgeOfEqual){\n  let affectValue\n  const manualReactive = new ManualReactive(()=>affectValue, effect, judgeOfEqual)\n  return (value)=>{ affectValue = value; manualReactive.digest() }\n}\n","import * as functions from './index.js'\n\nlet Bow  = function (){}\nlet BowFactory = function (fns){\n  let BOX = function (payload){ return new Bow(payload) }\n  \n  function applyBoxFns (BowFns){ for(var name in BowFns) BOX[name] = BowFns[name] }\n  \n  applyBoxFns(fns)\n  \n  return BOX\n}\n\nlet DEFAULT = BowFactory({ ...functions })\n\nexport const factory = BowFactory\nexport default DEFAULT\n","import { factory } from './pado.core.js'\nimport * as functions from './index.js'\n\nconst DEFAULT = factory({ ...functions })\n\nexport default DEFAULT\n"],"names":["isAbsoluteNaN","it","isNone","data","undefined","isInfinity","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","isNumber","isInteger","value","trim","test","isNaN","parseInt","isArray","Array","isObject","isFunction","likeObject","likeString","likeNumber","String","parseFloat","likeArray","item","hasOwnProperty","length","isPlainObject","constructor","Object","isEnumerableObject","isNode","a","nodeType","isEmpty","RegExp","prop","isPresence","likeRegexp","s","eqof","typeIt","baseEq","other","filter","depth","strict","arguments","valueType","otherType","every","vValue","i","oValue","vKeys","keys","oKeys","sort","key","isEqual","likeEqual","values","eqeq","isExsist","notExsist","likePromise","target","fallback","fallbackFn","args","valueOf","stringTest","string","rule","meta","Boolean","indexOf","some","filterKey","filterExp","result","numberKey","push","forEach","deepKeys","nestedDeepKeys","scope","total","child","useKey","currentScope","clone","entries","asArray","v","k","matchString","search","at","Error","replace","substr","match","index","findIndex","__find_string","__find_regexp","substring","findIndexes","c","idxs","next","NESTED_HAS_PROC","obj","split","pointer","ki","diffStructure","before","after","afterKeys","beforeKeys","canDiff","analysis","unique","concat","reduce","dest","missing","surplus","diff","pass","get","hasValue","defaultArray","toArray","option","prototype","slice","call","asObject","defaultKey","toNumber","d","vr","dr","cleanObject","splice","r","Date","setTime","getTime","console","error","cloneDeep","l","p","getKeyWithValue","removeValue","detect","array","findKey","uniqueSet","Set","keyPath","has","add","getKeyBy","object","moveOf","oldIndex","newIndex","move","baseConcatOf","concatOf","filterOf","filterFn","exitFn","dataArray","dataKeys","isOnExit","exitArray","removedIndex","datumKey","datum","exitDatum","func","insertOf","insert","clearOf","fillFn","sp","sortOf","b","ri","rl","rebase","ref","refValue","refKey","assign","deepKey","removeKey","removeRule","removeKeys","originalIndex","offset","removeIndex","omitOf","omit","pickOf","pick","COMPACT_MATCH_FN","compactOf","compact","FREE_MATCH_EXPRESSION","freeOf","free","purgeOf","purge","instance","proto","ins","DummyInstance","param","alloc","init","fn","rn","apply","all","times","hashMap","pairs","inputArr","ai","al","map","applyArgs","fill","collection","fillLength","emptyDefault","dataLength","baseCut","cutLength","useFill","rest","readString","rebaseMatches","matches","text","castFn","props","payload","content","newMatchEntries","castingState","firstIndex","lastIndex","castingStart","cursor","start","open","matchEntries","parentScope","matchesMap","matchType","matchExp","firstMatch","aPriority","bPriority","matchIndex","matchSize","castStart","castEnd","castSize","skipSize","matching","casting","fork","needCursor","cursorTo","enter","enterMatches","enterCastFn","exit","more","readPath","__filterDotPath","dotPath","removeFirstDot","__filterBlockPath","blockPath","pathParam","path","stackCount","defaultValue","allget","name","hasProperty","defaultObjectValueFunc","functionKeyObjectValueProc","functionKey","selectKeyObjectValueProc","leftSelect","rightSelect","useLeftSelector","useRightSelector","getKey","proc","objKey","readDown","rootValue","readFn","rootParam","enterScope","arrayScope","objectScope","primitiveScope","type","childrenDepth","cut","fillContent","cuts","rowIndex","enumFn","top","iteratee","topLength","limitNumber","limitOf","number","max","min","Infinity","numbers","accurateTimeout","originalTimeout","trigger","time","resolutionRatio","coverage","destTime","now","preparation","restTime","preparaTime","Math","floor","execution","setTimeout","turn","limit","ts","resultHook","abs","fixIndex","turnTime","toggle","toggleArgs","currentValue","step","val","rangeModel","sizeBase","end","reverse","range","stepSize","sizeBaseRange","warn","domainRangeValue","domain","vs","nice","sel","$range","$domain","dSize","sSize","dRate","calc","domainRangeInterpolate","_domain","_range","_nice","interpolate","matrixRange","scales","maxLength","selectLengthes","scaleIndex","rangeResult","redu","turnSize","scaleCase","scaleCaseLength","validMatrix","arr","from","likeError","asMatrix","columnSize","rowCount","ceil","column","ci","multiplyMatrix","aMatrix","bMatrix","rRowIndex","columnLength","columnResult","rColumnIndex","multiplied","dist","num","rand64","rand64Token","codeAt","codeLength","charAt","random","tokenize","seed","digits","sin","charCodeAt","toString","randRange","rangeValue","dateExp","dv","format","join","dt","exec","getYear","getMonth","getDate","defineProperties","year","enumerable","month","date","hour","minute","second","timestampExp","exp","timescaleExp","scale","t","argumentNamesBy","getArgs","n","scopelizeBy","evalCommand","command","scopeBeforeFn","info","params","fnArgs","makeFn","Function","scoped","drawCircleVars","circleWidth","strokeWidth","circumference","radius","diameter","x","y","PromiseClass","Promise","resolveFn","resolve","rejectFn","reject","newPromise","maybeAwaiter","then","catch","promise","PromiseFunction","defer","timeout","maybeQ","operate","PARENT_OUTPUT_UPDATED","input","output","concurrent","rescue","limitInput","limitOutput","parent","children","inputs","outputs","current","defineProperty","inputOutput","kickStart","avaliableQueLength","avaliableOutputCount","entry","shift","outputHandle","formInputDataum","emit","pushData","eventName","avaliablePullCount","pullData","pull","pullLength","deep","parentOperate","cloneOperate","operateFunction","append","remove","abortMessage","abort","notifyConsole","hasValueProperty","Block","posSize","syncOpt","$space","writable","$posSize","$mask","$compute","$sync","domainValue","domainSize","rangeStart","domainRange","rangeSize","domainRangeSize","sync","BlockPrototype","domainMap","size","rangeMap","$start","$size","rangeEnd","block","setPosition","setSize","conflicts","otherBlocks","selector","red","selectOtherBlock","inspectResult","thisPos","otherPos","bind","hasConflicts","overflow","mask","blockPosSize","spaceDomain","overflowDomain","$overflowSelected","isOverflow","f","maskOverflow","isMaskOverflow","compute","Tracker","space","domainMask","$domainMask","domainBlock","callback","domainGrid","rangeDomain","cursorPoint","blockMap","Space","$niceDomain","$niceRange","set","tracker","awaitLeadOnly","$pending","_abort","_valueOf","e","_reject","awaitCompose","funcArgs","composeFuncs","iterator","doWhile","taskPayload","done","nextPayload","watchChange","changeValue","watchman","newValue","countScope","$count","destOldValue","_cloneDeep","$setter","effect","$oldValue","Watchman","equalityLogic","$equalityLogic","setter","changeListeners","change","_isEqual","watch","SESSION_STORE","STATE_STORE","session","inst","close","spawn","managedSpawn","deferred","deferPromise","Limitter","maximum","minimum","LimitterPrototype","expectIn","setValue","expectOut","addExpectIn","addValue","destValue","addExpectOut","ranger","MatrixArray","row","toMatrix","eachResultHook","colIndex","dataResult","eachColumn","eachFn","rows","columns","colData","eachRow","multiply","makeMatrixArray","eachHook","matrixProto","matrixArray","likePoint","calcTransformedPoint","__ref","matrix","perspectiveOrigin","transformPoint","z","px","py","pz","w","Point","__meta","__transformedPoint","transform","configurable","rx","rangeWidth","width","ry","rangeHeight","height","addMeta","toJSON","withMeta","json","angle","xHalf","Vertex","vertexWith","destPoint","points","unshift","rectWith","largeX","smallX","largeY","smallY","Rect","applyTransform","setTransform","matrix44","subtract","pointArray","point","classFunction","methods","eq","joins","refp","newp","order","pw","sx","sy","sz","sw","ex","ey","ez","ew","rect","first","left","right","bottom","splitCountParser","columnOrder","rowOrder","defaultPerspective","perspective","findPoint","findWord","lineFind","pointFind","vertex","inheritMeta","middleY","centerX","transformRect","piecesWithCount","splitCount","pieceWidth","pieceHeight","pacExt","pacResult","pacMeta","coords","aleft","atop","awidth","aheight","aright","abottom","diffResult","original","want","over","nleft","ntop","fitRatio","WHRatio","transformRatio","fit","sticky","position","refX","refY","refWidth","refHeight","valid","ManualReactive","judgeOfEqual","oldValue","beginAffect","watchValue","digest","watchResult","affect","affectValue","manualReactive","Bow","BowFactory","fns","BOX","applyBoxFns","BowFns","DEFAULT","functions","factory"],"mappings":"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"}
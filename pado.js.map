{"version":3,"file":"pado.js","sources":["packages/pado/functions/isLike.js","packages/pado/functions/remark.js","packages/pado/functions/cast.js","packages/pado/functions/enumerable.js","packages/pado/functions/reform.js","packages/pado/functions/reduce/reduce.base.js","packages/pado/functions/read.js","packages/pado/functions/reduce/reduce.js","packages/pado/functions/nice.js","packages/pado/functions/matrix.js","packages/pado/functions/random.js","packages/pado/functions/datetime.js","packages/pado/functions/hack.js","packages/pado/functions/draw.js","packages/pado/modules/promise/promiseEngine.js","packages/pado/modules/promise/promise.js","packages/pado/modules/operate.js","packages/pado/modules/promise/promiseFunctions.js","packages/pado/modules/block.js","packages/pado/modules/decorator.js","packages/pado/modules/session.js","packages/pado/modules/ranger.js","packages/pado/modules/matrix.js","packages/pado/modules/stance.js","packages/pado/modules/affect.js","packages/pado/pado.core.js","packages/pado/pado.js"],"sourcesContent":["export const isAbsoluteNaN = function (it){\n  // eslint-disable-next-line no-self-compare\n  return it !== it && typeof it === \"number\"\n}\n\nexport const isNone = function (data){\n  return isAbsoluteNaN(data) || data === undefined || data === null\n}\n\nexport const isInfinity = function (it){\n  return it === Number.POSITIVE_INFINITY || it === Number.NEGATIVE_INFINITY\n}\n\nexport const isNumber = function (it){\n  return (typeof it === \"number\" && !isInfinity(it) && !isAbsoluteNaN(it))\n}\n\nexport const isInteger = function (value){\n  //NaN, null, undefined\n  if(isNone(value) === true) return false\n  \n  if(typeof value === \"string\"){\n    value = value.trim()\n  }\n\n  if(!(/string|number/.test(typeof value)) || isInfinity(value) || isNaN(value)){\n    return false\n  }\n\n  return value == parseInt(value, 10)\n}\n\nexport const isArray = function (data){\n  return Array.isArray(data) || data instanceof Array\n}\n\nexport const isObject   = it=>!!((it !== null && typeof it === \"object\"))\nexport const isFunction = (it)=>typeof it === \"function\"\n\n/*\n  * likeObject is have hasOwnProperty\n*/\nexport const likeObject = (it)=>isObject(it) || isFunction(it)\n\nexport const likeString = function (data){\n  if(typeof data === \"string\") return true\n  if(isNumber(data)) return true\n  return false\n}\n\nexport const likeNumber = function (data){\n  if(isNumber(data) || isInfinity(data)) return true\n  if(typeof data === \"string\") return String(parseFloat(data)) === String(data)\n  return false\n}\n\nexport const likeArray = function (item){\n  return (\n    Array.isArray(item) || \n    ( \n      item !== null &&\n      typeof item === \"object\" &&\n      item.hasOwnProperty(\"length\") && \n      typeof item.length === \"number\" && \n      item.length > 0\n    )\n  )\n}\n\nexport const isPlainObject = data=>typeof data === \"object\" && data.constructor === Object\n\nexport const isEnumerableObject = data=>isPlainObject(data) || isArray(data)\n\nexport const isNode = (a)=>isObject(a) && typeof a.nodeType === \"number\"\n\nexport const isEmpty = function (it){\n  if(typeof it === \"undefined\") return true\n  if(typeof it === \"string\") return it.trim().length < 1\n  if(typeof it === \"object\"){\n    if(it == null) return true\n    if(it instanceof RegExp) return false      \n    if(isArray(it)){\n      return !it.length\n    } else {\n      for(var prop in it) return false; return true\n    }\n  }\n  if(typeof it === \"number\"){\n    //NaN check \n    return isAbsoluteNaN(it) || false\n  }\n  if(typeof it === \"function\") return false\n  if(typeof it === \"boolean\") return false\n  return true\n}\n\n// check JSON, input.value possible value\nexport const isPresence = function (it){\n  return !(it === undefined || isAbsoluteNaN(it))\n}\n\nexport const likeRegexp = (s)=>(typeof s === \"string\") || (s instanceof RegExp)\n\n// none(undfinec, null, NaN), value(1,\"1\"), hash({}), array([]), node, object(new, Date), function, boolean\nexport const eqof = function (it){\n  const typeIt = typeof it\n  switch (typeIt){\n    case \"number\":\n      if(isAbsoluteNaN(it)) return \"none\"\n    case \"string\":\n      return \"value\"\n      break\n    case \"object\":\n      if(isNone(it)) return \"none\"\n      if(likeArray(it)) return \"array\"\n      if(isNode(it)) return \"node\"\n      if(!isPlainObject(it)) return \"object\"\n      return \"hash\"\n      break\n    case \"undefined\":\n      return \"none\"\n      break\n    case \"function\":\n    case \"boolean\":\n    default:\n      return typeIt\n      break\n  }\n}\n\nconst baseEq = function (value, other, filter, depth = 0, strict){\n  if(arguments.length < 2) return false\n  \n  const valueType = eqof(value)\n  const otherType = eqof(other)\n  \n  if(valueType !== otherType) return false\n  \n  switch (valueType){\n    case \"none\":\n      return true\n    case \"array\":\n      if(value.length !== other.length){\n        return false\n      }\n      return value.every((vValue, i)=>{\n        const oValue = other[i]\n        return (typeof filter === \"function\" && filter(i, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"hash\":\n      const vKeys = Object.keys(value); const oKeys = Object.keys(other)\n      if(vKeys.length !== oKeys.length || !baseEq(vKeys.sort(), oKeys.sort())) return false\n      return vKeys.every((key)=>{\n        const vValue = value[key]\n        const oValue = other[key]\n        return (typeof filter === \"function\" && filter(key, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"node\":\n    case \"object\":\n    case \"function\":\n    case \"boolean\":\n    case \"value\":\n    default:\n      return strict ? value === other : value == other\n  }\n}\n\nexport const isEqual   = (value, other, filter, depth)=>baseEq(value, other, filter, depth, true)\nexport const likeEqual = (value, other, filter, depth)=>baseEq(\n  value,\n  other,\n  (key, values, depth)=>/^(\\$|\\_)/.test(key) ? false : typeof filter === \"function\" ? filter(key, values, depth) : true, \n  depth, \n  true\n)\nexport const eqeq      = (value, other, filter, depth)=>baseEq(value, other, filter, depth, false)\n\nexport const isExsist = function (value){\n  if(value === true){\n    return true\n  }\n  if(value === false){\n    return false\n  }\n  if(typeof value === \"string\" || typeof value === \"number\"){\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const notExsist = value=>!isExsist(value)\n\nexport const likePromise = (target)=>(typeof target === \"object\" && target !== null && typeof target['then'] === \"function\" && typeof target['catch'] === \"function\")\n","import { \n  isNone,\n  likeString,\n  isNumber,\n  likeRegexp,\n  isArray,\n  likeArray,\n  likeObject,\n  isPlainObject\n} from './isLike'\n\nimport {\n  clone,\n  asArray\n} from './cast'\n\n\nexport const fallback = function (value, fallbackFn, ...args){\n  return typeof value === \"undefined\" ? fallbackFn(...args) : value\n}\n\nexport const valueOf = function (value, ...args){\n  return typeof value === \"function\" ? value(...args) : value\n}\n\nexport const stringTest = function (string, rule){\n  if(!likeString(string)) return false\n  if(typeof rule === \"undefined\") return true\n  return likeString(rule) ? (string + '').indexOf(rule + '') > -1\n    : rule instanceof RegExp ? rule.test(string)\n    : isArray(rule) ? rule.some(filterKey=>filterKey === string)\n    : typeof rule === \"function\" ? Boolean(rule(string)) : false\n}\n\nexport const keys = function (target, filterExp, strict){\n  const result = []\n  if(!likeObject(target)) return result\n  \n  const filter = typeof filterExp === \"function\" ? (key)=>filterExp(key, target) : filterExp;\n  \n  (strict === true ? isArray(target) : likeArray(target)) && \n  Object.keys(target).filter(key=>{ \n    if(isNaN(key)) return\n    const numberKey = parseInt(key, 10)\n    stringTest(numberKey, filter) && result.push(parseInt(numberKey, 10)) \n  }) || \n  (strict === true ? isPlainObject(target) : likeObject(target)) && \n  Object.keys(target).forEach(key=>{ \n    stringTest(key, filter) && result.push(key) \n  })\n  \n  return result\n}\n\n\nexport const deepKeys = (function (){\n  const nestedDeepKeys = function (target, filter, scope, total){\n    if(typeof target === \"object\"){\n      keys(target, (key, target)=>{\n        const child  = target[key]\n        const useKey = filter(child, key, scope.length)\n        if(!useKey){\n          return\n        }\n        const currentScope = clone(scope)\n        currentScope.push(key)\n        total.push(currentScope)\n        nestedDeepKeys(child, filter, currentScope, total)\n      }, true)\n    }\n  }\n  \n  return function (target, filter){\n    const result = []\n    nestedDeepKeys(target, filter ? (child, key)=>{ filter(child, key) } : ()=>true, [], result)\n    return result\n  }\n}())\n\nexport const entries = function (it){\n  const result = []\n  switch (typeof it){\n    case \"object\":\n      // eslint-disable-next-line no-unused-expressions\n      isNone(it) ? 0\n        : likeArray(it) ? asArray(it).forEach((v, k)=>{ result.push([k, v]) })\n        : Object.keys(it).forEach(key=>{ result.push([key, it[key]]) })\n      break\n  }\n  return result\n}\n\n//remark.spec.js\nexport const matchString = (it, search, at = 0)=>{\n  if(typeof it !== \"string\") throw new Error(`matchString :: worng argument ${it}`)\n  if(typeof search === \"string\") search = search.replace(new RegExp(\"(\\\\.|\\\\[|\\\\])\", \"g\"), s=>`\\\\${s}`)\n  const result = it.substr(at).match(search)\n  return result ? [result.index + at, result[0].length] : [-1, 0]\n}\n\nexport const findIndex = (function (){\n  const __find_string = (it, search, at)=>it.indexOf(search, at)\n  const __find_regexp = (it, search, at)=>{\n    let i = it.substring(at || 0).search(search)\n    return (i >= 0) ? (i + (at || 0)) : i\n  }\n  return (it, search, at)=>((search instanceof RegExp) ? __find_regexp : __find_string)(it, search, at)\n}())\n\n//remark.spec.js\nexport const findIndexes = (function (){\n  return function (c, s, at){\n    if(typeof c === \"string\" || typeof c === \"number\"){\n      var idxs = []; var s = likeRegexp(s) ? s : s + \"\"; var at = (!at || !isNumber(at) || at < 0) ? 0 : at; var next\n      do {\n        let i = findIndex(c, s, at)\n        if(i > -1){\n          at = (s.length || 1) + i\n          idxs.push(i) \n          next = true\n        } else {\n          next = false\n        }\n      } while(next)\n      return idxs\n    }\n  }\n}())\n\n\n//TODO: Union hasValue\nconst NESTED_HAS_PROC = function (obj, key){\n  var keys = key.split(\".\")\n  if(!keys.length) return false\n\n  var pointer = obj\n  for(var ki in keys){\n    var k = keys[ki]\n\n    if(!pointer.hasOwnProperty(k)){\n      return false\n    } else {\n      pointer = pointer[k]\n    }\n  }\n  return true\n}\n\nexport const diffStructure = function (before, after){\n  var afterKeys = Object.keys(after)\n  var beforeKeys\n  var canDiff = false\n  if(isObject(before)){\n    if(isArray(before)){\n      beforeKeys = before\n    } else {\n      beforeKeys = Object.keys(before)\n      canDiff = true\n    }\n  } else {\n    beforeKeys = []\n  }\n\n  var analysis = {\n    after  : after,\n    before : before,\n    keys   : unique(afterKeys.concat(beforeKeys)).reduce((dest, key)=>{ dest[key] = undefined; return dest }, {}),\n    match  : [],\n    missing: [],\n    surplus: [],\n    diff   : [],\n    pass   : false\n  }\n  \n  //match, missing\n  for(var ki in beforeKeys){\n    if(!beforeKeys.hasOwnProperty(ki)) continue\n      \n    var key = beforeKeys[ki]\n      \n    if(NESTED_HAS_PROC(after, key)){\n      analysis.match.push(key)\n      analysis.keys[key] = \"match\"\n\n      if(canDiff && !isEqual(get(after, key), get(before, key))){\n        analysis.diff.push(key)\n        analysis.keys[key] = \"diff\"\n      }\n    } else {\n      analysis.surplus.push(key)\n      analysis.keys[key] = \"surplus\"\n    }\n  }\n\n  //surplus\n  asArray(afterKeys).forEach(key=>{\n    if(!hasValue(analysis.match, key)){\n      analysis.missing.push(key)\n      analysis.keys[key] = \"missing\"\n    }\n  })\n\n  //absolute\n  analysis.pass = !analysis.missing.length && !analysis.surplus.length\n\n  return analysis\n}\n","import {\n  isArray,\n  isNone,\n  isAbsoluteNaN,\n  isPlainObject,\n  isObject\n} from './isLike'\n\nimport {\n  stringTest,\n  keys\n} from './remark'\n\nexport const asArray = function (data, defaultArray = undefined){\n  if(isArray(data)){\n    return data\n  }\n  if(isNone(data)){\n    return isArray(defaultArray) ? defaultArray\n      : isNone(defaultArray) ? [] : [defaultArray]\n  }\n  if(typeof data === \"object\" && typeof data.toArray === \"function\"){\n    return data.toArray()\n  }\n  return [data]\n}\n\nexport const toArray = function (data, option){\n  if(typeof data === \"undefined\" || data === null || isAbsoluteNaN(data)) return []\n  if(isArray(data)) return Array.prototype.slice.call(data)\n  if(typeof data === \"object\" && typeof data.toArray === \"function\") return data.toArray()\n  if(typeof data === \"string\" && typeof option === \"string\") return data.split(option)\n  return [data]\n}\n\nexport const asObject = function (data, defaultKey = \"default\"){\n  if(isPlainObject(data)){\n    return data\n  } else {\n    return { [defaultKey]: data }\n  }\n}\n\nexport const toNumber = function (v, d){\n  switch (typeof v){ case \"number\":return v; case \"string\":const vr = v.replace(/[^.\\d\\-]/g, \"\") * 1; return isAbsoluteNaN(vr) ? 0 : vr; break }\n  switch (typeof d){ case \"number\":return d; case \"string\":const dr = d * 1; return isAbsoluteNaN(dr) ? 0 : dr; break }\n  return 0\n}\n\nexport const cleanObject = function (data){\n  if(data instanceof Array){\n    Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    Object.keys(data).forEach(key=>{ delete data[key] })\n  }\n  return data\n}\n\nexport const clone = function (target){\n  switch (typeof target){\n    case \"undefined\": case \"function\": case \"boolean\": case \"number\": case \"string\": return target; break\n    case \"object\":\n      if(target === null) return target\n    \n      if(isArray(target)){\n        let r = []\n        for(let i = 0, length = target.length; i < length; i++)r.push(target[i])\n        return r\n      }\n    \n      if(!isPlainObject(target)){\n        if(target instanceof Date){\n          let r = new Date()\n          r.setTime(target.getTime())\n          return r\n        }\n        return target\n      }\n    \n      let r = {}\n    \n      Object.keys(target).forEach(k=>{\n        if(target.hasOwnProperty(k)) r[k] = target[k]\n      })\n      return r\n      break\n    default : \n      console.error(\"clone::copy failed : target => \", target)\n      return target \n      break\n  }\n}\n\nexport const cloneDeep = function (target){\n  if(typeof target === \"object\"){\n    let d\n    if(isArray(target)){\n      if(!isArray(d)){ d = [] };\n      for(var i = 0, l = target.length; i < l; i++) d.push(((typeof target[i] === \"object\" && target[i] !== null) ? clone(target[i]) : target[i]))\n      return d\n    } else {\n      d = {}\n      Object.keys(target).forEach(p=>{\n        (typeof target[p] === \"object\" && target[p] !== null && d[p]) ? clone(target[p], d[p]) : d[p] = target[p]\n      })\n      return d\n    }\n  } else {\n    return clone(target)\n  }\n}\n\nconst getKeyWithValue = function (obj, value){\n  if(isArray(obj)){\n    for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return i\n  } \n  if(isObject(obj)){\n    for(var key in obj) if(obj[key] === value) return key\n  }\n  return undefined\n}\n\nexport const removeValue = function (obj, value){\n  var detect = true\n  var array  = isArray(obj)\n\n  while(detect){\n    var key = getKeyWithValue(obj, value)\n    if(typeof key === \"undefined\"){\n      detect = false\n    } else {\n      if(array){\n        obj.splice(key, 1)\n      } else {\n        delete obj[key]\n      }\n    }\n  }\n\n  return obj\n}\n\nexport const unique = function (array, findKey){\n  const result    = []\n  const uniqueSet = new Set()\n  if(typeof findKey === \"undefined\"){ findKey = (v)=>v }\n  if(typeof findKey === \"string\"){ const keyPath = findKey; findKey = (v)=>v[keyPath] }\n  array.forEach((v)=>{\n    const key = findKey(v)\n    if(uniqueSet.has(key)) return\n    uniqueSet.add(key)\n    result.push(v)\n  })\n  return result\n}\n\nexport const getKeyBy = function (object, value){\n  if(isFunction(value)){\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(value(object[i], i) === true) return i\n    if(isObject(object)) for(var key in object) if(value(object[key], key) === true) return key\n  } else {\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(object[i] === value) return i\n    if(isObject(object)) for(var key in object) if(object[key] === value) return key\n  }\n}\n\nexport const moveOf = function (data, oldIndex, newIndex){\n  if(oldIndex !== newIndex && isArray(data) && typeof oldIndex === \"number\" && typeof newIndex === \"number\" && oldIndex >= 0 && oldIndex < data.length){\n    Array.prototype.splice.call(data, newIndex > data.length ? data.length : newIndex, 0, Array.prototype.splice.call(data, oldIndex, 1)[0])\n  }\n  return data\n}\n\nexport const concatOf = function (data, appends){\n  var data = asArray(data)\n  return asArray(appends).forEach(value=>{ data.push(value) }), data\n}\n\n\nexport const filterOf = function (data, func, exitFn){\n  var data    = asArray(data)\n  var exitCnt = 0\n\n  for(var i = 0, ri = 0, keys = Object.keys(data), l = keys.length; i < l; i++, ri++){\n    var key   = keys[i]\n    var value = data[key]\n    var result = func(value, key)\n    if(result == false){\n      /*\n      var exit = Array.prototype.splice.call(data, i, 1)\n      */\n      i--\n      l--\n      typeof exitFn === \"function\" && exitFn(value, ri, exitCnt++)\n    }\n  }\n  \n  return data\n}\n\nexport const clearOf = function (data, fillFn, sp){\n  if(data instanceof Array){\n    sp = Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    sp = {}\n    for(var key in data){ sp[key] = data[key]; delete data[key] } \n  }\n  return (fillFn && fillFn(data, sp)), data\n}\n\nexport const insertOf = function (data, v, a){\n  isArray(data) && data.splice(typeof a === \"number\" ? a : 0, 0, v)\n  return data\n}\n\nexport const sortOf = function (data, filter){\n  if(data.length == 0){\n    return data\n  }\n  \n  switch (filter){\n    case 'desc':\n      filter = function (a, b){ return a > b }\n      break\n    case undefined:\n    case 'asc':\n    default:\n      if(typeof filter !== \"function\"){\n        filter = function (a, b){ return a < b }\n      }\n      break\n  }\n\n  var result = [data[0]]\n\n  for(var i = 1, l = data.length; i < l; i++){\n    for(var ri = 0, rl = result.length; ri < rl; ri++){\n      if(filter(data[i], result[ri]) === true){\n        insertOf(result, data[i], ri)\n        break\n      }\n      if((ri + 1) === result.length){\n        result.push(data[i])\n      }\n    }\n  }\n\n  clearOf(data)\n\n  for(var i = 0, l = result.length; i < l; data.push(result[i]), i++);\n  \n  return data\n}\n\nexport const rebase = function (obj, ref){\n  var result = {}\n  for(var key in obj){\n    if(key === \".*\"){\n      var refValue = obj[key]\n      for(var i = 0, d = Object.keys(ref), l = d.length; i < l; i++){\n        var refKey = d[i]\n        if(typeof refValue === \"function\"){\n          result[refKey] = obj[key]\n        } else {\n          if((typeof refValue !== \"object\" && typeof refValue !== \"object\") || isNode(refValue)){\n            result[refKey] = refValue\n          } else {\n            result[refKey] = Object.assign(result[refKey], refValue)\n          }\n        }\n      }\n    } else if(key.indexOf(\",\") > -1){\n      key.split(\",\").forEach(deepKey=>{\n        deepKey = deepKey.trim()\n        if(typeof obj[key] === \"function\"){\n          result[deepKey] = obj[key]\n        } else {\n          if((!result.hasOwnProperty(deepKey) && typeof obj[key] !== \"object\") || isNode(obj[key])){\n            result[deepKey] = obj[key]\n          } else {\n            result[deepKey] = Object.assign(result[deepKey] || (isArray(obj[key]) ? [] : {}), obj[key], obj[deepKey])\n          }\n        }\n      })\n    } else {\n      if(typeof obj[key] === \"function\"){\n        result[key] = obj[key]\n      } else {\n        if((typeof result[key] !== \"object\" && typeof obj[key] !== \"object\") || isNode(obj[key])){\n          result[key] = obj[key]\n        } else {\n          result[key] = Object.assign(result[key], obj[key])\n        }\n      }\n    }\n  }\n  return result\n}\n\nconst removeKey = function(datum, rule){\n  if(!isObject(datum)) return datum;\n  \n  const removeKeys = keys(datum, rule);\n  if(!removeKeys.length) return datum;\n  \n  const allKeys = keys(datum);\n  \n  isArray(datum) ?\n  removeKeys.forEach((originalIndex,offset)=>{\n    const removeIndex = originalIndex - offset;\n    datum.splice(removeIndex,1);\n  }) :\n  removeKeys.forEach(key=>{ delete datum[key] });\n\n  return datum;\n}\n\n// If the rule matches the rule, remove the key\nexport const omitOf = (datum, rule)=>removeKey(datum, rule)\nexport const omit = (datum, rule)=>omitOf(clone(datum), rule)\n\n// If the rule matches the rule, preserve the key.\nexport const pickOf = (datum, rule)=>removeKey(datum, (key)=>!stringTest(key, rule))\nexport const pick = (datum, rule)=>pickOf(clone(datum), rule)\n\n// Clears key values starting with $\nexport const FREE_MATCH_EXPRESSION = /^\\$/\nexport const freeOf = (datum)=>omitOf(datum, FREE_MATCH_EXPRESSION)\nexport const free = (datum)=>freeOf(clone(datum))\n\n// Remove the key that begins with $ or has a value of undefined.\nexport const PURGE_FILTER = (value, key)=>FREE_MATCH_EXPRESSION.test(key) || typeof value === \"undefined\"\nexport const purgeOf = (datum)=>omitOf(datum, FREE_MATCH_EXPRESSION)\nexport const purge = (datum)=>purgeOf(clone(datum))\n\nexport const instance = function (func, proto){\n  var ins; var DummyInstance = function (param){ if(typeof param === \"object\") for(var k in param) this[k] = param[k] }\n  if(typeof func == \"object\"){\n    if(typeof proto === \"object\") DummyInstance.prototype = proto\n    ins = new DummyInstance(func)\n  }\n  if(typeof func == \"function\"){\n    if(typeof proto === \"object\") func.prototype = proto\n    ins = (new func())\n  }\n  return ins\n}\n\nexport const alloc = function (init){\n  let fn = init()\n  const rn = function (...args){\n    return fn.apply(this, args)\n  }\n  rn['reset'] = function (){ fn = init(rn, rn) }\n  rn['$constructor'] = fn\n  return rn\n}\n\n// TODO\n/*\nconst syncData = (function (){\n  const ENTER_HOOK  = (newDatum)=>Object.assign({}, newDatum)\n  const UPDATE_HOOK = (oldDatum, newDatum)=>Object.assign({}, oldDatum, newDatum)\n  \n  return function (oldData, newData, getId, options){\n    if(!/string|function/.test(typeof getId)) throw new Error(\"syncData need getId\")\n  \n    if(typeof getId === \"string\"){\n      const getIdString = getId\n      getId = e=>_.get(e, getIdString)\n    }\n\n    oldData = asArray(oldData)\n    newData = asArray(newData)\n\n    const result = []\n    const hooks  = asObject(options, \"afterEach\")\n    \n    if(typeof hooks[\"enter\"] !== \"function\"){\n      hooks[\"enter\"] = ENTER_HOOK\n    }\n    \n    if(typeof hooks[\"update\"] !== \"function\"){\n      hooks[\"update\"] = UPDATE_HOOK\n    }\n    \n    const oldDataMap = _.map(oldData, e=>{\n      return { id: getId(e), ref: e }\n    })\n    \n    \n    asArray(newData).forEach((newDatum, i)=>{\n      const newId = getId(newDatum)\n      \n      let oldDatum = _.get(oldDataMap[_.findIndex(oldDataMap, e=>e.id === newId)], \"ref\")\n      let genDatum\n      let dirty = false\n      // eslint-disable-next-line no-undef\n      if(oldDatum){\n        // change is not dirty, modify is dirty\n        if(typeof oldDatum !== typeof newDatum){\n          dirty = false\n        } else { // same type\n          const oldOwnKeys = Object.keys(oldDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n          const newOwnKeys = Object.keys(newDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n\n          // inspect key chnage\n          if(_.isEqual(oldOwnKeys, newOwnKeys)){\n            dirty = !_.isEqual(_.pick(oldDatum, oldOwnKeys), _.pick(newDatum, newOwnKeys))\n          } else {\n            dirty = true\n          }\n        }\n        \n        if(typeof hooks[\"beforeUpdate\"] === \"function\"){\n          if(hooks[\"beforeUpdate\"](oldDatum, newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"update\"](oldDatum, newDatum)\n        \n        if(typeof hooks[\"afterUpdate\"] === \"function\"){\n          genDatum = hooks[\"afterUpdate\"](genDatum, oldDatum, newDatum)\n        }\n      } else {\n        if(typeof hooks[\"beforeEnter\"] === \"function\"){\n          if(hooks[\"beforeEnter\"](newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"enter\"](newDatum)\n        \n        if(typeof hooks[\"afterEnter\"] === \"function\"){\n          genDatum = hooks[\"afterEnter\"](genDatum, newDatum)\n        }\n      }\n\n      if(typeof hooks[\"afterEach\"] === \"function\"){\n        hooks[\"afterEach\"](genDatum, i, dirty)\n      }\n\n      result.push(genDatum)\n    })\n\n    return result\n  }\n}())\n*/\n","import {\n  isArray\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nexport const all = function (data, fn){\n  data = asArray(data)\n  \n  if(data.length === 0){\n    return false\n  }\n  \n  for(let i = 0, l = data.length; i < l; i++){\n    if(!fn(data[i], i)){\n      return false\n    } \n  };\n  \n  return true\n}\n\nexport const times = function (length, fn){\n  const result = []\n  for(var i = 0, l = length; i < l; i++){\n    result.push(fn(i))\n  }\n  return result\n}\n\nexport const hashMap = function (object, fn){\n  if(typeof object === \"object\" && !isArray(object)) for(var k in object) object[k] = fn(object[k], k)\n  else return fn(object, (void 0))\n  return object\n}\n\nexport const pairs = (inputArr, fn) => {\n  let result = [];\n  for(let i=0,l=inputArr.length;i<l;i++){\n    for(let ai=0,al=l;ai<al;(i!==ai && result.push([inputArr[i],inputArr[ai]])),ai++);\n  }\n  return typeof fn === \"function\" ? result.map(applyArgs=>fn.apply(undefined,applyArgs)) : result;\n}","import {\n  asArray\n} from './cast'\n\nimport { \n  isNumber\n} from './isLike'\n\nexport const fill = function (collection, fillLength, emptyDefault = undefined){\n  const data = asArray(collection)\n  let dataLength = data.length\n  \n  fillLength = isNumber(fillLength) ? fillLength : 0\n  const fillFn = typeof emptyDefault !== \"function\" ? ()=>emptyDefault : emptyDefault\n  \n  for(let i = 0, l = fillLength - dataLength; i < l; data.push(fillFn(dataLength++, i++)));\n  \n  return collection\n}\n","import { \n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  fill\n} from '../reform'\n\nexport const baseCut = function (collection, cutLength, emptyDefault, useFill){\n  let data = asArray(collection); let rest\n  cutLength = isNumber(cutLength) ? cutLength : 1\n  \n  if(data.length > cutLength){\n    rest = data.splice(cutLength, Number.POSITIVE_INFINITY)\n    return [data, rest]\n  }\n  \n  useFill === true && (data = fill(data, cutLength, emptyDefault))\n  return [data, []]\n}\n","import {\n  isArray,\n  likeString,\n  isObject,\n  likeObject,\n  isNumber,\n  isEmpty\n} from './isLike'\n\nimport {\n  entries,\n  matchString\n} from './remark'\n\nimport {\n  all\n} from './enumerable'\n\nimport {\n  asArray\n} from './cast'\n\n\n//read.readString.spec.js\nexport const readString = (function (){\n  const rebaseMatches = matches=>entries(asArray(matches))\n  return function (text, matches, castFn, props){\n    const payload = {\n      content: text,\n      props\n    }\n  \n    const newMatchEntries = rebaseMatches(matches)\n  \n    const castingState = {\n      firstIndex  : 0,\n      lastIndex   : text.length,\n      castingStart: 0,\n      cursor      : 0\n    }\n    \n    if(typeof props === \"object\" && isNumber(props.start)){\n      castingState.castingStart = props.start\n      castingState.cursor = props.start\n    }\n\n    const open = function ({ castingState:{ firstIndex, lastIndex, castingStart, cursor }, matchEntries, castFn, parentScope }){\n      if(cursor >= lastIndex){\n        return false\n      }\n      \n      //find match\n      const matchesMap = matchEntries.map(([matchType, matchExp])=>([matchString(text, matchExp, cursor), matchType, matchExp]))\n      let firstMatch   = asArray(matchesMap).sort(([a, aPriority], [b, bPriority])=>(\n        a[0] < 0 ? true\n        : b[0] < 0 ? false\n        : a[0] == b[0] ? aPriority < bPriority : a[0] > b[0]\n      ))[0]\n      \n      // top match is not exsist\n      if(!firstMatch){ return false }\n      \n      // unmatched\n      if(firstMatch[0][0] === -1){\n        firstMatch = [[-1, 0], -1, null]\n      }\n\n      //next variant\n      const [[ matchIndex, matchSize ], matchType, matchExp] = firstMatch\n      const castStart = castingStart\n      const castEnd   = matchType === -1 ? lastIndex : (matchIndex + matchSize)\n      const castSize  = castEnd - castStart\n      const skipSize  = castSize - matchSize\n      \n      //next params\n      const matching = { \n        matchType, \n        matchExp,\n        matchIndex,\n        matchSize,\n        skipSize\n      }\n      const casting = {\n        firstIndex,\n        lastIndex,\n        castStart,\n        castEnd,\n        castSize\n      }\n      const scope = {\n        fork (matchEntries, castFn){\n          const newMatchEntries = rebaseMatches(matches)\n          open({\n            castingState: {\n              firstIndex  : matching.matchIndex,\n              lastIndex   : matching.matchIndex + matchSize,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            }, \n            matchEntries: newMatchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        next (needCursor){\n          const cursorTo = isNumber(needCursor) ? needCursor : casting.castEnd\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: cursorTo,\n              cursor      : cursorTo\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        enter (enterMatches, enterCastFn){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            },\n            matchEntries: rebaseMatches(enterMatches),\n            castFn      : enterCastFn,\n            parentScope : {\n              next: scope.next\n            }\n          })\n        },\n        exit (needCursor){\n          parentScope && parentScope.next(isNumber(needCursor) ? needCursor : casting.castEnd)\n        },\n        more (){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: castStart,\n              cursor      : casting.castEnd\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        }\n      }\n      \n      castFn({\n        ...payload,\n        ...matching,\n        ...casting,\n        ...scope\n      })\n      \n      return true\n    }\n    \n    open({\n      castingState,\n      matchEntries: newMatchEntries,\n      castFn\n    })\n  \n    return payload\n  }\n}())\n\nexport const readPath = (function (){\n  const __filterDotPath = (dotPath, removeFirstDot)=>removeFirstDot && dotPath.indexOf(\".\") === 0 ? dotPath.substr(1) : dotPath\n  const __filterBlockPath = (blockPath)=>{\n    //remove []\n    blockPath = blockPath.substring(1, blockPath.length - 1)\n    \n    //interger\n    if(/^[0-9]+$/.test(blockPath)){\n      return parseInt(blockPath, 10)\n    }\n    \n    //remove ''\n    if(/^\\'.*\\'$/.test(blockPath) || /^\\\".*\\\"$/.test(blockPath)){\n      blockPath = blockPath.substring(1, blockPath.length - 1)\n    }\n    return blockPath\n  }\n\n  return function (pathParam){\n    if(isArray(pathParam)){\n      return pathParam\n    }\n  \n    if(likeString(pathParam)){\n      if(isNumber(pathParam)){\n        return [pathParam]\n      }\n    \n      if(typeof pathParam === \"string\"){\n        //one depth\n        if(!/\\.|\\[/.test(pathParam)){\n          return [pathParam]\n        }\n        \n        //multiple depth\n        const { props:{ path:result } } = readString(pathParam, [\".\", \"[\"], ({\n          content, props:{ path }, matchExp, castStart, castEnd, skipSize, enter, next\n        })=>{\n          if(matchExp === \".\"){\n            skipSize && path.push(content.substr(castStart, skipSize))\n            next()\n          }\n          if(matchExp === \"[\"){\n            let stackCount = 0\n          \n            if(skipSize){\n              path.push(__filterDotPath(content.substr(castStart, skipSize), castStart !== 0))\n            }\n          \n            enter([\"[\", \"]\"], ({ matchExp, castStart, castEnd, more, exit })=>{\n              if(matchExp === \"[\") stackCount++\n              if(matchExp === \"]\") stackCount--\n              if(matchExp === null) return\n              if(stackCount === 0){\n                path.push(__filterBlockPath(content.substring(castStart, castEnd)))\n                exit()\n              } else {\n                more()\n              }\n            })\n          }\n          if(matchExp === null){\n            path.push(__filterDotPath(content.substr(castStart, castEnd), castStart !== 0))\n          }\n        }, { path: [] })\n      \n        return result\n      }\n    }\n    return []\n  }\n}())\n\nexport const get = function (target, path, defaultValue){\n  if(typeof target === \"object\"){\n    switch (typeof path){\n      case \"number\": path += \"\"\n      case \"string\":\n        path = readPath(path)\n      case \"object\":\n        if(isArray(path)){\n          const allget = all(path, (name)=>{\n            if(likeObject(target) && (target.hasOwnProperty(name) || target[name])){\n              target = target[name]\n              return true\n            } else {\n              return false\n            }\n          })\n          return allget ? target : defaultValue\n        } else {\n          return\n        }\n        break\n      case \"function\": return path.call(this, target)\n    }\n  } else if(typeof target === \"function\"){\n    return target.apply(this, Array.prototype.slice.call(arguments, 1))\n  }\n  return target\n}\n\nexport const hasProperty = function (target, pathParam){\n  return all(readPath(pathParam), path=>{\n    if(likeObject(target) && likeString(path) && target.hasOwnProperty(path)){\n      target = target[path]\n      return true\n    }\n    return false\n  })\n}\n\nexport const hasValue = (function (){\n  const defaultObjectValueFunc = function (object, value){\n    return object === value\n  }\n    \n  const functionKeyObjectValueProc = function (functionKey){\n    return function (object, value){\n      return Boolean(functionKey(object, value))\n    }\n  }\n    \n  const selectKeyObjectValueProc = function (leftSelect, rightSelect){\n    var useLeftSelector  = (typeof leftSelect === \"string\" || typeof leftSelect === \"number\")\n    var useRightSelector = leftSelect === rightSelect ? useLeftSelector : (typeof rightSelect === \"string\" || typeof rightSelect === \"number\")\n        \n    return function (object, value){\n      if(useLeftSelector && !object.hasOwnProperty(leftSelect)) return false\n      if(useRightSelector && !value.hasOwnProperty(rightSelect)) return false\n            \n      return (useLeftSelector ? get(object, leftSelect) : object) === (useRightSelector ? get(value, rightSelect) : value)\n    }\n  }\n    \n  return function (obj, value, key, getKey){\n    if(typeof key === \"boolean\"){\n      if(typeof getKey !== \"boolean\"){\n        getKey = key\n      }\n      key = void 0\n    }\n        \n    if(obj === value){\n      return true\n    } else if(likeObject(obj)){\n      if(value === (void 0) && key === (void 0)) return !isEmpty(obj)\n            \n      var proc\n            \n      if(key){\n        if(typeof key === \"function\"){\n          proc = functionKeyObjectValueProc(key)\n        } else if(isArray(key) && key.length > 1){\n          proc = selectKeyObjectValueProc(key[0], key[1])\n        } else if(typeof key === \"string\" || typeof key === \"number\"){\n          proc = selectKeyObjectValueProc(key, key)\n        }\n      } else {\n        proc = defaultObjectValueFunc\n      }\n            \n      if(isArray(obj)){\n        for(var i = 0, l = obj.length; i < l; i++) if(proc(obj[i], value)) return getKey ? i : true\n      } else {\n        for(var objKey in obj) if(obj.hasOwnProperty(objKey) && proc(obj[objKey], value)) return getKey ? objKey : true \n      }\n    }\n        \n    return getKey ? void 0 : false\n  }\n}())\n\nexport const readDown = function (rootValue, readFn, rootParam){\n  const enterScope = (value, depth, param)=>isArray(value) ? arrayScope(value, depth, param) : isObject(value) ? objectScope(value, depth, param) : primitiveScope(value, depth, param)\n  \n  const arrayScope = (array, depth, param)=>{\n    return readFn({\n      type : \"array\",\n      value: array,\n      key  : null,\n      depth,\n      param,\n      enter: (param)=>{\n        const childrenDepth = depth + 1\n        return Array(array.length).fill(void 0).map((v, i)=>i).map(key=>{\n          const value = array[key]\n          return enterScope(value, childrenDepth, param)\n        })\n      }\n    })\n  }\n  \n  const objectScope = (object, depth, param)=>{\n    return readFn({\n      type : \"object\",\n      value: object,\n      key  : null,\n      depth,\n      param,\n      enter: (param)=>{\n        const childrenDepth = depth + 1\n        return Object.keys(object).map(key=>{\n          const value = object[key]\n          return readFn({\n            type : \"hash\",\n            key,\n            value,\n            depth,\n            param,\n            enter: (param)=>enterScope(value, childrenDepth, param)\n          })\n        })\n      }\n    })\n  }\n  \n  const primitiveScope = (value, depth, param)=>{\n    readFn({\n      type : \"value\",\n      key  : null,\n      value,\n      depth,\n      param,\n      enter: (param)=>param\n    })\n  }\n  \n  enterScope(rootValue, 0, rootParam)\n  return rootParam\n}\n","import {\n  baseCut\n} from './reduce.base'\n\nimport { \n  isInfinity,\n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  get\n} from '../read'\n\n\nexport const cut = function (collection, cutLength, fillContent){\n  const useFill = arguments.length > 2\n  return baseCut(collection, cutLength, fillContent, useFill)[0]\n}\n\nexport const cuts = function (collection, cutLength, fillContent){\n  const result = []\n  let rest = collection\n  let rowIndex = 0\n  const enumFn = typeof fillContent !== \"function\" ? ()=>fillContent : (index)=>fillContent(rowIndex * cutLength + index, index, rowIndex)\n  const useFill = arguments.length > 2\n  \n  do {\n    ([collection, rest] = baseCut(rest, cutLength, enumFn, useFill))\n    result.push(collection)\n    rowIndex++\n  } while(rest.length > 0)\n  return result\n}\n\n//reduce.spec.js\nexport const top = function (data, iteratee, topLength){\n  switch (typeof iteratee){\n    case \"function\":\n    //iteratee=iteratee;\n      break\n    case \"string\":\n      const path = iteratee\n      iteratee = (a, b)=>get(a, path) < get(b, path)\n      break\n    case \"boolean\":\n      iteratee = iteratee ? (a, b)=>a < b : (a, b)=>a > b\n      break\n    default:\n      iteratee = (a, b)=>a < b\n      break\n  }\n  \n  if(typeof topLength === \"boolean\"){\n    topLength = topLength ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY\n  }\n  \n  return isNumber(topLength) || isInfinity(topLength)\n    ? asArray(data).sort((a, b)=>iteratee(a, b)).splice(0, topLength)\n    : asArray(data).sort((a, b)=>iteratee(a, b))[0]\n}\n","import { isNumber, isArray, isAbsoluteNaN } from './isLike'\nimport { asArray } from './cast'\n\nexport const limitNumber = (function (){\n  const limitOf = function (number, max, min){\n    if(typeof number == \"number\"){\n      if(isAbsoluteNaN(number) || number === Infinity){\n        return min\n      }\n      if(isNumber(min) && (number < min)){\n        return min\n      }\n      if(isNumber(max) && (number > max)){\n        return max\n      }\n    }\n    return number\n  }\n  const limitNumber = function (numbers, max, min){\n    if(typeof max !== \"number\"){ max = Number.POSITIVE_INFINITY }\n    if(typeof min !== \"number\"){\n      if(min === null || isAbsoluteNaN(min)){\n        min = Number.NEGATIVE_INFINITY\n      } else {\n        min = 0\n      }\n    }\n    if(isArray(numbers)){\n      for(var d = numbers, i = 0, l = d.length; i < l; i++){\n        d[i] = limitOf(d[i], max, min)\n      }\n      return numbers\n    } else {\n      return limitOf(numbers, max, min)\n    }\n  }\n  return limitNumber\n}())\n\nexport const accurateTimeout = (function (originalTimeout){\n  return function (trigger, time = 0, resolutionRatio = 0.75, coverage = 25){\n    let destTime = Date.now() + time\n    \n    if(!isNumber(time)){\n      time = 0\n    }\n    \n    if(!isNumber(resolutionRatio)){\n      resolutionRatio = 0.75\n    }\n    \n    if(!isNumber(coverage)){\n      resolutionRatio = 25\n    }\n    \n    if(resolutionRatio > 1){\n      resolutionRatio = 1\n    }\n        \n    if(resolutionRatio < 0.1){\n      resolutionRatio = 0.1\n    }\n    \n    if(coverage < 5){\n      coverage = 5\n    }\n        \n    function preparation (restTime){\n      const preparaTime = Math.floor(restTime * resolutionRatio)\n      originalTimeout(execution, preparaTime)\n    }\n        \n    function execution (){\n      const restTime = destTime - Date.now()\n        \n      if(restTime < coverage){\n        if(restTime < 1){\n          originalTimeout(trigger, 0)\n        } else {\n          originalTimeout(trigger, restTime)\n        }\n      } else {\n        preparation(restTime)\n      }\n    }\n    \n    execution()\n  }\n}(setTimeout))\n\nexport const turn = function (i, limit, ts, resultHook){\n  if(i < 0){ \n    let abs = Math.abs(i / ts) \n    i = limit - (abs > limit ? abs % limit : abs)\n  }\n  ts = typeof ts === \"number\" ? ts : 1\n  const fixIndex = Math.floor(i / ts)\n  const result = (limit > fixIndex) ? fixIndex : fixIndex % limit\n  return typeof resultHook === \"function\" ? resultHook(result, i, limit, ts) : result\n}\n\nexport const turnTime = function (i, limit, ts){\n  return turn(i, limit, ts, (result, i, limit, ts)=>[result, Math.floor(i / (limit * ts))])\n}\n\nexport const toggle = function (toggleArgs, currentValue, step = 1){\n  return (toggleArgs = asArray(toggleArgs)) && toggleArgs[(toggleArgs.findIndex(val=>val === currentValue) + step) % toggleArgs.length]\n}\n","import { asArray, cloneDeep } from './cast'\nimport { likeArray, isNumber, isAbsoluteNaN } from './isLike'\nimport { top } from './reduce'\nimport { turn, limitNumber } from './nice'\nimport { hashMap, times } from './enumerable'\n\nexport const rangeModel = function (value, step, sizeBase){\n  let start, end, reverse\n  \n  if(typeof value === \"number\"){\n    end = value\n    start = 0\n  } else if(typeof value === \"object\"){\n    start = value[0]\n    end = value[1]\n      \n    if(!step && typeof value[2] === \"number\"){\n      step = value[2]\n    }\n      \n    if(typeof sizeBase !== \"boolean\"){\n      sizeBase = false\n    }\n  }\n  \n  /*\n  if(typeof start !== \"number\" || typeof end !== \"number\"){\n    if(typeof start !== \"number\" && typeof end !== \"number\") return r\n    if(typeof start === \"number\") return r.push(start), r\n    if(typeof end === \"number\") return r.push(end), r\n  }\n  */\n  \n  if(start > end){\n    reverse = end\n    end = start\n    start = reverse\n    reverse = true\n  }\n  \n  end = parseFloat(end)\n  end = isAbsoluteNaN(end) ? 0 : end\n  start = parseFloat(start)\n  start = isAbsoluteNaN(start) ? 0 : start\n  step = parseFloat(step)\n  step = isAbsoluteNaN(step) || step == 0 ? 1 : step\n  \n  return {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  }\n}\n\nexport const range = function (value, stepSize, sizeBaseRange){\n  let r = []\n  let {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  } = rangeModel(value, stepSize, sizeBaseRange)\n  \n  if(step <= 0){ return console.warn(\"range::not support minus step\"), r };\n  if(sizeBase == false){ for(var i = start, l = end; i <= l; i = i + step) r.push(i) } else { for(var i = start, l = end; i < l; i = i + step) r.push(i) }\n  return reverse ? r.reverse() : r\n}\n\nexport const domainRangeValue = function (domain, range, vs, nice, limit){\n  return hashMap(cloneDeep(vs), function (v, sel){\n    const $range  = sel ? range[sel] : range\n    const $domain = sel ? domain[sel] : domain\n    if(!$range || !$domain){ return v }\n                    \n    const dSize = $domain[1] - $domain[0]\n    const sSize = $range[1] - $range[0]\n    const dRate = (v - $domain[0]) / dSize\n    const calc  = $range[0] + sSize * dRate\n    const result = nice ? Math.floor(calc) : calc\n    \n    return limit \n      ? $range[1] > $range[0] \n        ? limitNumber(result, $range[1], $range[0])\n        : limitNumber(result, $range[0], $range[1])\n      : result\n  })\n}\n\nexport const domainRangeInterpolate = function (domain, range, nice, limit){\n  let _domain = domain\n  let _range  = range\n  let _nice   = nice\n  \n  const interpolate = (value)=>domainRangeValue(_domain, _range, value, _nice, limit)\n  \n  interpolate.domain = (domain)=>{\n    _domain = domain\n    return interpolate\n  }\n  interpolate.range = (range)=>{\n    _range = range\n    return interpolate\n  }\n  interpolate.nice = (nice)=>{\n    _nice = nice\n    return interpolate\n  }\n  \n  return interpolate\n}\n\n//matrixRange([1],[3]) // [[1], [2], [3]] \n//matrixRange([1,1],[3,3]) // [[1, 1], [2, 1], [3, 1], [1, 2], [2, 2], [3, 2], [1, 3], [2, 3], [3, 3]]\n\nexport const matrixRange = function (start, end, step, sizeBase){\n  var scales = []\n  var maxLength = top([start.length, end.length])\n    \n  var selectLengthes = times(maxLength, function (scaleIndex){\n    const rangeResult = range([start[scaleIndex], end[scaleIndex]], step, sizeBase)\n    scales.push(rangeResult)\n    return rangeResult.length\n  })\n\n  var result = times(selectLengthes.reduce(function (redu, value){\n    return redu * value\n  }, 1), function (){ return new Array(maxLength) })\n    \n  var turnSize = 1\n  \n  \n  asArray(scales).forEach((scaleCase, scaleIndex)=>{\n    var scaleCaseLength = scaleCase.length\n    times(result.length, function (time){\n      result[time][scaleIndex] = scaleCase[turn(time, scaleCaseLength, turnSize)]\n    })\n    turnSize = turnSize * scaleCaseLength\n  })\n    \n  return result\n}\n\n//validate matrix format\nexport const validMatrix = function (arr){\n  // Matrix must be array\n  if(!likeArray(arr)){\n    return false\n  }\n  \n  // Empty is valid\n  if(arr.length === 0){\n    return true\n  }\n  \n  //find some error ( return true => false)\n  return !Array.from(arr).some((v)=>{\n    if(likeArray(v)){\n      //length check\n      if(v.length !== arr.length) return true\n      //type check\n      return v.some(likeError=>!(likeError == undefined || isNumber(likeError)))\n    }\n    return true\n  })\n}\n\n// real matrix model\nexport const asMatrix = function (arr, columnSize){\n  const result = []\n  if(typeof columnSize === \"number\" && columnSize > 0){\n    const rowCount = Math.ceil(arr.length / columnSize)\n    times(rowCount, i=>{\n      const column = []\n      times(columnSize, ci=>{ column.push(arr[i * columnSize + ci]) })\n      result.push(column)\n    })\n  } else {\n    return [arr]\n  }\n  return result\n}\n\nexport const multiplyMatrix = function (aMatrix, bMatrix){\n  if(!validMatrix(aMatrix) && validMatrix(bMatrix)){\n    return null\n  }\n  if(aMatrix[0].length !== bMatrix.length){\n    return null\n  }\n  const result = []\n  times(bMatrix.length, rRowIndex=>{\n    const columnLength = bMatrix[rRowIndex].length\n    const columnResult = []\n    times(columnLength, rColumnIndex=>{\n      //var calcLog = [];\n      const multiplied = aMatrix[rRowIndex].reduce((dist, num, index)=>{\n        //calcLog.push(`${num} * ${bMatrix[index][rColumnIndex]}`)\n        return num * bMatrix[index][rColumnIndex] + dist\n      }, 0)\n      //console.log(\"calcLog\",calcLog.join(\" + \"))\n      columnResult.push(multiplied)\n    })\n    result.push(columnResult)\n  })\n  return result\n}\n","import { isAbsoluteNaN } from './isLike'\n\nimport { rangeModel } from './matrix'\n\nexport const rand64 = (function (){\n  var rand64Token = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"\n  return function (length, codeAt, codeLength){\n    length = (isAbsoluteNaN(length)) ? 1 : parseInt(length, 10)\n    codeAt = (isAbsoluteNaN(codeAt)) ? 0 : parseInt(codeAt, 10)\n    codeLength = (isAbsoluteNaN(codeLength)) ? 62 - codeAt : parseInt(codeLength, 10)\n    var result = \"\"\n    for(var i = 0, l = length; i < l; i++) result = result + rand64Token.charAt(codeAt + parseInt(Math.random() * codeLength, 10))\n    return result\n  }\n}())\n\n\nexport const tokenize = function (seed, digits){\n  return Math.floor((Math.abs(Math.sin(Number((seed + \"\").replace(/./g, function (s){ return s.charCodeAt(0) }))) * 16777215)) % 16777215).toString(digits || 16) \n}\nexport const randRange = function (rangeValue, nice){\n  const { start, end } = rangeModel(rangeValue)\n  const result = start + (Math.random() * (end - start))\n  return nice === true ? Math.ceil(result) : result\n}\n","import { isArray } from './isLike'\nimport { toNumber } from './cast'\n\nexport const dateExp = function (dv, format){\n  if(isArray(dv)) dv = dv.join(' ')\n\n  var dt = /(\\d\\d\\d\\d|)[^\\d]?(\\d\\d|\\d|).?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)/.exec(dv)\n  dt[1] = dt[1] || (((new Date()).getYear() + 1900) + '')\n  dt[2] = dt[2] || ((new Date()).getMonth() + 1)\n  dt[3] = dt[3] || ((new Date()).getDate())\n  dt[4] = dt[4] || (\"00\")\n  dt[5] = dt[5] || (\"00\")\n  dt[6] = dt[6] || (\"00\")\n\n  var r = [ dt[1], dt[2], dt[3], dt[4], dt[5], dt[6], dt[0] ]\n  Object.defineProperties(r, {\n    year  : { enumerable: false, value: dt[1] },\n    month : { enumerable: false, value: dt[2] },\n    date  : { enumerable: false, value: dt[3] },\n    hour  : { enumerable: false, value: dt[4] },\n    minute: { enumerable: false, value: dt[5] },\n    second: { enumerable: false, value: dt[6] },\n    init  : { enumerable: false, value: dt[7] },\n    format: {\n      enumerable: false,\n      get       : ()=>function (s){\n        return s.replace('YYYY', r.year).replace(/(MM|M)/, r.month).replace(/(DD|D)/, r.date)\n        .replace(/(hh|h)/, r.hour).replace(/(mm|m)/, r.minute).replace(/(ss|s)/, r.second)\n        .replace(/(A)/, (toNumber(r.hour) > 12) ? 'PM' : 'AM')\n      }\n    }\n  })\n  if(typeof format === 'string'){ return r.format(format) }\n  return r\n}\n\nexport const timestampExp = function (exp){\n  if(arguments.length === 0){\n    return (+new Date())\n  }\n  if(typeof exp === \"string\"){\n    exp = dateExp(exp)\n  }\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(isArray(exp) && (exp.length == 7)){\n    exp = new Date(exp[0], exp[1], exp[2], exp[3], exp[4], exp[5])\n  }\n  if(exp instanceof Date){\n    return (+exp)\n  }\n  return 0\n}\n\nexport const timescaleExp = function (exp){\n  var scale = 0\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(typeof exp === \"string\"){\n    // \n    exp = exp.replace(/\\d+(Y|year)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 31536000000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(M|month)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 2678400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(D|day)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 86400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(h|hour)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 3600000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(ms|millisecond)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(m|minute)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 60000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(s|second)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1000 })\n      return \"\"\n    })\n  }\n  return scale\n}\n","export const argumentNamesBy = function getArgs (fn){\n  if(typeof fn !== \"function\") return []\n    // normal -  function[^\\(]*?\\(([^)]*)\\)\n    // arrow  -  \\([\\)]*\\)\\s*\\=\\>\\s*\\{\n  var args = fn.toString().match(/function[^\\(]*?\\(([^)]*)\\)|\\([\\)]*\\)\\s*\\=\\>\\s*\\{/)[1]\n  if(!args) return []\n  return args.split(',').map(s=>s.trim()).filter(n=>n)\n}\n\nexport const scopelizeBy = function (evalCommand){\n  if(evalCommand.indexOf(\"return\") == -1){\n    evalCommand = `  return ${evalCommand}`\n  }\n\n  const command = evalCommand\n  const scopeBeforeFn = function (scope, info){\n    const params = []\n    const fnArgs = []\n    \n    Object.keys(scope).forEach(key=>{\n      params.push(scope[key])\n      fnArgs.push(key)\n    })\n    \n    fnArgs.push(command)\n    \n    const makeFn = Function.apply(Function, fnArgs)\n    \n    if(typeof info === \"function\"){\n      info({\n        func  : makeFn,\n        args  : fnArgs,\n        params: params\n      })\n    }\n    \n    return makeFn.apply(void 0, params)\n  }\n  \n  scopeBeforeFn.scoped = function (){\n    return command\n  }\n  \n  return scopeBeforeFn\n}\n\n","/*\n  usage\n  const size = 20\n  const stroke = 1\n\n  const { x, y, radius, diameter } = drawCircleVars(size, stroke);\n  \n  const d = `M${x} ${y} \n  a ${radius} ${radius} 0 0 1 0 ${diameter}\n  a ${radius} ${radius} 0 0 1 0 -${diameter}`\n\n  <svg viewbox=\"0 0 {size} {size}\">\n    <path d=\"{d}\" stroke-width=\"stroke\"></path>\n  </svg>\n*/\nexport const drawCircleVars = function (circleWidth, strokeWidth = 0){\n  const circumference = ((circleWidth - strokeWidth) / 2) * (3.14159 * 2)\n  const radius        = (circumference / (3.14159 * 2))\n  const diameter      = (radius * 2)\n  const x             = circleWidth / 2\n  const y             = strokeWidth / 2\n  //const circumLength  = drawRatio == 1 ? drawRatio : drawRatio * circumference;\n    \n  return { x, y, radius, diameter, circumference, circleWidth, strokeWidth }\n}\n","import { likePromise } from '../../functions'\nexport const PromiseClass = Promise\n\nconst resolveFn = PromiseClass.resolve\nconst rejectFn = PromiseClass.reject\n\nexport const newPromise = (fn)=>(new PromiseClass((r, c)=>{\n  const maybeAwaiter = fn(r, c)\n  likePromise(maybeAwaiter) && maybeAwaiter.then(r).catch(c)\n}))\n\nexport const promise = (fn)=>newPromise(fn)\n\nconst PromiseFunction = promise\n\nexport const all     = Promise.all\nPromiseFunction.all = all\n\nexport const resolve    = resolveFn\nPromiseFunction.resolve = resolve\n\nexport const reject    = rejectFn\nPromiseFunction.reject = reject\n","import { promise as PromiseFunction, newPromise, PromiseClass } from './promiseEngine'\nimport { likePromise } from '../../functions'\n\nexport const defer = function (){\n  var resolve, reject\n  var promise = new PromiseClass(function (){\n    resolve = arguments[0]\n    reject = arguments[1]\n  })\n  return {\n    resolve: resolve,\n    reject : reject,\n    promise: promise\n  }\n}\n\nPromiseFunction.defer = defer\n\nexport const timeout = function (fn, time){\n  if(typeof fn === \"number\"){\n    return newPromise(resolve=>setTimeout(()=>resolve(time), fn))\n  } else {\n    return newPromise(resolve=>setTimeout(()=>resolve(typeof fn === \"function\" ? fn() : fn), time))\n  }\n}\nPromiseFunction.timeout = timeout\n\nexport const valueOf = function (maybeQ){\n  return newPromise(function (resolve, reject){\n    likePromise(maybeQ)\n      ? maybeQ.then(resolve).catch(reject)\n      : resolve(maybeQ) \n  })\n}\nPromiseFunction.valueOf = valueOf\n\nexport const promise = PromiseFunction\n","import { \n  asArray,\n  isNumber\n} from '../functions'\n\nexport const operate = (function (){\n  const PARENT_OUTPUT_UPDATED = \"ParentOutputUpdated\"\n  \n  const operate = function ({ input, output, concurrent, rescue, limitInput, limitOutput }){\n    this.parent = undefined\n    this.children = []\n    this.inputs = []\n    this.outputs = []\n    this.limitInput = isNumber(limitInput) || limitInput > 0 ? limitInput : Number.POSITIVE_INFINITY\n    this.limitOutput = isNumber(limitOutput) || limitOutput > 0 ? limitOutput : Number.POSITIVE_INFINITY\n    \n    //\n    let current = 0\n    concurrent = isNumber(concurrent) || concurrent > 0 ? concurrent : 1\n    \n    Object.defineProperty(this, \"avaliablePullCount\", {\n      get: ()=>{\n        let limit = this.limitInput - this.inputs.length\n        if(limit < 0) limit = 0\n        return limit\n      }\n    })\n    \n    Object.defineProperty(this, \"avaliableOutputCount\", {\n      get: ()=>{\n        return this.limitOutput + current + this.outputs.length\n      }\n    })\n    \n    const inputOutput = { input, output }\n    \n    const kickStart = ()=>{\n      let avaliableQueLength = concurrent - current\n      \n      // 작동가능한 큐\n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      // input의 길이로 확인하여 실행 가능한 큐\n      if(avaliableQueLength > this.inputs.length){\n        avaliableQueLength = this.inputs.length\n      }\n      \n      // output의 제한을 확인하여 사용 가능한 큐\n      if(avaliableQueLength > this.avaliableOutputCount){\n        avaliableQueLength = this.avaliableOutputCount\n      }\n      \n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      Array(avaliableQueLength).fill(inputOutput).forEach(async ({input, output})=>{\n        let entry = this.inputs.shift()\n        current++\n        \n        const outputHandle = async (formInputDataum)=>{\n          /* TODO:lint\n          if(typeof output === \"function\"){\n            const out = await output({ entry: formInputDataum })\n          }\n          */\n          \n          this.outputs.push(formInputDataum)\n          current--\n        \n          this.children.forEach(child=>child.emit(PARENT_OUTPUT_UPDATED))\n          kickStart()\n        }\n        \n        if(input){\n          try {\n            outputHandle(await input({ entry }))\n          } catch (e){\n            if(typeof rescue === \"function\"){\n              rescue(e)\n            } else {\n              throw e\n            }\n            current--\n          }\n        } else {\n          outputHandle(entry)\n        }\n      })\n    }\n\n    Object.defineProperty(this, \"push\", {\n      value: (pushData)=>{\n        this.inputs.push(pushData)\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"concat\", {\n      value: (pushData)=>{\n        asArray(pushData).forEach(d=>this.inputs.push(d))\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"emit\", {\n      value: (eventName, payload)=>{\n        switch (eventName){\n          case PARENT_OUTPUT_UPDATED:\n            if(this.avaliablePullCount < 1) return\n            let pullData = this.parent.pull(this.avaliablePullCount)\n            if(pullData.length < 1) return\n            pullData.forEach(datum=>this.inputs.push(datum))\n            kickStart()\n            break\n        }\n      }\n    })\n    \n    Object.defineProperty(this, \"pull\", {\n      value: (pullLength)=>{\n        if(!(isNumber(pullLength) || pullLength == Number.POSITIVE_INFINITY)) return []\n        const pullData = this.outputs.splice(0, pullLength)\n        //pullData.length && kickStart();\n        return pullData\n      }\n    })\n    \n    Object.defineProperty(this, \"clone\", {\n      value: (deep = true, parentOperate)=>{\n        let cloneOperate = operateFunction({ input, output, concurrent, rescue, limitInput, limitOutput })\n        \n        deep === true && this.children.forEach(child=>{\n          child.clone(true, cloneOperate)\n        })\n        \n        return cloneOperate\n      }\n    })\n  }\n  \n  operate.prototype = {\n    append: function (child){\n      child.parent = this\n      this.children.push(child)\n      return this\n    },\n    remove: function (child){\n      let index = this.children.indexOf(child)\n      if(index < 0) return this\n      child.parent = undefined\n      this.children.splice(index, 1)\n    },\n    operate: function (option){\n      return this.append(operateFunction(option))\n    }\n  }\n  \n  const operateFunction = function (option){\n    return new operate(Object.assign({}, option))\n  }\n  \n  return operateFunction\n}())\n","// promise utils\nimport { PromiseClass, newPromise } from './promiseEngine'\nimport { promise as PromiseFunction } from './promise'\nimport { asArray, asObject } from '../../functions/cast'\nimport { isNumber } from '../../functions/isLike'\nimport { turn } from '../../functions/nice'\nimport { argumentNamesBy } from '../../functions/hack'\n\nimport { operate } from '../operate'\n\nexport const promisify = function (asyncErrCallbackfn){\n  const argumentNames = argumentNamesBy(asyncErrCallbackfn).slice(1)\n  const promisified   = function (){\n    const args = Array.from(arguments)\n    return new Promise((resolve, reject)=>{\n      const applyParams = args.concat(function (){\n        const [error, ...callbakArgs] = Array.from(arguments)\n        if(error){\n          reject(error)\n        } else if(argumentNames.length && callbakArgs.length > 1){\n          resolve(argumentNames.reduce((dest, name, index)=>{\n            dest[name] = callbakArgs[index]\n            return dest\n          }, {}))\n        } else {\n          resolve(callbakArgs[0])\n        }\n      })\n      asyncErrCallbackfn.apply(this, applyParams)\n    })\n  }\n  return function (){\n    return promisified.apply(this, Array.from(arguments))\n  }\n}\n\nexport const until = function (tasks, option){\n  if(!(tasks instanceof Array)){\n    return PromiseFunction.reject(new Error(\"tasks must be array\"))\n  }\n\n  if(!tasks.length || !tasks.some(e=>typeof e === \"function\")){\n    return PromiseFunction.reject(new Error(\"not found wheel executable\"))\n  }\n\n  if(!tasks.some(e=>(typeof e !== \"function\" || typeof e !== \"number\"))){\n    return PromiseFunction.reject(new Error(\"wheel task only function or number executable\"))\n  }\n\n  if(typeof option !== \"object\"){\n    option = {}\n  }\n\n  let finished = false\n  let defer\n  const limit = (typeof option.limit === \"number\" && option.limit > 0) ? parseInt(option.limit, 10) : 10000\n  const taskLength = tasks.length\n  let wheelTick = 0\n  let resetScope = 0\n  const nextWheelTick = (tick, value, tickScope)=>{\n    const nowAction = tasks[turn(tick, taskLength, 1)]\n\n    const isActiveFn = ()=>{\n      return tickScope === resetScope\n    }\n\n    const nextTickFn = passValue=>{\n      // if reset called\n      if(!isActiveFn()) return\n      // if over tick\n      if(wheelTick > limit){\n        return defer.reject(new Error(\"limit\"))\n      }\n      if(finished === false){\n        nextWheelTick(wheelTick++, passValue, tickScope)\n      }\n    }\n\n    if(typeof nowAction === \"function\"){\n      nowAction(\n        {\n          value,\n          next    : nextTickFn,\n          isActive: isActiveFn,\n          resolve : defer.resolve,\n          reject  : defer.reject\n        },\n        Math.floor(tick / tasks.length),\n        tick\n      )\n    } else if(typeof nowAction === \"number\"){\n      setTimeout(()=>{ nextTickFn(value) }, nowAction)\n    }\n  }\n  \n  const thenStack  = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return e\n    }\n  ]\n  const catchStack = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return PromiseFunction.reject(e)\n    }\n  ]\n  \n  const deferReset = (resetTick)=>{\n    defer && defer.stop()\n    //\n    defer = PromiseFunction.defer()\n    thenStack.forEach(fn=>defer.promise.then(fn))\n    catchStack.forEach(fn=>defer.promise.catch(fn))\n    \n    //\n    defer.stop = ()=>{\n      finished = null\n      resetScope += 1\n    }\n    \n    defer.start = (resetTick)=>{\n      if(finished === null){\n        finished = false\n        wheelTick = typeof resetTick === \"number\" ? resetTick : 0\n        nextWheelTick(wheelTick++, option.value, resetScope)\n      }\n    }\n    //\n    defer.reset = deferReset\n    //\n    finished = null\n    defer.start(resetTick)\n  }\n  \n  deferReset(0)\n  \n  const wheelControls = {\n    ...defer,\n    then (fn){\n      defer.promise.then(fn)\n      thenStack.push(fn)\n      return wheelControls\n    },\n    catch (fn){\n      defer.promise.catch(fn)\n      catchStack.push(fn)\n      return wheelControls\n    }\n  }\n  \n  return wheelControls\n}\n\nexport const batch = function (funcArray, opts){\n  return newPromise(function (resolve, reject){\n    const option = asObject(opts, \"concurrent\")\n      \n    if(option.concurrent === true){\n      option.concurrent = Number.POSITIVE_INFINITY\n    } else if(!isNumber(option.concurrent) || option.concurrent < 1){\n      option.concurrent = 1\n    }\n      \n    if(!isNumber(option.interval) || option.interval < -1){\n      option.interval = -1\n    }\n      \n    if(!isNumber(option.repeat) || option.repeat < 1){\n      option.repeat = 1\n    }\n      \n    //set task with repeat\n    const sequanceTaskEntries = Array(option.repeat)\n    .fill(asArray(funcArray))\n    .reduce((dest, tasks)=>{\n      tasks.forEach((fn, index)=>dest.push([index, fn]))\n      return dest\n    }, [])\n      \n    const sequanceLength = sequanceTaskEntries.length\n    let sequanceComplete = 0\n    const sequanceReseult = Array(sequanceTaskEntries.length)\n      \n    operate({\n      output: async ({ entry })=>{\n        if(option.interval > -1){\n          await PromiseFunction.timeout(option.interval)\n        }\n        return entry\n      },\n      limitOutput: 1\n    })\n    .operate({\n      concurrent: option.concurrent,\n      input     : async ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn] = entry\n        entry.push(await fn())\n        return entry\n      },\n      output: ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn, result] = entry\n        \n        sequanceReseult[index] = result\n        sequanceComplete++\n        \n        if(sequanceComplete === sequanceLength){\n          resolve(sequanceReseult)\n        }\n      }\n    })\n    .concat(sequanceTaskEntries)\n  })\n}\n\n\n// abort is deprecated\nconst abortMessage = new function (){\n  Object.defineProperty(this, \"message\", {\n    get: ()=>\":abort\"\n  })\n  Object.defineProperty(this, \"abort\", {\n    get: ()=>true\n  })\n}()\n\nexport const abort = function (notifyConsole = undefined){\n  return new PromiseClass((resolve, reject)=>{\n    if(notifyConsole === true){\n      console.warn(\"abort promise\")\n    }\n    reject(abortMessage)\n  })\n}\n","import {\n  get,\n  hashMap,\n  domainRangeValue\n} from '../functions'\n\nimport {\n  isArray,\n  likeObject,\n  isEmpty\n} from '../functions/isLike'\n\nimport {\n  asArray,\n  cloneDeep\n} from '../functions/cast'\n\n// ?\nconst hasValueProperty = function (obj, value, key){\n  if(arguments.length == 1 && likeObject(obj)) return isEmpty(obj)\n  if(isArray(obj)) for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return true\n  if(likeObject(obj)){\n    if(key){\n      return get(obj, key) === value\n    } else {\n      for(var key in obj) if(get(obj, key) === value) return true\n    }\n  }\n  return false\n}\n\n\n//Scale foundation\n//정의역과 치역을 계산하여 결과값을 리턴함, 속성별로 정의하여 다중 차원 지원\n\nconst Block = function (posSize, syncOpt){\n  Object.defineProperties(this, {\n    $space     : { enumerable: false, writable: true, value: undefined },\n    $posSize   : { enumerable: false, writable: true, value: undefined },\n    $mask      : { enumerable: false, writable: true, value: undefined },\n    $compute   : { enumerable: false, writable: true, value: undefined },\n    $sync      : { enumerable: false, writable: true, value: undefined },\n    domainValue: { \n      enumerable: true,\n      get:()=>{\n        return hashMap(cloneDeep(this.get()), function (posSize){ return posSize[0]; });\n      }\n    },\n    domainSize: { \n      enumerable: true,\n      get:()=>{\n        return hashMap(cloneDeep(this.get()), function (posSize){ return posSize[1]; });\n      }\n    },\n    rangeStart: { \n      enumerable: true,\n      get:()=>{\n        return this.$space.domainRange(hashMap(this.get(), function (posSize){ return posSize[0]; }));\n      }\n    },\n    rangeSize: { \n      enumerable: true,\n      get:()=>{\n        return this.$space.domainRangeSize(hashMap(this.get(), function (posSize){ return posSize[1]; }));\n      }\n    }\n  })\n  \n  this.sync(posSize, syncOpt)\n}\n  \nconst BlockPrototype = {}\n\nObject.defineProperties(BlockPrototype, {\n  domainMap: { \n    enumerable: false,\n    get (){\n      return hashMap(cloneDeep(this.get()), function (posSize){\n        return {\n          start: posSize[0],\n          size : posSize[1],\n          end  : posSize[0] + posSize[1]\n        }\n      })\n    }\n  },\n  rangeMap: { \n    enumerable: false,\n    get (){\n      const rangeSize = this.rangeSize\n              \n      return hashMap(this.rangeStart, function ($start, sel){ \n        var $size = sel ? rangeSize[sel] : rangeSize\n        return {\n          start: $start,\n          size : $size,\n          end  : $start + $size\n        }\n      })\n    }\n  },\n  rangeEnd: { \n    enumerable: false,\n    get (){\n      return this.rangeMap(this.rangeMap, function (map){ return map.end })\n    }\n  }\n})\n\nObject.assign(BlockPrototype, {\n  sync: function (block, syncOpt){ \n    if(!arguments.length && this.$sync){\n      block = this.$sync()\n    } else if(typeof block === \"function\"){\n      this.$sync = block\n      if(syncOpt == true){\n        block = this.$sync()\n      } else {\n        return this\n      }\n    }\n    if(block instanceof Block){ \n      this.$posSize = cloneDeep(block.$posSize)\n      //.. this.$sync    = this.$sync || block.$sync\n      this.$space = this.$space || block.$space \n      this.$mask = this.$mask || block.$mask \n    } else {\n      this.$posSize = hashMap(cloneDeep(block), function (posSize){ return !isArray(posSize) ? [posSize, 0] : posSize })\n    }\n    return this \n  },\n  clone      : function (){ return new Block(this) },\n  setPosition: function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[0] = value; return this },\n  setSize    : function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[1] = value; return this },\n  get        : function (){ return cloneDeep(typeof this.$posSize === \"function\" ? this.$posSize() : this.$posSize) },\n  conflicts  : function (otherBlocks, selector){\n    return asArray(otherBlocks).reduce(function (red, block){\n      var selectOtherBlock = get(block, selector)\n                  \n      if(selectOtherBlock instanceof Block){\n        //다른 블럭이 현재 블럭과 같거나 space가 다를때는 평가하지 않음\n        if((selectOtherBlock === this) || (selectOtherBlock.$space != this.$space)) return red\n                      \n        //\n        var inspectResult = []\n                      \n        hashMap(this.get(), function (thisPos, key){\n          var otherPos = get(selectOtherBlock.get(), key)\n          if(otherPos[0] < thisPos[0] && (otherPos[0] + otherPos[1]) <= thisPos[0]) return inspectResult.push(false)\n          if(otherPos[0] > thisPos[0] && (thisPos[0] + thisPos[1]) <= otherPos[0]) return inspectResult.push(false)\n          return inspectResult.push(true)\n        })\n                      \n        if(inspectResult.length && !hasValueProperty(inspectResult, false)){\n          red.push(block)\n        }\n      }\n      return red\n    }.bind(this), [])\n  },\n  hasConflicts: function (otherBlocks, selector){ return !!this.conflicts(otherBlocks, selector).length },\n  overflow    : function (mask){\n    var blockPosSize  = this.get()\n    var spaceDomain   = this.$space.domain\n    var overflowDomain = (mask && cloneDeep(mask)) || (this.$space && this.$space.domain) || []\n    return hashMap(overflowDomain, function ($overflowSelected, sel){\n      var $posSize = get(blockPosSize, sel)\n      var $domain  = get(spaceDomain, sel)\n      return ($posSize[0] < get($overflowSelected[0], $domain[0]) || ($posSize[0] + $posSize[1]) > get($overflowSelected[1], $domain[1]))\n    })\n  },\n  isOverflow: function (mask){\n    var overflow = false\n    hashMap(this.overflow(mask), function (f){ if(f){ overflow = true } })\n    return overflow\n  },\n  maskOverflow  : function (mask){ return this.overflow(this.$mask || mask) },\n  isMaskOverflow: function (mask){ return this.isOverflow(this.$mask || mask) },\n  compute       : function (func){\n    if(typeof func === \"function\"){ \n      this.$compute = func \n    } else {\n      this.$compute && this.$compute(this.map())\n    } \n    return this \n  },\n  call: function (f){ typeof f === \"function\" && f.call(this, this.rangeMap) }\n})\n\nBlock.prototype = BlockPrototype \n      \nconst Tracker = function (space, domainMask){\n  this.$space = space\n  this.$domainMask = hashMap(cloneDeep(domainMask), function (mask, sel){\n    if(typeof mask === \"number\") mask = [mask]\n    if(mask instanceof Array){\n      if(!mask[0]) mask[0] = 0\n      if(!mask[1]) mask[1] = function (v){ return v }\n    }\n    return mask\n  })\n}\n      \nTracker.prototype = {\n  block: function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt) \n    block.$space = this.$space \n    block.$mask = this.$domainMask \n    return block\n  },\n  domainBlock: function (cursor, callback){\n    var domainGrid = hashMap(this.$space.range, function (range){ return range[2] })\n    var block      = this.block(hashMap(this.$space.rangeDomain(cursor), function (cursorPoint, key){ return [cursorPoint, get(domainGrid, key)] }))\n    var blockMap   = block.map()\n              \n    callback && callback.call(block, blockMap, block)\n    return block\n  }\n}\n      \nconst Space = function (domain, range){\n  this.$niceDomain = true\n  this.$niceRange = true\n  \n  Object.defineProperties(this, {\n    $niceDomain: { enumerable: false, writable: true, value: true },\n    $niceRange : { enumerable: false, writable: true, value: true },\n    $domain    : { enumerable: false, writable: true, value: undefined },\n    $range     : { enumerable: false, writable: true, value: undefined },\n    domain     : {\n      enumerable: true,\n      set (domain){\n        domain = hashMap(domain, function (domain){\n          if(!domain[2]){ domain[2] = 1 }\n          return domain\n        })\n        this.$domain = domain\n      },\n      get (){\n        return hashMap(cloneDeep(this.$domain), function (domain){\n          for(var i = 0, l = domain.length; i < l; i++) if(typeof domain[i] === \"function\") domain[i] = domain[i]()\n          return domain\n        })\n      }\n    },\n    range: {\n      enumerable: true,\n      set (range){\n        range = hashMap(range, function (range){\n          if(!range[2]){ range[2] = 1 }\n          return range\n        })\n        this.$range = range\n      },\n      get (){\n        return hashMap(cloneDeep(this.$range), function (range){\n          for(var i = 0, l = range.length; i < l; i++) if(typeof range[i] === \"function\") range[i] = range[i]()\n          return range\n        })\n      }\n    }\n  })\n  \n  this.$domain = domain\n  this.$range = range\n}\n      \nSpace.prototype = {\n  domainRangeSize: function (vs){\n    return hashMap(vs, function (v, sel){\n      var $range  = sel ? this.range[sel] : this.range\n      var $domain = sel ? this.domain[sel] : this.domain\n      return (v / ($domain[1] - $domain[0])) * ($range[1] - $range[0])\n    }.bind(this))\n  },\n  domainRange: function (vs){ return domainRangeValue(this.domain, this.range, vs, this.$niceRange) },\n  rangeDomain: function (vs){ return domainRangeValue(this.range, this.domain, vs, this.$niceDomain) },\n  block      : function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt)\n    block.$space = this\n    return block\n  },\n  tracker: function (domainMask){\n    var tracker = new Tracker(this, domainMask)\n    return tracker\n  }\n}\n      \nexport const space = (function (){\n  return function (domain, range){\n    return new Space(domain, range)\n  }\n}())\n  \nexport const block = (function (){\n  return function (posSize, syncOpt){\n    return new Block(posSize, syncOpt)\n  }\n}())\n","import {\n  promise,\n  valueOf as _valueOf,\n  abort as _abort,\n  reject as _reject\n} from './promise'\n\nimport {\n  alloc,\n  asArray,\n  cloneDeep as _cloneDeep\n} from '../functions/cast'\n\nimport {\n  isEqual as _isEqual\n} from '../functions/isLike'\n\nexport const awaitLeadOnly = function (func){\n  return alloc(function (){\n    let $pending = false\n    return function (...args){\n      if($pending === true){\n        return _abort()\n      } else {\n        $pending = true\n        return promise((resolve, reject)=>{\n          return _valueOf(func.apply(this, args)).then(resolve).catch(reject)\n        })\n        .then(e=>{\n          $pending = false\n          return e\n        })\n        .catch(e=>{\n          $pending = false\n          return _reject(e)\n        })\n      }\n    }\n  })\n}\n\nexport const awaitCompose = function (funcArgs){\n  return alloc(function (){\n    const composeFuncs = []\n\n    asArray(funcArgs).forEach(f=>{ typeof f === \"function\" && composeFuncs.push(f) })\n\n    return function (payload){\n      return promise((resolve, reject)=>{\n        function * iterator (){\n          for(let d = composeFuncs, i = 0, l = d.length; i < l; i++){\n            yield d[i]\n          }\n        }\n\n        const doWhile = ({ value: proc, done }, taskPayload)=>{\n          if(done){\n            resolve(taskPayload)\n          } else {\n            _valueOf(proc.call(this, taskPayload))\n            .then(nextPayload=>{\n              doWhile(iterator.next(), nextPayload)\n            })\n            .catch(reject)\n          }\n        }\n\n        doWhile.apply(iterator.next(), payload)\n      })\n    }\n  })\n}\n\n/*\n  수동 watch로직 입니다.\n  let watcher = watchChange(newValue=>{ doSomething... })\n  watcher.change(\"newValue\")\n*/\nexport const watchChange = function (){\n  const changeValue = function (watchman, newValue){\n    const countScope   = watchman.$count\n    const destOldValue = _cloneDeep(newValue)\n    \n    watchman.$setter.forEach(effect=>{\n      effect(newValue, watchman.$oldValue, countScope)\n    })\n    \n    watchman.$oldValue = destOldValue\n  }\n  \n  var Watchman = function (equalityLogic){\n    this.$setter = []\n    this.$oldValue = undefined\n    this.$count = 0\n    this.$equalityLogic = equalityLogic\n  }\n  \n  Watchman.prototype = {\n    setter (changeListeners){\n      asArray(changeListeners).forEach(fn=>{\n        if(typeof fn === \"function\"){\n          this.$setter.push(fn)\n        }\n      })\n    },\n    change (newValue){\n      var newValue\n      if(this.$equalityLogic){\n        if(!_isEqual(this.$oldValue, newValue)){\n          changeValue(this, newValue)\n        }\n      } else {\n        if(this.$oldValue != newValue){\n          changeValue(this, newValue)\n        }\n      }\n    }\n  }\n  return function (effect, equalityLogic){\n    const watch = new Watchman(equalityLogic)\n    watch.setter(effect)\n    return watch\n  }\n}\n","import { promise } from './promise'\n\nconst SESSION_STORE = {}\nconst STATE_STORE   = {}\n\n/*\nlet idx = 0;\nsession(\"scopeName\").open((name)=>{ id:idx++, name });\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"bob\");\nresolve(item);\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"cat\");\nresolve(item);\n\nsession(\"scopeName\").close()\n*/\n\nexport const session = function (name){\n  const inst = {\n    outputs: ()=>STATE_STORE[name].map(e=>e.output),\n    open   : (fn)=>{\n      SESSION_STORE[name] = fn\n      STATE_STORE[name] = []\n    },\n    close: ()=>{\n      const result = inst.outputs()\n      delete SESSION_STORE[name]\n      delete STATE_STORE[name]\n      return Promise.all(result)\n    },\n    spawn: (payload)=>{\n      if(typeof SESSION_STORE[name] !== \"function\"){\n        if(!SESSION_STORE[name]){\n          throw new Error(`session:: ${name} is not defined`)\n        } else {\n          throw new Error(`session:: ${name} is not function callback`)\n        }\n      }\n      \n      const input = promise.valueOf(SESSION_STORE[name](payload))\n      const managedSpawn = {\n        input,\n        output: undefined,\n        item  : undefined\n      }\n      \n      return input.then((item)=>{\n        const deferred      = promise.defer()\n        const deferPromise  = deferred.promise\n        managedSpawn.output = deferPromise\n        managedSpawn.item = item\n        \n        STATE_STORE[name].push(managedSpawn)\n        \n        return { \n          item,\n          resolve: deferred.resolve,\n          reject : deferred.reject\n        }\n      })\n    }\n  }\n  \n  return inst\n}\n","import { limitNumber, isAbsoluteNaN } from \"../functions\"\n\nexport const Limitter = function (max, min){\n  this.value = 0\n  if(typeof max !== \"number\" || isAbsoluteNaN(min)){\n    this.maximum = Number.POSITIVE_INFINITY\n  } else {\n    this.maximum = max\n  }\n  if(typeof min !== \"number\" || isAbsoluteNaN(min)){\n    this.minimum = 0\n  } else {\n    this.minimum = min\n  }\n}\n\nconst LimitterPrototype = {\n  expectIn (setValue){\n    return setValue === limitNumber(setValue, this.maximum, this.minimum)\n  },\n  expectOut (setValue){\n    return setValue !== limitNumber(setValue, this.maximum, this.minimum)\n  },\n  addExpectIn: function (addValue){\n    const destValue = this.value + addValue\n    return destValue === limitNumber(destValue, this.maximum, this.minimum)\n  },\n  addExpectOut: function (addValue){\n    const destValue = this.value + addValue\n    return destValue !== limitNumber(destValue, this.maximum, this.minimum)\n  },\n  set: function (setValue){\n    this.value = setValue\n    return this\n  },\n  add: function (addValue){\n    this.value = this.value + addValue\n    return this\n  }\n}\n\nObject.defineProperties(LimitterPrototype, {\n  done: {\n    get (){\n      return this.value === limitNumber(this.value, this.maximum, this.minimum)\n    }\n  }\n})\n\nLimitter.prototype = LimitterPrototype\n\nexport const ranger = function (max, min){\n  return new Limitter(max, min)\n}\n","import { asArray } from '../functions/cast'\nimport { times } from '../functions/enumerable'\nimport { turnTime } from '../functions/nice'\n\nexport const MatrixArray = (function (){\n  const MatrixArray = function (data, column, row){\n    asArray(data).forEach(datum=>{ this.push(datum) })\n    \n    Object.defineProperties(this, {\n      column: {\n        enumerable: false,\n        value     : column\n      },\n      row: {\n        enumerable: false,\n        value     : row\n      },\n      length: {\n        enumerable: false\n      }\n    })\n  }\n\n  MatrixArray.prototype = Object.assign([], {\n    toMatrix (eachResultHook){\n      const result = []\n      eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n\n      times(this.column * this.row, (index)=>{\n        const [ colIndex, rowIndex ] = turnTime(index, this.column)\n        const data       = this[index]\n        const dataResult = eachResultHook ? eachResultHook(data, index, colIndex, rowIndex) : data\n        if(!result[rowIndex]) result[rowIndex] = []\n        result[rowIndex].push(dataResult)\n      })\n      \n      return result\n    },\n    toArray (){\n      return Array.from(this)\n    },\n    eachColumn (eachFn){\n      const rows = this.toMatrix()\n      const columns = times(this.column, colIndex=>{\n        const colData = []\n        rows.forEach(row=>colData.push(row[colIndex]))\n        return colData\n      })\n      \n      return typeof eachFn === \"function\" ? columns.map(eachFn) : columns\n    },\n    eachRow (eachFn){\n      const rows = this.toMatrix()\n      return typeof eachFn === \"function\" ? rows.map(eachFn) : rows\n    },\n    multiply (){\n      //TODO\n    }\n  })\n  \n  return MatrixArray\n})()\n\nexport const makeMatrixArray = function (column, row, eachHook){\n  const matrixProto = times(column * row, (index)=>{\n    const [ colIndex, rowIndex ] = turnTime(index, column)\n    return eachHook(index, colIndex, rowIndex) || [colIndex, rowIndex]\n  })\n  \n  const matrixArray = new MatrixArray(matrixProto, column, row)\n  return matrixArray\n}\n","import { isArray, isNumber } from '../functions/isLike'\nimport { asArray } from '../functions/cast'\nimport { validMatrix, multiplyMatrix } from '../functions/matrix'\nimport { makeMatrixArray } from './matrix'\n\n\nconst likePoint = function (p){\n  return typeof p === \"object\" && p.hasOwnProperty(\"x\") && p.hasOwnProperty(\"y\")\n}\n\nconst calcTransformedPoint = (__ref, { matrix, perspectiveOrigin })=>{\n  // yet support affin\n  //let perspectiveVar = (this.meta && this.meta.perspective)\n  //perspectiveVar = !isNumber(perspectiveVar) ? 0 : perspectiveVar;\n  //perspectiveVar = -1/perspectiveVar;\n  //perspectiveVar = isInfinity(perspectiveVar) ? 0 : (perspectiveVar || 0) ;\n  if(!matrix) return\n  \n  const transformPoint = {}\n  const {x:px = 0, y:py = 0, z:pz = 0} = perspectiveOrigin || {x: 0, y: 0, z: 0}\n  const [[x], [y], [z], [w]] = multiplyMatrix(matrix, [[__ref.x - px], [__ref.y - py], [__ref.z - pz], [__ref.w]])\n  \n  transformPoint.x = x + px + matrix[0][3]\n  transformPoint.y = y + py + matrix[1][3]\n  transformPoint.z = z + pz + matrix[2][3]\n  transformPoint.w = w\n  \n  return transformPoint\n}\n\nconst Point = function (x = 0, y = 0, z = 0, w = 1, meta){\n  // base point config\n  const __ref = { x, y, z, w }\n  let __meta = {}\n  let __transformedPoint\n  \n  Object.defineProperties(this, {\n    x: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.x : __ref.x\n        }\n        return __ref.x\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.x = v\n      }\n    },\n    y: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.y : __ref.y\n        }\n        return __ref.y\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.y = v\n      }\n    },\n    z: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.z : __ref.z\n        }\n        return __ref.z\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.z = v\n      }\n    },\n    w: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.w : __ref.w\n        }\n        return __ref.w\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.w = v\n      }\n    },\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        __transformedPoint = undefined\n        return __meta\n      }\n    },\n    transform: {\n      enumerable  : false,\n      configurable: false,\n      writable    : true,\n      value       : false\n    },\n    rx: { enumerable: false,\n      get       : ()=>{\n        const rangeWidth = (this.meta && this.meta.range && this.meta.range.width) || 0\n        return this.x / rangeWidth\n      }\n    },\n    ry: { \n      enumerable: false,\n      get       : ()=>{\n        const rangeHeight = (this.meta && this.meta.range && this.meta.range.height) || 0\n        return this.y / rangeHeight\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nPoint.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Point(this.x, this.y, this.z, this.w, this.meta)\n  },\n  call (fn){\n    if(typeof fn === \"function\"){\n      return fn(this) || this\n    }\n    return this\n  },\n  toJSON (withMeta){\n    const json = { x: this.x, y: this.y, z: this.z, w: this.w }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  pull (width = 0, angle = \"horizontal\"){\n    const { x, y, z, w } = this\n    switch (angle){\n      case \"h\": case \"horizontal\":\n        const xHalf = width <= 0 ? 0 : width / 2\n        return new Vertex([{x: x - xHalf, y, z, w}, {x: x + xHalf, y, z, w}])\n      default:\n    }\n  },\n  vertexWith (destPoint){\n    const points = asArray(destPoint)\n    points.unshift(this)\n    return new Vertex(points)\n  },\n  rectWith ({x, y}){\n    const [largeX, smallX] = this.x > x ? [ this.x, x ] : [ x, this.x ]\n    const [largeY, smallY] = this.y > y ? [ this.y, y ] : [ y, this.y ]\n    return new Rect(smallX, smallY, largeX - smallX, largeY - smallY, 0, 0)\n  },\n  applyTransform (){\n    const {x, y, z, w} = this\n    this.transform = false\n    this.x = x\n    this.y = y\n    this.z = z\n    this.w = w\n    return this\n  },\n  setTransform (matrix44 = this.meta.matrix){\n    if(!validMatrix(matrix44)){\n      this.transform = false\n      throw new Error('Point::setTransform invalid matrix', matrix44)\n      return this\n    }\n    \n    this.meta.matrix = matrix44\n    this.transform = true\n    \n    return this\n  },\n  add ({ x, y, z, w }){\n    isNumber(x) && x && (this.x += x)\n    isNumber(y) && y && (this.y += y)\n    isNumber(z) && z && (this.z += z)\n    isNumber(w) && w && (this.w += w)\n    return this\n  },\n  subtract ({ x, y, z, w }){\n    isNumber(x) && x && (this.x -= x)\n    isNumber(y) && y && (this.y -= y)\n    isNumber(z) && z && (this.z -= z)\n    isNumber(w) && w && (this.w -= w)\n    return this\n  }\n}\n\nconst Vertex = function (pointArray, meta){\n  let __meta\n  \n  Object.defineProperties(this, {\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ __meta = typeof it === \"object\" ? it : null; return __meta }\n    }\n  })\n  \n  this.meta = meta\n  \n  asArray(pointArray).forEach(point=>{\n    if(!likePoint(point)) return\n    const {x, y, z, w} = point\n    this.push(new Point(x, y, z, w, __meta))\n  })\n};\n\n(function (classFunction, methods){\n  const prototype = []\n  \n  classFunction.prototype = prototype\n  \n  Object.keys(methods).forEach(key=>{\n    prototype[key] = methods[key]\n  })\n  \n  Object.defineProperties(prototype, {\n    start: {\n      enumerable: false,\n      get (){\n        return this[0]\n      }\n    },\n    end: {\n      enumerable: false,\n      get (){\n        return !this.length ? void 0 : this[this.length - 1]\n      }\n    }\n  })\n}(Vertex, {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  toJSON (withMeta){\n    const result = []\n    this.forEach(p=>result.push(p.toJSON(withMeta)))\n    return result\n  },\n  clone (){\n    return new Vertex(this)\n  },\n  eq (index){\n    return this[index]\n  },\n  join: function (fn){\n    const joins = []\n    this.forEach((refp, i)=>{\n      joins.push(refp)\n      if(!this[i + 1]) return\n      const newp = fn(refp, this[i + 1], i)\n      if(!likePoint(newp)) return\n      const {x, y, z, w, meta} = newp\n      joins.push(new Point(x, y, z, w, meta))\n    })\n    this.splice(0, this.length)\n    joins.forEach(p=>this.push(p))\n    return this\n  },\n  point (order){\n    switch (order){\n      case \"e\": case \"end\":\n      case \"d\": case \"down\": case \"r\": case \"right\":\n        const { x:px, y:py, z:pz, w:pw } = this.end\n        return new Point(\n          px,\n          py,\n          pz,\n          pw,\n          this.meta\n        )\n      case \"c\": case \"m\": case \"center\": case \"middle\":\n        const { x:sx, y:sy, z:sz, w:sw } = this.start\n        const { x:ex, y:ey, z:ez, w:ew } = this.end\n        return new Point(\n          sx / 2 + ex / 2,\n          sy / 2 + ey / 2,\n          sz / 2 + ez / 2,\n          sw / 2 + ew / 2,\n          this.meta\n        )\n      case \"s\": case \"start\":\n      case \"u\": case \"up\": case \"l\": case \"left\":\n      default:\n        const { x, y, z, w } = this.start\n        return new Point(\n          x,\n          y,\n          z,\n          w,\n          this.meta\n        )\n    }\n  },\n  rect (){\n    const first = this[0]\n    \n    if(!first){\n      return new Rect(0, 0, 0, 0)\n    }\n    \n    let left = first.x\n    let right = first.x\n    let top = first.y\n    let bottom = first.y\n    \n    for(let d = this, i = 1, l = this.length; i < l; i++){\n      const p = d[i]\n      p.x < left && (left = p.x)\n      p.x > right && (right = p.x)\n      p.y < top && (top = p.y)\n      p.y > bottom && (bottom = p.y)\n    }\n    \n    return new Rect(left, top, right - left, bottom - top)\n  },\n  setTransform (param){\n    this.forEach(p=>p.setTransform(param))\n    return this\n  }\n}))\n\n\nconst Rect = function (left = 0, top = 0, width = 0, height = 0, meta = null){\n  const __ref = { left, top, width, height }\n  let __meta = {}\n  \n  Object.defineProperties(this, {\n    width: { \n      enumerable: true, \n      get (){ return __ref.width },\n      set (newValue){\n        __ref.width = newValue\n        return newValue\n      }\n    },\n    height: { \n      enumerable: true, \n      get (){ return __ref.height },\n      set (newValue){\n        __ref.height = newValue\n        return newValue\n      }\n    },\n    left: { enumerable: true,\n      get (){ return __ref.left },\n      set (newValue){\n        __ref.left = newValue\n        return newValue\n      }\n    },\n    top: { enumerable: true,\n      get (){ return __ref.top },\n      set (newValue){\n        __ref.top = newValue\n        return newValue\n      }\n    },\n    right : { enumerable: true, get (){ return this.left + this.width } },\n    bottom: { enumerable: true, get (){ return this.top + this.height } },\n    meta  : {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        return __meta\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nconst splitCountParser = (split)=>{\n    //splitCount [ horizental, vertical ]\n    //1 = [ 1 ]\n    //[1, 2] = [1, 2]\n  const [ columnOrder, rowOrder ] = asArray(split)\n  return {\n    column: isNumber(columnOrder) && columnOrder > 0 ? parseInt(columnOrder, 10) : 1,\n    row   : isNumber(rowOrder) && rowOrder > 0 ? parseInt(rowOrder, 10) : 1\n  }\n}\n\nRect.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Rect(this.left, this.top, this.width, this.height, this.meta)\n  },\n  toJSON (withMeta){\n    const json = {width: this.width, height: this.height, left: this.left, top: this.top, right: this.right, bottom: this.bottom }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  defaultPerspective (){\n    return {\n      perspective      : 0,\n      perspectiveOrigin: {\n        x: this.left + (this.width / 2),\n        y: this.top + (this.height / 2),\n        z: 0\n      }\n    }\n  },\n  findPoint (findWord){\n    const [ lineFind, pointFind ] = isArray(findWord) ? findWord : findWord.trim().split(/\\s+/)\n    return this.vertex(lineFind).point(pointFind)\n  },\n  vertex (order){\n    const inheritMeta = Object.assign(this.defaultPerspective(), this.meta)\n    \n    switch (order){\n      case \"right\": case \"r\":\n        return new Vertex([{x: this.right, y: this.top, z: 0, w: 0}, {x: this.right, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"bottom\": case \"b\":\n        return new Vertex([{x: this.left, y: this.bottom, z: 0, w: 0}, {x: this.right, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"left\": case \"l\":\n        return new Vertex([{x: this.left, y: this.top, z: 0, w: 0}, {x: this.left, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"top\": case \"t\":\n        return new Vertex([{x: this.left, y: this.top, z: 0, w: 0}, {x: this.right, y: this.top, z: 0, w: 0}], inheritMeta)\n      case \"middle\": case \"m\":\n        const middleY = this.height / 2 + this.top\n        return new Vertex(\n          [\n            {x: this.left, y: middleY, z: 0, w: 0},\n            {x: this.right, y: middleY, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n      case \"center\": case \"c\":\n        const centerX = this.width / 2 + this.x\n        return new Vertex(\n          [\n            {x: centerX, y: this.top, z: 0, w: 0},\n            {x: centerX, y: this.bottom, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n      default:\n        return new Vertex(\n          [\n            {x: this.left, y: this.top, z: 0, w: 0},\n            {x: this.left, y: this.bottom, z: 0, w: 0},\n            {x: this.right, y: this.bottom, z: 0, w: 0},\n            {x: this.right, y: this.top, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n    }\n  },\n  transformRect (){\n    this.vertex()\n  },\n  piecesWithCount (splitCount, eachResultHook){\n    const { column, row } = splitCountParser(splitCount)\n    const width = this.width\n    const height = this.height\n    const pieceWidth = width / column\n    const pieceHeight = height / row\n    eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n    \n    \n    const pacExt = { ...this.defaultPerspective() }\n    \n    if(this.meta.matrix && this.meta.matrix instanceof Array){\n      Object.assign(pacExt, {\n        matrix: this.meta.matrix\n      })\n    }\n    \n    const pacResult = makeMatrixArray(column, row, (index, colIndex, rowIndex)=>{\n      const pacMeta = { \n        column: colIndex,\n        row   : rowIndex,\n        coords: [colIndex, rowIndex], \n        range : { width, height },\n        ...pacExt\n      }\n      \n      //\n      const result = new Rect(colIndex * pieceWidth, rowIndex * pieceHeight, pieceWidth, pieceHeight, pacMeta)\n      return eachResultHook ? eachResultHook(result, index, colIndex, rowIndex) : result\n    })\n    \n    return pacResult\n  },\n  diff ({ left:aleft = 0, top:atop = 0, width:awidth = 0, height:aheight = 0, right:aright, bottom:abottom }){\n    const diffResult = {}\n    const original = this.toJSON()\n    const offset = {left: 0, top: 0}\n    Object.defineProperties(diffResult, {\n      left: {\n        enumerable: true, \n        get       : ()=>original.left - aleft + offset.left,\n        set       : (want)=>{ offset.left = typeof want === \"number\" ? -original.left + want : 0 }\n      },\n      top: {\n        enumerable: true,\n        get       : ()=>original.top - atop + offset.top,\n        set       : (want)=>{ offset.top = typeof want === \"number\" ? -original.top + want : 0 }\n      },\n      width : { enumerable: true, get: ()=>original.width - awidth},\n      height: { enumerable: true, get: ()=>original.height - aheight},\n      right : { enumerable: true, get: ()=>original.right - aright + offset.left},\n      bottom: { enumerable: true, get: ()=>original.bottom - abottom + offset.top},\n      x     : { enumerable: false, get: ()=>offset.left},\n      y     : { enumerable: false, get: ()=>offset.top},\n      offset: {\n        enumerable: false,\n        get       : ()=>()=>({\n          x     : offset.left,\n          y     : offset.top,\n          right : diffResult.right,\n          bottom: diffResult.bottom,\n          over  : diffResult.right > diffResult.bottom ? diffResult.right : diffResult.bottom\n        })\n      },\n      move: {\n        enumerable: false,\n        get       : ()=>(nleft, ntop)=>{\n          diffResult.left = typeof nleft === \"number\" ? nleft : aleft\n          diffResult.top = typeof ntop === \"number\" ? ntop : atop\n          return diffResult\n        }\n      },\n      toJSON: {\n        enumerable: false,\n        get       : ()=>()=>({ ...diffResult })\n      }\n    })\n    \n    return diffResult\n  },\n  fitRatio (rect){\n    if(typeof rect !== \"object\"){ throw new Error(\"fit::argument[0] is not object\"); }\n    const { width, height } = rect;\n    \n    if(!isNumber(width) || !isNumber(height)){ throw new Error(\"fit::argument[0] is not { width:Number, height:Number }\"); }\n    const WHRatio = [ width / this.width, height / this.height ];\n    const transformRatio = WHRatio.sort()[0];\n    return transformRatio;\n  },\n  fit (rect){\n    const transformRatio = this.fitRatio(rect);\n    \n    this.width = (this.width * transformRatio) || 0;\n    this.height = (this.height * transformRatio) || 0;\n    \n    return this;\n  },\n  //TODO : incompleted sticky(parent, position, offset);\n  sticky ({left:refX, top:refY, width:refWidth, height:refHeight}, position = \"bottom left\"){\n    const { left, top, width, height } = this\n    switch (position){\n      case \"bl\": case \"obl\": case \"bottom left\": case \"outer bottom left\":\n        return rect({\n          left: refX,\n          top : refY + refHeight,\n          width,\n          height\n        })\n      case \"c\": case \"m\": case \"mc\": case \"center\": case \"middle\": case \"middle center\":\n        return rect({\n          left: refX + refWidth / 2 - width / 2,\n          top : refY + refHeight / 2 - height / 2,\n          width,\n          height\n        })\n      default:\n        return rect({ left, top, width, height })\n    }\n  },\n  add ({ left, top, width, height }){\n    isNumber(left) && left && (this.left += left)\n    isNumber(top) && top && (this.top += top)\n    isNumber(width) && width && (this.width += width)\n    isNumber(height) && height && (this.height += height)\n    return this\n  },\n  subtract ({ left, top, width, height }){\n    isNumber(left) && left && (this.left -= left)\n    isNumber(top) && top && (this.top -= top)\n    isNumber(width) && width && (this.width -= width)\n    isNumber(height) && height && (this.height -= height)\n    return this\n  }\n}\n\nexport const point = function (x, y, z, w){\n  return typeof x === \"object\" \n    ? new Point(x.x, x.y, x.z, x.w) \n    : new Point(x, y, z, w)\n}\n\nexport const vertex = function (start, end){\n  return new Vertex([{x: start.x, y: start.y, z: start.z, w: start.w}, {x: end.x, y: end.y, z: end.z, w: end.w}])\n}\n\nexport const rect = function (left, top, width, height, x, y, valid){\n  return typeof left === \"object\"\n    ? new Rect(left.left, left.top, left.width, left.height, left.x, left.y, left.valid)\n    : new Rect(left, top, width, height, x, y, valid)\n}\n","import { cloneDeep } from '../functions'\n\nconst ManualReactive = function (watch, effect, judgeOfEqual){\n  this.watch = watch\n  this.effect = effect\n  this.judgeOfEqual = typeof judgeOfEqual === \"function\" ? judgeOfEqual : (a, b)=>a === b\n  this.oldValue = undefined\n}\n\nManualReactive.prototype = {\n  beginAffect (watchValue){\n    this.effect(watchValue, cloneDeep(this.oldValue))\n    this.oldValue = watchValue\n  },\n  digest (...args){\n    const watchResult = this.watch.apply(this, args)\n    return this.judgeOfEqual(this.oldValue, watchResult) ? false : (this.beginAffect(watchResult), true)\n  }\n}\n\nexport const affect = function (effect, judgeOfEqual){\n  let affectValue\n  const manualReactive = new ManualReactive(()=>affectValue, effect, judgeOfEqual)\n  return (value)=>{ affectValue = value; manualReactive.digest() }\n}\n","import * as functions from './index.js'\n\nlet Bow  = function (){}\nlet BowFactory = function (fns){\n  let BOX = function (payload){ return new Bow(payload) }\n  \n  function applyBoxFns (BowFns){ for(var name in BowFns) BOX[name] = BowFns[name] }\n  \n  applyBoxFns(fns)\n  \n  return BOX\n}\n\nlet DEFAULT = BowFactory({ ...functions })\n\nexport const factory = BowFactory\nexport default DEFAULT\n","import { factory } from './pado.core.js'\nimport * as functions from './index.js'\n\nconst DEFAULT = factory({ ...functions })\n\nexport default DEFAULT\n"],"names":["isAbsoluteNaN","it","isNone","data","undefined","isInfinity","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","isNumber","isInteger","value","trim","test","isNaN","parseInt","isArray","Array","isObject","isFunction","likeObject","likeString","likeNumber","String","parseFloat","likeArray","item","hasOwnProperty","length","isPlainObject","constructor","Object","isEnumerableObject","isNode","a","nodeType","isEmpty","RegExp","prop","isPresence","likeRegexp","s","eqof","typeIt","baseEq","other","filter","depth","strict","arguments","valueType","otherType","every","vValue","i","oValue","vKeys","keys","oKeys","sort","key","isEqual","likeEqual","values","eqeq","isExsist","notExsist","likePromise","target","fallback","fallbackFn","args","valueOf","stringTest","string","rule","indexOf","some","filterKey","Boolean","filterExp","result","numberKey","push","forEach","deepKeys","nestedDeepKeys","scope","total","child","useKey","currentScope","clone","entries","asArray","v","k","matchString","search","at","Error","replace","substr","match","index","findIndex","__find_string","__find_regexp","substring","findIndexes","c","idxs","next","NESTED_HAS_PROC","obj","split","pointer","ki","diffStructure","before","after","afterKeys","beforeKeys","canDiff","analysis","unique","concat","reduce","dest","missing","surplus","diff","pass","get","hasValue","defaultArray","toArray","option","prototype","slice","call","asObject","defaultKey","toNumber","d","vr","dr","cleanObject","splice","r","Date","setTime","getTime","console","error","cloneDeep","l","p","getKeyWithValue","removeValue","detect","array","findKey","uniqueSet","Set","keyPath","has","add","getKeyBy","object","moveOf","oldIndex","newIndex","concatOf","appends","filterOf","func","exitFn","exitCnt","ri","clearOf","fillFn","sp","insertOf","sortOf","b","rl","rebase","ref","refValue","refKey","assign","deepKey","removeKey","datum","removeKeys","allKeys","originalIndex","offset","removeIndex","omitOf","omit","pickOf","pick","FREE_MATCH_EXPRESSION","freeOf","free","PURGE_FILTER","purgeOf","purge","instance","proto","ins","DummyInstance","param","alloc","init","fn","rn","apply","all","times","hashMap","pairs","inputArr","ai","al","map","applyArgs","fill","collection","fillLength","emptyDefault","dataLength","baseCut","cutLength","useFill","rest","readString","rebaseMatches","matches","text","castFn","props","payload","content","newMatchEntries","castingState","firstIndex","lastIndex","castingStart","cursor","start","open","matchEntries","parentScope","matchesMap","matchType","matchExp","firstMatch","aPriority","bPriority","matchIndex","matchSize","castStart","castEnd","castSize","skipSize","matching","casting","fork","needCursor","cursorTo","enter","enterMatches","enterCastFn","exit","more","readPath","__filterDotPath","dotPath","removeFirstDot","__filterBlockPath","blockPath","pathParam","path","stackCount","defaultValue","allget","name","hasProperty","defaultObjectValueFunc","functionKeyObjectValueProc","functionKey","selectKeyObjectValueProc","leftSelect","rightSelect","useLeftSelector","useRightSelector","getKey","proc","objKey","readDown","rootValue","readFn","rootParam","enterScope","arrayScope","objectScope","primitiveScope","type","childrenDepth","cut","fillContent","cuts","rowIndex","enumFn","top","iteratee","topLength","limitNumber","limitOf","number","max","min","Infinity","numbers","accurateTimeout","originalTimeout","trigger","time","resolutionRatio","coverage","destTime","now","preparation","restTime","preparaTime","Math","floor","execution","setTimeout","turn","limit","ts","resultHook","abs","fixIndex","turnTime","toggle","toggleArgs","currentValue","step","val","rangeModel","sizeBase","end","reverse","range","stepSize","sizeBaseRange","warn","domainRangeValue","domain","vs","nice","sel","$range","$domain","dSize","sSize","dRate","calc","domainRangeInterpolate","_domain","_range","_nice","interpolate","matrixRange","scales","maxLength","selectLengthes","scaleIndex","rangeResult","redu","turnSize","scaleCase","scaleCaseLength","validMatrix","arr","from","likeError","asMatrix","columnSize","rowCount","ceil","column","ci","multiplyMatrix","aMatrix","bMatrix","rRowIndex","columnLength","columnResult","rColumnIndex","multiplied","dist","num","rand64","rand64Token","codeAt","codeLength","charAt","random","tokenize","seed","digits","sin","charCodeAt","toString","randRange","rangeValue","dateExp","dv","format","join","dt","exec","getYear","getMonth","getDate","defineProperties","year","enumerable","month","date","hour","minute","second","timestampExp","exp","timescaleExp","scale","t","argumentNamesBy","getArgs","n","scopelizeBy","evalCommand","command","scopeBeforeFn","info","params","fnArgs","makeFn","Function","scoped","drawCircleVars","circleWidth","strokeWidth","circumference","radius","diameter","x","y","PromiseClass","Promise","resolveFn","resolve","rejectFn","reject","newPromise","maybeAwaiter","then","catch","promise","PromiseFunction","defer","timeout","maybeQ","operate","PARENT_OUTPUT_UPDATED","input","output","concurrent","rescue","limitInput","limitOutput","parent","children","inputs","outputs","current","defineProperty","inputOutput","kickStart","avaliableQueLength","avaliableOutputCount","entry","shift","outputHandle","formInputDataum","emit","pushData","eventName","avaliablePullCount","pullData","pull","pullLength","deep","parentOperate","cloneOperate","operateFunction","append","remove","abortMessage","abort","notifyConsole","hasValueProperty","Block","posSize","syncOpt","$space","writable","$posSize","$mask","$compute","$sync","domainValue","domainSize","rangeStart","domainRange","rangeSize","domainRangeSize","sync","BlockPrototype","domainMap","size","rangeMap","$start","$size","rangeEnd","block","setPosition","setSize","conflicts","otherBlocks","selector","red","selectOtherBlock","inspectResult","thisPos","otherPos","bind","hasConflicts","overflow","mask","blockPosSize","spaceDomain","overflowDomain","$overflowSelected","isOverflow","f","maskOverflow","isMaskOverflow","compute","Tracker","space","domainMask","$domainMask","domainBlock","callback","domainGrid","rangeDomain","cursorPoint","blockMap","Space","$niceDomain","$niceRange","set","tracker","awaitLeadOnly","$pending","_abort","_valueOf","e","_reject","awaitCompose","funcArgs","composeFuncs","iterator","doWhile","taskPayload","done","nextPayload","watchChange","changeValue","watchman","newValue","countScope","$count","destOldValue","_cloneDeep","$setter","effect","$oldValue","Watchman","equalityLogic","$equalityLogic","setter","changeListeners","change","_isEqual","watch","SESSION_STORE","STATE_STORE","session","inst","close","spawn","managedSpawn","deferred","deferPromise","Limitter","maximum","minimum","LimitterPrototype","expectIn","setValue","expectOut","addExpectIn","addValue","destValue","addExpectOut","ranger","MatrixArray","row","toMatrix","eachResultHook","colIndex","dataResult","eachColumn","eachFn","rows","columns","colData","eachRow","multiply","makeMatrixArray","eachHook","matrixProto","matrixArray","likePoint","calcTransformedPoint","__ref","matrix","perspectiveOrigin","transformPoint","z","px","py","pz","w","Point","meta","__meta","__transformedPoint","transform","configurable","rx","rangeWidth","width","ry","rangeHeight","height","addMeta","toJSON","withMeta","json","angle","xHalf","Vertex","vertexWith","destPoint","points","unshift","rectWith","largeX","smallX","largeY","smallY","Rect","applyTransform","setTransform","matrix44","subtract","pointArray","point","classFunction","methods","eq","joins","refp","newp","order","pw","sx","sy","sz","sw","ex","ey","ez","ew","rect","first","left","right","bottom","splitCountParser","columnOrder","rowOrder","defaultPerspective","perspective","findPoint","findWord","lineFind","pointFind","vertex","inheritMeta","middleY","centerX","transformRect","piecesWithCount","splitCount","pieceWidth","pieceHeight","pacExt","pacResult","pacMeta","coords","aleft","atop","awidth","aheight","aright","abottom","diffResult","original","want","over","move","nleft","ntop","fitRatio","WHRatio","transformRatio","fit","sticky","position","refX","refY","refWidth","refHeight","valid","ManualReactive","judgeOfEqual","oldValue","beginAffect","watchValue","digest","watchResult","affect","affectValue","manualReactive","Bow","BowFactory","fns","BOX","applyBoxFns","BowFns","DEFAULT","functions","factory"],"mappings":"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"}
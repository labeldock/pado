{"version":3,"file":"pado.js","sources":[".src/functions/isLike.js",".src/functions/cast.js",".src/functions/remark.js",".src/functions/enumerable.js",".src/functions/read.js",".src/functions/functions.js",".src/functions/reform.js",".src/functions/reduce/reduce.base.js",".src/functions/reduce/reduce.js",".src/functions/nice.js",".src/functions/matrix.js",".src/functions/random.js",".src/functions/datetime.js",".src/functions/hack.js",".src/functions/draw.js",".src/modules/block.js",".src/modules/editable.js",".src/modules/promise/promiseEngine.js",".src/modules/promise/promise.js",".src/modules/operate.js",".src/modules/promise/promiseFunctions.js",".src/modules/makeup.js",".src/modules/paginate.js",".src/modules/session.js",".src/modules/ranger.js",".src/modules/matrix.js",".src/modules/stance.js",".src/modules/affect.js",".src/pado.core.js",".src/pado.js"],"sourcesContent":["export const isAbsoluteNaN = function (it){\n  // eslint-disable-next-line no-self-compare\n  return it !== it && typeof it === \"number\"\n}\n\nexport const isNone = function (data){\n  return isAbsoluteNaN(data) || data === undefined || data === null\n}\n\nexport const isNumber = function (it){\n  return (typeof it === \"number\" && !isAbsoluteNaN(it))\n}\n\nexport const isInfinity = function (it){\n  return it === Number.POSITIVE_INFINITY || it === Number.NEGATIVE_INFINITY\n}\n\nexport const isInteger = function (value){\n  //NaN, null, undefined\n  if(isNone(value) === true) return false\n  \n  if(typeof value === \"string\"){\n    value = value.trim()\n  }\n\n  if(!(/string|number/.test(typeof value)) || isInfinity(value) || isNaN(value)){\n    return false\n  }\n\n  return value == parseInt(value, 10)\n}\n\nexport const isArray = function (data){\n  return Array.isArray(data) || data instanceof Array\n}\n\nexport const isObject   = it=>!!((it !== null && typeof it === \"object\"))\nexport const isFunction = (it)=>typeof it === \"function\"\n\n/*\n  * likeObject is have hasOwnProperty\n*/\nexport const likeObject = (it)=>isObject(it) || isFunction(it)\n\nexport const likeString = function (data){\n  if(typeof data === \"string\") return true\n  if(isNumber(data)) return true\n  return false\n}\n\nexport const likeNumber = function (data){\n  if(isNumber(data) || isInfinity(data)) return true\n  if(typeof data === \"string\") return String(parseFloat(data)) === String(data)\n  return false\n}\n\nexport const likeArray = function (item){\n  return (\n    Array.isArray(item) || \n    ( \n      item !== null &&\n      typeof item === \"object\" &&\n      item.hasOwnProperty(\"length\") && \n      typeof item.length === \"number\" && \n      item.length > 0\n    )\n  )\n}\n\nexport const isPlainObject = data=>typeof data === \"object\" && data.constructor === Object\n\nexport const isEnumerableObject = data=>isPlainObject(data) || isArray(data)\n\nexport const isNode = (a)=>isObject(a) && typeof a.nodeType === \"number\"\n\nexport const isEmpty = function (it){\n  if(typeof it === \"undefined\") return true\n  if(typeof it === \"string\") return it.trim().length < 1\n  if(typeof it === \"object\"){\n    if(it == null) return true\n    if(it instanceof RegExp) return false      \n    if(isArray(it)){\n      return !it.length\n    } else {\n      for(var prop in it) return false; return true\n    }\n  }\n  if(typeof it === \"number\"){\n    //NaN check \n    return isAbsoluteNaN(it) || false\n  }\n  if(typeof it === \"function\") return false\n  if(typeof it === \"boolean\") return false\n  return true\n}\n\n// check JSON, input.value possible value\nexport const isPresence = function (it){\n  return !(it === undefined || isAbsoluteNaN(it))\n}\n\nexport const likeRegexp = (s)=>(typeof s === \"string\") || (s instanceof RegExp)\n\n// none(undfinec, null, NaN), value(1,\"1\"), hash({}), array([]), node, object(new, Date), function, boolean\nexport const eqof = function (it){\n  const typeIt = typeof it\n  switch (typeIt){\n    case \"number\":\n      if(isAbsoluteNaN(it)) return \"none\"\n    case \"string\":\n      return \"value\"\n      break\n    case \"object\":\n      if(isNone(it)) return \"none\"\n      if(likeArray(it)) return \"array\"\n      if(isNode(it)) return \"node\"\n      if(!isPlainObject(it)) return \"object\"\n      return \"hash\"\n      break\n    case \"undefined\":\n      return \"none\"\n      break\n    case \"function\":\n    case \"boolean\":\n    default:\n      return typeIt\n      break\n  }\n}\n\nconst baseEq = function (value, other, filter, depth = 0, strict){\n  if(arguments.length < 2) return false\n  \n  const valueType = eqof(value)\n  const otherType = eqof(other)\n  \n  if(valueType !== otherType) return false\n  \n  switch (valueType){\n    case \"none\":\n      return true\n    case \"array\":\n      if(value.length !== other.length){\n        return false\n      }\n      return value.every((vValue, i)=>{\n        const oValue = other[i]\n        return (typeof filter === \"function\" && filter(i, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"hash\":\n      const vKeys = Object.keys(value); const oKeys = Object.keys(other)\n      if(vKeys.length !== oKeys.length || !baseEq(vKeys.sort(), oKeys.sort())) return false\n      return vKeys.every((key)=>{\n        const vValue = value[key]\n        const oValue = other[key]\n        return (typeof filter === \"function\" && filter(key, [vValue, oValue], depth) === false) ? true : baseEq(vValue, oValue, filter, depth + 1, strict)\n      })\n      break\n    case \"node\":\n    case \"object\":\n    case \"function\":\n    case \"boolean\":\n    case \"value\":\n    default:\n      return strict ? value === other : value == other\n  }\n}\n\nexport const isEqual   = (value, other, filter, depth)=>baseEq(value, other, filter, depth, true)\nexport const likeEqual = (value, other, filter, depth)=>baseEq(\n  value,\n  other,\n  (key, values, depth)=>/^(\\$|\\_)/.test(key) ? false : typeof filter === \"function\" ? filter(key, values, depth) : true, \n  depth, \n  true\n)\nexport const eqeq      = (value, other, filter, depth)=>baseEq(value, other, filter, depth, false)\n\nexport const isExsist = function (value){\n  if(value === true){\n    return true\n  }\n  if(value === false){\n    return false\n  }\n  if(typeof value === \"string\" || typeof value === \"number\"){\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const notExsist = value=>!isExsist(value)\n\nexport const likePromise = (target)=>(typeof target === \"object\" && target !== null && typeof target['then'] === \"function\" && typeof target['catch'] === \"function\")\n","import {\n  isArray,\n  isNone,\n  isAbsoluteNaN,\n  isPlainObject,\n  isObject\n} from './isLike'\n\nexport const asArray = function (data, defaultArray = undefined){\n  if(isArray(data)){\n    return data\n  }\n  if(isNone(data)){\n    return isArray(defaultArray) ? defaultArray\n      : isNone(defaultArray) ? [] : [defaultArray]\n  }\n  if(typeof data === \"object\" && typeof data.toArray === \"function\"){\n    return data.toArray()\n  }\n  return [data]\n}\n\nexport const toArray = function (data, option){\n  if(typeof data === \"undefined\" || data === null || isAbsoluteNaN(data)) return []\n  if(isArray(data)) return Array.prototype.slice.call(data)\n  if(typeof data === \"object\" && typeof data.toArray === \"function\") return data.toArray()\n  if(typeof data === \"string\" && typeof option === \"string\") return data.split(option)\n  return [data]\n}\n\nexport const asObject = function (data, defaultKey = \"default\"){\n  if(isPlainObject(data)){\n    return data\n  } else {\n    return { [defaultKey]: data }\n  }\n}\n\nexport const toNumber = function (v, d){\n  switch (typeof v){ case \"number\":return v; case \"string\":const vr = v.replace(/[^.\\d\\-]/g, \"\") * 1; return isAbsoluteNaN(vr) ? 0 : vr; break }\n  switch (typeof d){ case \"number\":return d; case \"string\":const dr = d * 1; return isAbsoluteNaN(dr) ? 0 : dr; break }\n  return 0\n}\n\nexport const cleanObject = function (data){\n  if(data instanceof Array){\n    Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    Object.keys(data).forEach(key=>{ delete data[key] })\n  }\n  return data\n}\n\nexport const clone = function (target){\n  switch (typeof target){\n    case \"undefined\": case \"function\": case \"boolean\": case \"number\": case \"string\": return target; break\n    case \"object\":\n      if(target === null) return target\n    \n      if(isArray(target)){\n        let r = []\n        for(let i = 0, length = target.length; i < length; i++)r.push(target[i])\n        return r\n      }\n    \n      if(!isPlainObject(target)){\n        if(target instanceof Date){\n          let r = new Date()\n          r.setTime(target.getTime())\n          return r\n        }\n        return target\n      }\n    \n      let r = {}\n    \n      Object.keys(target).forEach(k=>{\n        if(target.hasOwnProperty(k)) r[k] = target[k]\n      })\n      return r\n      break\n    default : \n      console.error(\"clone::copy failed : target => \", target)\n      return target \n      break\n  }\n}\n\nexport const cloneDeep = function (target){\n  if(typeof target === \"object\"){\n    let d\n    if(isArray(target)){\n      if(!isArray(d)){ d = [] };\n      for(var i = 0, l = target.length; i < l; i++) d.push(((typeof target[i] === \"object\" && target[i] !== null) ? clone(target[i]) : target[i]))\n      return d\n    } else {\n      d = {}\n      Object.keys(target).forEach(p=>{\n        (typeof target[p] === \"object\" && target[p] !== null && d[p]) ? clone(target[p], d[p]) : d[p] = target[p]\n      })\n      return d\n    }\n  } else {\n    return clone(target)\n  }\n}\n\nexport const free = function (datum){\n  const dest = {}\n  Object.keys(datum).forEach(key=>{\n    if(!/^\\$/.test(key)){\n      dest[key] = cloneDeep(datum[key])\n    }\n  })\n  return dest\n}\n\nconst getKeyWithValue = function (obj, value){\n  if(isArray(obj)){\n    for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return i\n  } \n  if(isObject(obj)){\n    for(var key in obj) if(obj[key] === value) return key\n  }\n  return undefined\n}\n\nexport const removeValue = function (obj, value){\n  var detect = true\n  var array  = isArray(obj)\n\n  while(detect){\n    var key = getKeyWithValue(obj, value)\n    if(typeof key === \"undefined\"){\n      detect = false\n    } else {\n      if(array){\n        obj.splice(key, 1)\n      } else {\n        delete obj[key]\n      }\n    }\n  }\n\n  return obj\n}\n\nexport const instance = function (func, proto){\n  var ins; var DummyInstance = function (param){ if(typeof param === \"object\") for(var k in param) this[k] = param[k] }\n  if(typeof func == \"object\"){\n    if(typeof proto === \"object\") DummyInstance.prototype = proto\n    ins = new DummyInstance(func)\n  }\n  if(typeof func == \"function\"){\n    if(typeof proto === \"object\") func.prototype = proto\n    ins = (new func())\n  }\n  return ins\n}\n\nexport const alloc = function (init){\n  let fn = init()\n  const rn = function (...args){\n    return fn.apply(this, args)\n  }\n  rn['reset'] = function (){ fn = init(rn, rn) }\n  rn['$constructor'] = fn\n  return rn\n}\n\n// TODO\n/*\nconst syncData = (function (){\n  const ENTER_HOOK  = (newDatum)=>Object.assign({}, newDatum)\n  const UPDATE_HOOK = (oldDatum, newDatum)=>Object.assign({}, oldDatum, newDatum)\n  \n  return function (oldData, newData, getId, options){\n    if(!/string|function/.test(typeof getId)) throw new Error(\"syncData need getId\")\n  \n    if(typeof getId === \"string\"){\n      const getIdString = getId\n      getId = e=>_.get(e, getIdString)\n    }\n\n    oldData = asArray(oldData)\n    newData = asArray(newData)\n\n    const result = []\n    const hooks  = asObject(options, \"afterEach\")\n    \n    if(typeof hooks[\"enter\"] !== \"function\"){\n      hooks[\"enter\"] = ENTER_HOOK\n    }\n    \n    if(typeof hooks[\"update\"] !== \"function\"){\n      hooks[\"update\"] = UPDATE_HOOK\n    }\n    \n    const oldDataMap = _.map(oldData, e=>{\n      return { id: getId(e), ref: e }\n    })\n    \n    \n    asArray(newData).forEach((newDatum, i)=>{\n      const newId = getId(newDatum)\n      \n      let oldDatum = _.get(oldDataMap[_.findIndex(oldDataMap, e=>e.id === newId)], \"ref\")\n      let genDatum\n      let dirty = false\n      // eslint-disable-next-line no-undef\n      if(oldDatum){\n        // change is not dirty, modify is dirty\n        if(typeof oldDatum !== typeof newDatum){\n          dirty = false\n        } else { // same type\n          const oldOwnKeys = Object.keys(oldDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n          const newOwnKeys = Object.keys(newDatum).filter(key=>!(key.indexOf(\"$\") === 0))\n\n          // inspect key chnage\n          if(_.isEqual(oldOwnKeys, newOwnKeys)){\n            dirty = !_.isEqual(_.pick(oldDatum, oldOwnKeys), _.pick(newDatum, newOwnKeys))\n          } else {\n            dirty = true\n          }\n        }\n        \n        if(typeof hooks[\"beforeUpdate\"] === \"function\"){\n          if(hooks[\"beforeUpdate\"](oldDatum, newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"update\"](oldDatum, newDatum)\n        \n        if(typeof hooks[\"afterUpdate\"] === \"function\"){\n          genDatum = hooks[\"afterUpdate\"](genDatum, oldDatum, newDatum)\n        }\n      } else {\n        if(typeof hooks[\"beforeEnter\"] === \"function\"){\n          if(hooks[\"beforeEnter\"](newDatum) === false){\n            return\n          }\n        }\n        \n        genDatum = hooks[\"enter\"](newDatum)\n        \n        if(typeof hooks[\"afterEnter\"] === \"function\"){\n          genDatum = hooks[\"afterEnter\"](genDatum, newDatum)\n        }\n      }\n\n      if(typeof hooks[\"afterEach\"] === \"function\"){\n        hooks[\"afterEach\"](genDatum, i, dirty)\n      }\n\n      result.push(genDatum)\n    })\n\n    return result\n  }\n}())\n*/\n","import { \n  isNone,\n  isNumber,\n  likeRegexp,\n  isArray,\n  likeArray,\n  likeObject,\n  isPlainObject\n} from './isLike'\n\nimport {\n  clone,\n  asArray\n} from './cast'\n\nexport const keys = function (target, filterExp, strict){\n  const result = []\n  if(!likeObject(target)) return result\n  \n  const filter = typeof filterExp === \"function\" ? filterExp : ()=>true;\n  \n  (strict === true ? isArray(target) : likeArray(target)) && \n  Object.keys(target).filter(key=>{ if(isNaN(key)) return; const numberKey = parseInt(key, 10); filter(numberKey, target) && result.push(parseInt(numberKey, 10)) }) || \n  (strict === true ? isPlainObject(target) : likeObject(target)) && \n  Object.keys(target).forEach(key=>{ filter(key, target) && result.push(key) })\n  \n  return result\n}\n\nexport const entries = function (it){\n  const result = []\n  switch (typeof it){\n    case \"object\":\n      // eslint-disable-next-line no-unused-expressions\n      isNone(it) ? 0\n        : likeArray(it) ? asArray(it).forEach((v, k)=>{ result.push([k, v]) })\n        : Object.keys(it).forEach(key=>{ result.push([key, it[key]]) })\n      break\n  }\n  return result\n}\n\nexport const deepKeys = (function (){\n  const nestedDeepKeys = function (target, filter, scope, total){\n    if(typeof target === \"object\"){\n      keys(target, (key, target)=>{\n        const child  = target[key]\n        const useKey = filter(child, key, scope.length)\n        if(!useKey){\n          return\n        }\n        const currentScope = clone(scope)\n        currentScope.push(key)\n        total.push(currentScope)\n        nestedDeepKeys(child, filter, currentScope, total)\n      }, true)\n    }\n  }\n  \n  return function (target, filter){\n    const result = []\n    nestedDeepKeys(target, filter ? (child, key)=>{ filter(child, key) } : ()=>true, [], result)\n    return result\n  }\n}())\n\n//remark.spec.js\nexport const matchString = (it, search, at = 0)=>{\n  if(typeof it !== \"string\") throw new Error(`matchString :: worng argument ${it}`)\n  if(typeof search === \"string\") search = search.replace(new RegExp(\"(\\\\.|\\\\[|\\\\])\", \"g\"), s=>`\\\\${s}`)\n  const result = it.substr(at).match(search)\n  return result ? [result.index + at, result[0].length] : [-1, 0]\n}\n\nexport const findIndex = (function (){\n  const __find_string = (it, search, at)=>it.indexOf(search, at)\n  const __find_regexp = (it, search, at)=>{\n    let i = it.substring(at || 0).search(search)\n    return (i >= 0) ? (i + (at || 0)) : i\n  }\n  return (it, search, at)=>((search instanceof RegExp) ? __find_regexp : __find_string)(it, search, at)\n}())\n\n//remark.spec.js\nexport const findIndexes = (function (){\n  return function (c, s, at){\n    if(typeof c === \"string\" || typeof c === \"number\"){\n      var idxs = []; var s = likeRegexp(s) ? s : s + \"\"; var at = (!at || !isNumber(at) || at < 0) ? 0 : at; var next\n      do {\n        let i = findIndex(c, s, at)\n        if(i > -1){\n          at = (s.length || 1) + i\n          idxs.push(i) \n          next = true\n        } else {\n          next = false\n        }\n      } while(next)\n      return idxs\n    }\n  }\n}())\n","import {\n  isArray\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nexport const all = function (data, fn){\n  data = asArray(data)\n  \n  if(data.length === 0){\n    return false\n  }\n  \n  for(let i = 0, l = data.length; i < l; i++){\n    if(!fn(data[i], i)){\n      return false\n    } \n  };\n  \n  return true\n}\n\nexport const deep = function (data){\n  \n}\n\nexport const times = function (length, fn){\n  const result = []\n  for(var i = 0, l = length; i < l; i++){\n    result.push(fn(i))\n  }\n  return result\n}\n\nexport const hashMap = function (object, fn){\n  if(typeof object === \"object\" && !isArray(object)) for(var k in object) object[k] = fn(object[k], k)\n  else return fn(object, (void 0))\n  return object\n}\n","import {\n  isArray,\n  likeString,\n  likeObject,\n  isNumber,\n  isEmpty\n} from './isLike'\n\nimport {\n  entries,\n  matchString\n} from './remark'\n\nimport {\n  all\n} from './enumerable'\n\nimport {\n  asArray\n} from './cast'\n\n\n//read.readString.spec.js\nexport const readString = (function (){\n  const rebaseMatches = matches=>entries(asArray(matches))\n  return function (text, matches, castFn, props){\n    const payload = {\n      content: text,\n      props\n    }\n  \n    const newMatchEntries = rebaseMatches(matches)\n  \n    const castingState = {\n      firstIndex  : 0,\n      lastIndex   : text.length,\n      castingStart: 0,\n      cursor      : 0\n    }\n    \n    if(typeof props === \"object\" && isNumber(props.start)){\n      castingState.castingStart = props.start\n      castingState.cursor = props.start\n    }\n\n    const open = function ({ castingState:{ firstIndex, lastIndex, castingStart, cursor }, matchEntries, castFn, parentScope }){\n      if(cursor >= lastIndex){\n        return false\n      }\n      \n      //find match\n      const matchesMap = matchEntries.map(([matchType, matchExp])=>([matchString(text, matchExp, cursor), matchType, matchExp]))\n      let firstMatch   = asArray(matchesMap).sort(([a, aPriority], [b, bPriority])=>(\n        a[0] < 0 ? true\n        : b[0] < 0 ? false\n        : a[0] == b[0] ? aPriority < bPriority : a[0] > b[0]\n      ))[0]\n      \n      // top match is not exsist\n      if(!firstMatch){ return false }\n      \n      // unmatched\n      if(firstMatch[0][0] === -1){\n        firstMatch = [[-1, 0], -1, null]\n      }\n\n      //next variant\n      const [[ matchIndex, matchSize ], matchType, matchExp] = firstMatch\n      const castStart = castingStart\n      const castEnd   = matchType === -1 ? lastIndex : (matchIndex + matchSize)\n      const castSize  = castEnd - castStart\n      const skipSize  = castSize - matchSize\n      \n      //next params\n      const matching = { \n        matchType, \n        matchExp,\n        matchIndex,\n        matchSize,\n        skipSize\n      }\n      const casting = {\n        firstIndex,\n        lastIndex,\n        castStart,\n        castEnd,\n        castSize\n      }\n      const scope = {\n        fork (matchEntries, castFn){\n          const newMatchEntries = rebaseMatches(matches)\n          open({\n            castingState: {\n              firstIndex  : matching.matchIndex,\n              lastIndex   : matching.matchIndex + matchSize,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            }, \n            matchEntries: newMatchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        next (needCursor){\n          const cursorTo = isNumber(needCursor) ? needCursor : casting.castEnd\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: cursorTo,\n              cursor      : cursorTo\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        },\n        enter (enterMatches, enterCastFn){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: matching.matchIndex,\n              cursor      : matching.matchIndex\n            },\n            matchEntries: rebaseMatches(enterMatches),\n            castFn      : enterCastFn,\n            parentScope : {\n              next: scope.next\n            }\n          })\n        },\n        exit (needCursor){\n          parentScope && parentScope.next(isNumber(needCursor) ? needCursor : casting.castEnd)\n        },\n        more (){\n          open({\n            castingState: {\n              firstIndex,\n              lastIndex,\n              castingStart: castStart,\n              cursor      : casting.castEnd\n            },\n            matchEntries,\n            castFn,\n            parentScope\n          })\n        }\n      }\n      \n      castFn({\n        ...payload,\n        ...matching,\n        ...casting,\n        ...scope\n      })\n      \n      return true\n    }\n    \n    open({\n      castingState,\n      matchEntries: newMatchEntries,\n      castFn\n    })\n  \n    return payload\n  }\n}())\n\nexport const readPath = (function (){\n  const __filterDotPath = (dotPath, removeFirstDot)=>removeFirstDot && dotPath.indexOf(\".\") === 0 ? dotPath.substr(1) : dotPath\n  const __filterBlockPath = (blockPath)=>{\n    //remove []\n    blockPath = blockPath.substring(1, blockPath.length - 1)\n    \n    //interger\n    if(/^[0-9]+$/.test(blockPath)){\n      return parseInt(blockPath, 10)\n    }\n    \n    //remove ''\n    if(/^\\'.*\\'$/.test(blockPath) || /^\\\".*\\\"$/.test(blockPath)){\n      blockPath = blockPath.substring(1, blockPath.length - 1)\n    }\n    return blockPath\n  }\n\n  return function (pathParam){\n    if(isArray(pathParam)){\n      return pathParam\n    }\n  \n    if(likeString(pathParam)){\n      if(isNumber(pathParam)){\n        return [pathParam]\n      }\n    \n      if(typeof pathParam === \"string\"){\n        //one depth\n        if(!/\\.|\\[/.test(pathParam)){\n          return [pathParam]\n        }\n        \n        //multiple depth\n        const { props:{ path:result } } = readString(pathParam, [\".\", \"[\"], ({\n          content, props:{ path }, matchExp, castStart, castEnd, castSize, skipSize, enter, next\n        })=>{\n          if(matchExp === \".\"){\n            skipSize && path.push(content.substr(castStart, skipSize))\n            next()\n          }\n          if(matchExp === \"[\"){\n            let stackCount = 0\n          \n            if(skipSize){\n              path.push(__filterDotPath(content.substr(castStart, skipSize), castStart !== 0))\n            }\n          \n            enter([\"[\", \"]\"], ({ matchExp, castStart, castEnd, more, exit })=>{\n              if(matchExp === \"[\") stackCount++\n              if(matchExp === \"]\") stackCount--\n              if(matchExp === null) return\n              if(stackCount === 0){\n                path.push(__filterBlockPath(content.substring(castStart, castEnd)))\n                exit()\n              } else {\n                more()\n              }\n            })\n          }\n          if(matchExp === null){\n            path.push(__filterDotPath(content.substr(castStart, castEnd), castStart !== 0))\n          }\n        }, { path: [] })\n      \n        return result\n      }\n    }\n    return []\n  }\n}())\n\nexport const get = function (target, path, defaultValue){\n  if(typeof target === \"object\"){\n    switch (typeof path){\n      case \"number\": path += \"\"\n      case \"string\":\n        path = readPath(path)\n      case \"object\":\n        if(isArray(path)){\n          const allget = all(path, (name)=>{\n            if(likeObject(target) && (target.hasOwnProperty(name) || target[name])){\n              target = target[name]\n              return true\n            } else {\n              return false\n            }\n          })\n          return allget ? target : defaultValue\n        } else {\n          return\n        }\n        break\n      case \"function\": return path.call(this, target)\n    }\n  } else if(typeof target === \"function\"){\n    return target.apply(this, Array.prototype.slice.call(arguments, 1))\n  }\n  return target\n}\n\nexport const hasProperty = function (target, pathParam){\n  return all(readPath(pathParam), path=>{\n    if(likeObject(target) && likeString(path) && target.hasOwnProperty(path)){\n      target = target[path]\n      return true\n    }\n    return false\n  })\n}\n\nexport const hasValue = (function (){\n  const defaultObjectValueFunc = function (object, value){\n    return object === value\n  }\n    \n  const functionKeyObjectValueProc = function (functionKey){\n    return function (object, value){\n      return Boolean(functionKey(object, value))\n    }\n  }\n    \n  const selectKeyObjectValueProc = function (leftSelect, rightSelect){\n    var useLeftSelector  = (typeof leftSelect === \"string\" || typeof leftSelect === \"number\")\n    var useRightSelector = leftSelect === rightSelect ? useLeftSelector : (typeof rightSelect === \"string\" || typeof rightSelect === \"number\")\n        \n    return function (object, value){\n      if(useLeftSelector && !object.hasOwnProperty(leftSelect)) return false\n      if(useRightSelector && !value.hasOwnProperty(rightSelect)) return false\n            \n      return (useLeftSelector ? get(object, leftSelect) : object) === (useRightSelector ? get(value, rightSelect) : value)\n    }\n  }\n    \n  return function (obj, value, key, getKey){\n    if(typeof key === \"boolean\"){\n      if(typeof getKey !== \"boolean\"){\n        getKey = key\n      }\n      key = void 0\n    }\n        \n    if(obj === value){\n      return true\n    } else if(likeObject(obj)){\n      if(value === (void 0) && key === (void 0)) return !isEmpty(obj)\n            \n      var proc\n            \n      if(key){\n        if(typeof key === \"function\"){\n          proc = functionKeyObjectValueProc(key)\n        } else if(isArray(key) && key.length > 1){\n          proc = selectKeyObjectValueProc(key[0], key[1])\n        } else if(typeof key === \"string\" || typeof key === \"number\"){\n          proc = selectKeyObjectValueProc(key, key)\n        }\n      } else {\n        proc = defaultObjectValueFunc\n      }\n            \n      if(isArray(obj)){\n        for(var i = 0, l = obj.length; i < l; i++) if(proc(obj[i], value)) return getKey ? i : true\n      } else {\n        for(var objKey in obj) if(obj.hasOwnProperty(objKey) && proc(obj[objKey], value)) return getKey ? objKey : true \n      }\n    }\n        \n    return getKey ? void 0 : false\n  }\n}())\n","import { \n  isObject,\n  isArray,\n  isFunction,\n  isNode,\n  isEqual\n} from './isLike'\n\nimport {\n  asArray\n} from './cast'\n\nimport {\n  get,\n  hasValue\n} from './read'\n\nexport const unique = function (array, findKey){\n  const result    = []\n  const uniqueSet = new Set()\n  if(typeof findKey === \"undefined\"){ findKey = (v)=>v }\n  if(typeof findKey === \"string\"){ const keyPath = findKey; findKey = (v)=>v[keyPath] }\n  array.forEach((v)=>{\n    const key = findKey(v)\n    if(uniqueSet.has(key)) return\n    uniqueSet.add(key)\n    result.push(v)\n  })\n  return result\n}\n\nexport const getKeyBy = function (object, value){\n  if(isFunction(value)){\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(value(object[i], i) === true) return i\n    if(isObject(object)) for(var key in object) if(value(object[key], key) === true) return key\n  } else {\n    if(isArray(object)) for(var i = 0, l = object.length; i < l; i++) if(object[i] === value) return i\n    if(isObject(object)) for(var key in object) if(object[key] === value) return key\n  }\n}\n\nexport const clearOf = function (data, fillFn, sp){\n  if(data instanceof Array){\n    sp = Array.prototype.splice.call(data, 0, data.length)\n  } else if(typeof data == \"object\"){\n    sp = {}\n    for(var key in data){ sp[key] = data[key]; delete data[key] } \n  }\n  return (fillFn && fillFn(data, sp)), data\n}\n\nexport const insertOf = function (data, v, a){\n  isArray(data) && data.splice(typeof a === \"number\" ? a : 0, 0, v)\n  return data\n}\n\nexport const moveOf = function (data, oldIndex, newIndex){\n  if(oldIndex !== newIndex && isArray(data) && typeof oldIndex === \"number\" && typeof newIndex === \"number\" && oldIndex >= 0 && oldIndex < data.length){\n    Array.prototype.splice.call(data, newIndex > data.length ? data.length : newIndex, 0, Array.prototype.splice.call(data, oldIndex, 1)[0])\n  }\n  return data\n}\n\nexport const concatOf = function (data, appends){\n  var data = asArray(data)\n  return asArray(appends).forEach(value=>{ data.push(value) }), data\n}\n\n\nexport const filterOf = function (data, func, exitFn){\n  var data    = asArray(data)\n  var exitCnt = 0\n\n  for(var i = 0, ri = 0, keys = Object.keys(data), l = keys.length; i < l; i++, ri++){\n    var key   = keys[i]\n    var value = data[key]\n    var result = func(value, key)\n    if(result == false){\n      /*\n      var exit = Array.prototype.splice.call(data, i, 1)\n      */\n      i--\n      l--\n      typeof exitFn === \"function\" && exitFn(value, ri, exitCnt++)\n    }\n  }\n  \n  return data\n}\n\nexport const sortOf = function (data, filter){\n  if(data.length == 0){\n    return data\n  }\n  \n  switch (filter){\n    case 'desc':\n      filter = function (a, b){ return a > b }\n      break\n    case undefined:\n    case 'asc':\n    default:\n      if(typeof filter !== \"function\"){\n        filter = function (a, b){ return a < b }\n      }\n      break\n  }\n\n  var result = [data[0]]\n\n  for(var i = 1, l = data.length; i < l; i++){\n    for(var ri = 0, rl = result.length; ri < rl; ri++){\n      if(filter(data[i], result[ri]) === true){\n        insertOf(result, data[i], ri)\n        break\n      }\n      if((ri + 1) === result.length){\n        result.push(data[i])\n      }\n    }\n  }\n\n  clearOf(data)\n\n  for(var i = 0, l = result.length; i < l; data.push(result[i]), i++);\n  \n  return data\n}\n\nexport const rebase = function (obj, ref){\n  var result = {}\n  for(var key in obj){\n    if(key === \".*\"){\n      var refValue = obj[key]\n      for(var i = 0, d = Object.keys(ref), l = d.length; i < l; i++){\n        var refKey = d[i]\n        if(typeof refValue === \"function\"){\n          result[refKey] = obj[key]\n        } else {\n          if((typeof refValue !== \"object\" && typeof refValue !== \"object\") || isNode(refValue)){\n            result[refKey] = refValue\n          } else {\n            result[refKey] = Object.assign(result[refKey], refValue)\n          }\n        }\n      }\n    } else if(key.indexOf(\",\") > -1){\n      key.split(\",\").forEach(deepKey=>{\n        deepKey = deepKey.trim()\n        if(typeof obj[key] === \"function\"){\n          result[deepKey] = obj[key]\n        } else {\n          if((!result.hasOwnProperty(deepKey) && typeof obj[key] !== \"object\") || isNode(obj[key])){\n            result[deepKey] = obj[key]\n          } else {\n            result[deepKey] = Object.assign(result[deepKey] || (isArray(obj[key]) ? [] : {}), obj[key], obj[deepKey])\n          }\n        }\n      })\n    } else {\n      if(typeof obj[key] === \"function\"){\n        result[key] = obj[key]\n      } else {\n        if((typeof result[key] !== \"object\" && typeof obj[key] !== \"object\") || isNode(obj[key])){\n          result[key] = obj[key]\n        } else {\n          result[key] = Object.assign(result[key], obj[key])\n        }\n      }\n    }\n  }\n  return result\n}\n\n\n//TODO: Union hasValue\nconst NESTED_HAS_PROC = function (obj, key){\n  var keys = key.split(\".\")\n  if(!keys.length) return false\n\n  var pointer = obj\n  for(var ki in keys){\n    var k = keys[ki]\n\n    if(!pointer.hasOwnProperty(k)){\n      return false\n    } else {\n      pointer = pointer[k]\n    }\n  }\n  return true\n}\n\nexport const diffStructure = function (before, after){\n  var afterKeys = Object.keys(after)\n  var beforeKeys\n  var canDiff = false\n  if(isObject(before)){\n    if(isArray(before)){\n      beforeKeys = before\n    } else {\n      beforeKeys = Object.keys(before)\n      canDiff = true\n    }\n  } else {\n    beforeKeys = []\n  }\n\n  var analysis = {\n    after  : after,\n    before : before,\n    keys   : unique(afterKeys.concat(beforeKeys)).reduce((dest, key)=>{ dest[key] = undefined; return dest }, {}),\n    match  : [],\n    missing: [],\n    surplus: [],\n    diff   : [],\n    pass   : false\n  }\n  \n  //match, missing\n  for(var ki in beforeKeys){\n    if(!beforeKeys.hasOwnProperty(ki)) continue\n      \n    var key = beforeKeys[ki]\n      \n    if(NESTED_HAS_PROC(after, key)){\n      analysis.match.push(key)\n      analysis.keys[key] = \"match\"\n\n      if(canDiff && !isEqual(get(after, key), get(before, key))){\n        analysis.diff.push(key)\n        analysis.keys[key] = \"diff\"\n      }\n    } else {\n      analysis.surplus.push(key)\n      analysis.keys[key] = \"surplus\"\n    }\n  }\n\n  //surplus\n  asArray(afterKeys).forEach(key=>{\n    if(!hasValue(analysis.match, key)){\n      analysis.missing.push(key)\n      analysis.keys[key] = \"missing\"\n    }\n  })\n\n  //absolute\n  analysis.pass = !analysis.missing.length && !analysis.surplus.length\n\n  return analysis\n}\n","import {\n  asArray\n} from './cast'\n\nimport { \n  isNumber\n} from './isLike'\n\nexport const fill = function (collection, fillLength, emptyDefault = undefined){\n  const data = asArray(collection)\n  let dataLength = data.length\n  \n  fillLength = isNumber(fillLength) ? fillLength : 0\n  const fillFn = typeof emptyDefault !== \"function\" ? ()=>emptyDefault : emptyDefault\n  \n  for(let i = 0, l = fillLength - dataLength; i < l; data.push(fillFn(dataLength++, i++)));\n  \n  return collection\n}\n","import { \n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  fill\n} from '../reform'\n\nexport const baseCut = function (collection, cutLength, emptyDefault, useFill){\n  let data = asArray(collection); let rest\n  cutLength = isNumber(cutLength) ? cutLength : 1\n  \n  if(data.length > cutLength){\n    rest = data.splice(cutLength, Number.POSITIVE_INFINITY)\n    return [data, rest]\n  }\n  \n  useFill === true && (data = fill(data, cutLength, emptyDefault))\n  return [data, []]\n}\n","import {\n  baseCut\n} from './reduce.base'\n\nimport { \n  isInfinity,\n  isNumber\n} from '../isLike'\n\nimport {\n  asArray\n} from '../cast'\n\nimport {\n  get\n} from '../read'\n\n\nexport const cut = function (collection, cutLength, fillContent){\n  const useFill = arguments.length > 2\n  return baseCut(collection, cutLength, fillContent, useFill)[0]\n}\n\nexport const cuts = function (collection, cutLength, fillContent){\n  const result = []\n  let rest = collection\n  let rowIndex = 0\n  const enumFn = typeof fillContent !== \"function\" ? ()=>fillContent : (index)=>fillContent(rowIndex * cutLength + index, index, rowIndex)\n  const useFill = arguments.length > 2\n  \n  do {\n    ([collection, rest] = baseCut(rest, cutLength, enumFn, useFill))\n    result.push(collection)\n    rowIndex++\n  } while(rest.length > 0)\n  return result\n}\n\n//reduce.spec.js\nexport const top = function (data, iteratee, topLength){\n  switch (typeof iteratee){\n    case \"function\":\n    //iteratee=iteratee;\n      break\n    case \"string\":\n      const path = iteratee\n      iteratee = (a, b)=>get(a, path) < get(b, path)\n      break\n    case \"boolean\":\n      iteratee = iteratee ? (a, b)=>a < b : (a, b)=>a > b\n      break\n    default:\n      iteratee = (a, b)=>a < b\n      break\n  }\n  \n  if(typeof topLength === \"boolean\"){\n    topLength = topLength ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY\n  }\n  \n  return isNumber(topLength) || isInfinity(topLength)\n    ? asArray(data).sort((a, b)=>iteratee(a, b)).splice(0, topLength)\n    : asArray(data).sort((a, b)=>iteratee(a, b))[0]\n}\n","import { isNumber, isArray, isAbsoluteNaN } from './isLike'\nimport { asArray } from './cast'\n\nexport const limitNumber = (function (){\n  const limitOf = function (number, max, min){\n    if(typeof number == \"number\"){\n      if(isAbsoluteNaN(number) || number === Infinity){\n        return min\n      }\n      if(isNumber(min) && (number < min)){\n        return min\n      }\n      if(isNumber(max) && (number > max)){\n        return max\n      }\n    }\n    return number\n  }\n  const limitNumber = function (numbers, max, min){\n    if(typeof max !== \"number\"){ max = Number.POSITIVE_INFINITY }\n    if(typeof min !== \"number\"){\n      if(min === null || isAbsoluteNaN(min)){\n        min = Number.NEGATIVE_INFINITY\n      } else {\n        min = 0\n      }\n    }\n    if(isArray(numbers)){\n      for(var d = numbers, i = 0, l = d.length; i < l; i++){\n        d[i] = limitOf(d[i], max, min)\n      }\n      return numbers\n    } else {\n      return limitOf(numbers, max, min)\n    }\n  }\n  return limitNumber\n}())\n\nexport const accurateTimeout = (function (originalTimeout){\n  return function (trigger, time = 0, resolutionRatio = 0.75, coverage = 25){\n    let destTime = Date.now() + time\n    \n    if(!isNumber(time)){\n      time = 0\n    }\n    \n    if(!isNumber(resolutionRatio)){\n      resolutionRatio = 0.75\n    }\n    \n    if(!isNumber(coverage)){\n      resolutionRatio = 25\n    }\n    \n    if(resolutionRatio > 1){\n      resolutionRatio = 1\n    }\n        \n    if(resolutionRatio < 0.1){\n      resolutionRatio = 0.1\n    }\n    \n    if(coverage < 5){\n      coverage = 5\n    }\n        \n    function preparation (restTime){\n      const preparaTime = Math.floor(restTime * resolutionRatio)\n      originalTimeout(execution, preparaTime)\n    }\n        \n    function execution (){\n      const restTime = destTime - Date.now()\n        \n      if(restTime < coverage){\n        if(restTime < 1){\n          originalTimeout(trigger, 0)\n        } else {\n          originalTimeout(trigger, restTime)\n        }\n      } else {\n        preparation(restTime)\n      }\n    }\n    \n    execution()\n  }\n}(setTimeout))\n\nexport const turn = function (i, limit, ts, resultHook){\n  if(i < 0){ \n    let abs = Math.abs(i / ts) \n    i = limit - (abs > limit ? abs % limit : abs)\n  }\n  ts = typeof ts === \"number\" ? ts : 1\n  const fixIndex = Math.floor(i / ts)\n  const result = (limit > fixIndex) ? fixIndex : fixIndex % limit\n  return typeof resultHook === \"function\" ? resultHook(result, i, limit, ts) : result\n}\n\nexport const turnTime = function (i, limit, ts){\n  return turn(i, limit, ts, (result, i, limit, ts)=>[result, Math.floor(i / (limit * ts))])\n}\n\nexport const toggle = function (toggleArgs, currentValue, step = 1){\n  return (toggleArgs = asArray(toggleArgs)) && toggleArgs[(toggleArgs.findIndex(val=>val === currentValue) + step) % toggleArgs.length]\n}\n","import { asArray, cloneDeep } from './cast'\nimport { likeArray, isNumber, isAbsoluteNaN } from './isLike'\nimport { top } from './reduce'\nimport { turn, limitNumber } from './nice'\nimport { hashMap, times } from './enumerable'\n\nexport const rangeModel = function (value, step, sizeBase){\n  let start, end, reverse\n  \n  if(typeof value === \"number\"){\n    end = value\n    start = 0\n  } else if(typeof value === \"object\"){\n    start = value[0]\n    end = value[1]\n      \n    if(!step && typeof value[2] === \"number\"){\n      step = value[2]\n    }\n      \n    if(typeof sizeBase !== \"boolean\"){\n      sizeBase = false\n    }\n  }\n  \n  /*\n  if(typeof start !== \"number\" || typeof end !== \"number\"){\n    if(typeof start !== \"number\" && typeof end !== \"number\") return r\n    if(typeof start === \"number\") return r.push(start), r\n    if(typeof end === \"number\") return r.push(end), r\n  }\n  */\n  \n  if(start > end){\n    reverse = end\n    end = start\n    start = reverse\n    reverse = true\n  }\n  \n  end = parseFloat(end)\n  end = isAbsoluteNaN(end) ? 0 : end\n  start = parseFloat(start)\n  start = isAbsoluteNaN(start) ? 0 : start\n  step = parseFloat(step)\n  step = isAbsoluteNaN(step) || step == 0 ? 1 : step\n  \n  return {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  }\n}\n\nexport const range = function (value, stepSize, sizeBaseRange){\n  let r = []\n  let {\n    start,\n    end,\n    step,\n    reverse,\n    sizeBase\n  } = rangeModel(value, stepSize, sizeBaseRange)\n  \n  if(step <= 0){ return console.warn(\"range::not support minus step\"), r };\n  if(sizeBase == false){ for(var i = start, l = end; i <= l; i = i + step) r.push(i) } else { for(var i = start, l = end; i < l; i = i + step) r.push(i) }\n  return reverse ? r.reverse() : r\n}\n\nexport const domainRangeValue = function (domain, range, vs, nice, limit){\n  return hashMap(cloneDeep(vs), function (v, sel){\n    const $range  = sel ? range[sel] : range\n    const $domain = sel ? domain[sel] : domain\n    if(!$range || !$domain){ return v }\n                    \n    const dSize = $domain[1] - $domain[0]\n    const sSize = $range[1] - $range[0]\n    const dRate = (v - $domain[0]) / dSize\n    const calc  = $range[0] + sSize * dRate\n    const result = nice ? Math.floor(calc) : calc\n    \n    return limit \n      ? $range[1] > $range[0] \n        ? limitNumber(result, $range[1], $range[0])\n        : limitNumber(result, $range[0], $range[1])\n      : result\n  })\n}\n\nexport const domainRangeInterpolate = function (domain, range, nice, limit){\n  let _domain = domain\n  let _range  = range\n  let _nice   = nice\n  \n  const interpolate = (value)=>domainRangeValue(_domain, _range, value, _nice, limit)\n  \n  interpolate.domain = (domain)=>{\n    _domain = domain\n    return interpolate\n  }\n  interpolate.range = (range)=>{\n    _range = range\n    return interpolate\n  }\n  interpolate.nice = (nice)=>{\n    _nice = nice\n    return interpolate\n  }\n  \n  return interpolate\n}\n\n//matrixRange([1],[3]) // [[1], [2], [3]] \n//matrixRange([1,1],[3,3]) // [[1, 1], [2, 1], [3, 1], [1, 2], [2, 2], [3, 2], [1, 3], [2, 3], [3, 3]]\n\nexport const matrixRange = function (start, end, step, sizeBase){\n  var scales = []\n  var maxLength = top([start.length, end.length])\n    \n  var selectLengthes = times(maxLength, function (scaleIndex){\n    const rangeResult = range([start[scaleIndex], end[scaleIndex]], step, sizeBase)\n    scales.push(rangeResult)\n    return rangeResult.length\n  })\n\n  var result = times(selectLengthes.reduce(function (redu, value){\n    return redu * value\n  }, 1), function (){ return new Array(maxLength) })\n    \n  var turnSize = 1\n  \n  \n  asArray(scales).forEach((scaleCase, scaleIndex)=>{\n    var scaleCaseLength = scaleCase.length\n    times(result.length, function (time){\n      result[time][scaleIndex] = scaleCase[turn(time, scaleCaseLength, turnSize)]\n    })\n    turnSize = turnSize * scaleCaseLength\n  })\n    \n  return result\n}\n\n//validate matrix format\nexport const validMatrix = function (arr){\n  // Matrix must be array\n  if(!likeArray(arr)){\n    return false\n  }\n  \n  // Empty is valid\n  if(arr.length === 0){\n    return true\n  }\n  \n  //find some error ( return true => false)\n  return !Array.from(arr).some((v)=>{\n    if(likeArray(v)){\n      //length check\n      if(v.length !== arr.length) return true\n      //type check\n      return v.some(likeError=>!(likeError == undefined || isNumber(likeError)))\n    }\n    return true\n  })\n}\n\n// real matrix model\nexport const asMatrix = function (arr, columnSize){\n  const result = []\n  if(typeof columnSize === \"number\" && columnSize > 0){\n    const rowCount = Math.ceil(arr.length / columnSize)\n    times(rowCount, i=>{\n      const column = []\n      times(columnSize, ci=>{ column.push(arr[i * columnSize + ci]) })\n      result.push(column)\n    })\n  } else {\n    return [arr]\n  }\n  return result\n}\n\nexport const multiplyMatrix = function (aMatrix, bMatrix){\n  if(!validMatrix(aMatrix) && validMatrix(bMatrix)){\n    return null\n  }\n  if(aMatrix[0].length !== bMatrix.length){\n    return null\n  }\n  const result = []\n  times(bMatrix.length, rRowIndex=>{\n    const columnLength = bMatrix[rRowIndex].length\n    const columnResult = []\n    times(columnLength, rColumnIndex=>{\n      //var calcLog = [];\n      const multiplied = aMatrix[rRowIndex].reduce((dist, num, index)=>{\n        //calcLog.push(`${num} * ${bMatrix[index][rColumnIndex]}`)\n        return num * bMatrix[index][rColumnIndex] + dist\n      }, 0)\n      //console.log(\"calcLog\",calcLog.join(\" + \"))\n      columnResult.push(multiplied)\n    })\n    result.push(columnResult)\n  })\n  return result\n}\n","import { isAbsoluteNaN } from './isLike'\n\nimport { rangeModel } from './matrix'\n\nexport const rand64 = (function (){\n  var rand64Token = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"\n  return function (length, codeAt, codeLength){\n    length = (isAbsoluteNaN(length)) ? 1 : parseInt(length)\n    codeAt = (isAbsoluteNaN(codeAt)) ? 0 : parseInt(codeAt)\n    codeLength = (isAbsoluteNaN(codeLength)) ? 62 - codeAt : parseInt(codeLength)\n    var result = \"\"\n    for(var i = 0, l = length; i < l; i++) result = result + rand64Token.charAt(codeAt + parseInt(Math.random() * codeLength))\n    return result\n  }\n}())\n\n\nexport const tokenize = function (seed, digits){\n  return Math.floor((Math.abs(Math.sin(Number((seed + \"\").replace(/./g, function (s, i){ return s.charCodeAt(0) }))) * 16777215)) % 16777215).toString(digits || 16) \n}\nexport const randRange = function (rangeValue, nice){\n  const { start, end } = rangeModel(rangeValue)\n  const result = start + (Math.random() * (end - start))\n  return nice === true ? Math.ceil(result) : result\n}\n","import { isArray } from './isLike'\nimport { toNumber } from './cast'\n\nexport const dateExp = function (dv, format, pad){\n  if(isArray(dv)) dv = dv.join(' ')\n\n  var dt = /(\\d\\d\\d\\d|)[^\\d]?(\\d\\d|\\d|).?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)[^\\d]?(\\d\\d|\\d|)/.exec(dv)\n  dt[1] = dt[1] || (((new Date()).getYear() + 1900) + '')\n  dt[2] = dt[2] || ((new Date()).getMonth() + 1)\n  dt[3] = dt[3] || ((new Date()).getDate())\n  dt[4] = dt[4] || (\"00\")\n  dt[5] = dt[5] || (\"00\")\n  dt[6] = dt[6] || (\"00\")\n\n  var r = [ dt[1], dt[2], dt[3], dt[4], dt[5], dt[6], dt[0] ]\n  Object.defineProperties(r, {\n    year  : { enumerable: false, value: dt[1] },\n    month : { enumerable: false, value: dt[2] },\n    date  : { enumerable: false, value: dt[3] },\n    hour  : { enumerable: false, value: dt[4] },\n    minute: { enumerable: false, value: dt[5] },\n    second: { enumerable: false, value: dt[6] },\n    init  : { enumerable: false, value: dt[7] },\n    format: {\n      enumerable: false,\n      get       : ()=>function (s){\n        return s.replace('YYYY', r.year).replace(/(MM|M)/, r.month).replace(/(DD|D)/, r.date)\n        .replace(/(hh|h)/, r.hour).replace(/(mm|m)/, r.minute).replace(/(ss|s)/, r.second)\n        .replace(/(A)/, (toNumber(r.hour) > 12) ? 'PM' : 'AM')\n      }\n    }\n  })\n  if(typeof format === 'string'){ return r.format(format) }\n  return r\n}\n\nexport const timestampExp = function (exp){\n  if(arguments.length === 0){\n    return (+new Date())\n  }\n  if(typeof exp === \"string\"){\n    exp = dateExp(exp)\n  }\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(isArray(exp) && (exp.length == 7)){\n    exp = new Date(exp[0], exp[1], exp[2], exp[3], exp[4], exp[5])\n  }\n  if(exp instanceof Date){\n    return (+exp)\n  }\n  return 0\n}\n\nexport const timescaleExp = function (exp){\n  var scale = 0\n  if(typeof exp === \"number\"){\n    return exp\n  }\n  if(typeof exp === \"string\"){\n    // \n    exp = exp.replace(/\\d+(Y|year)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 31536000000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(M|month)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 2678400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(D|day)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 86400000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(h|hour)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 3600000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(ms|millisecond)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(m|minute)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 60000 })\n      return \"\"\n    })\n    exp = exp.replace(/\\d+(s|second)/, function (t){\n      t.replace(/\\d+/, function (d){ scale += d * 1000 })\n      return \"\"\n    })\n  }\n  return scale\n}\n","export const argumentNamesBy = function getArgs (fn){\n  if(typeof fn !== \"function\") return []\n    // normal -  function[^\\(]*?\\(([^)]*)\\)\n    // arrow  -  \\([\\)]*\\)\\s*\\=\\>\\s*\\{\n  var args = fn.toString().match(/function[^\\(]*?\\(([^)]*)\\)|\\([\\)]*\\)\\s*\\=\\>\\s*\\{/)[1]\n  if(!args) return []\n  return args.split(',').map(s=>s.trim()).filter(n=>n)\n}\n\nexport const scopelizeBy = function (evalCommand){\n  if(evalCommand.indexOf(\"return\") == -1){\n    evalCommand = `  return ${evalCommand}`\n  }\n\n  const command = evalCommand\n  const scopeBeforeFn = function (scope, info){\n    const params = []\n    const fnArgs = []\n    \n    Object.keys(scope).forEach(key=>{\n      params.push(scope[key])\n      fnArgs.push(key)\n    })\n    \n    fnArgs.push(command)\n    \n    const makeFn = Function.apply(Function, fnArgs)\n    \n    if(typeof info === \"function\"){\n      info({\n        func  : makeFn,\n        args  : fnArgs,\n        params: params\n      })\n    }\n    \n    return makeFn.apply(void 0, params)\n  }\n  \n  scopeBeforeFn.scoped = function (){\n    return command\n  }\n  \n  return scopeBeforeFn\n}\n\n","/*\n  usage\n  const size = 20\n  const stroke = 1\n\n  const { x, y, radius, diameter } = drawCircleVars(size, stroke);\n  \n  const d = `M${x} ${y} \n  a ${radius} ${radius} 0 0 1 0 ${diameter}\n  a ${radius} ${radius} 0 0 1 0 -${diameter}`\n\n  <svg viewbox=\"0 0 {size} {size}\">\n    <path d=\"{d}\" stroke-width=\"stroke\"></path>\n  </svg>\n*/\nexport const drawCircleVars = function (circleWidth, strokeWidth = 0, drawRatio = 1){\n  const circumference = ((circleWidth - strokeWidth) / 2) * (3.14159 * 2)\n  const radius        = (circumference / (3.14159 * 2))\n  const diameter      = (radius * 2)\n  const x             = circleWidth / 2\n  const y             = strokeWidth / 2\n  //const circumLength  = drawRatio == 1 ? drawRatio : drawRatio * circumference;\n    \n  return { x, y, radius, diameter, circumference, circleWidth, strokeWidth }\n}\n","import {\n  get,\n  hashMap,\n  domainRangeValue\n} from '../functions'\n\nimport {\n  isArray,\n  likeObject,\n  isEmpty\n} from '../functions/isLike'\n\nimport {\n  asArray,\n  cloneDeep as _cloneDeep\n} from '../functions/cast'\n\n// ?\nconst hasValueProperty = function (obj, value, key){\n  if(arguments.length == 1 && likeObject(obj)) return isEmpty(obj)\n  if(isArray(obj)) for(var i = 0, l = obj.length; i < l; i++) if(obj[i] === value) return true\n  if(likeObject(obj)){\n    if(key){\n      return get(obj, key) === value\n    } else {\n      for(var key in obj) if(get(obj, key) === value) return true\n    }\n  }\n  return false\n}\n\n\n//Scale foundation\n//정의역과 치역을 계산하여 결과값을 리턴함, 속성별로 정의하여 다중 차원 지원\n\nconst Block = function (posSize, syncOpt){\n  Object.defineProperties(this, {\n    $space  : { enumerable: false, writable: true, value: undefined },\n    $posSize: { enumerable: false, writable: true, value: undefined },\n    $mask   : { enumerable: false, writable: true, value: undefined },\n    $compute: { enumerable: false, writable: true, value: undefined },\n    $sync   : { enumerable: false, writable: true, value: undefined }\n  })\n  \n  this.sync(posSize, syncOpt)\n}\n  \nBlock.prototype = {\n  sync: function (block, syncOpt){ \n    console.log('sync1')\n    if(!arguments.length && this.$sync){\n      block = this.$sync()\n    } else if(typeof block === \"function\"){\n      this.$sync = block\n      if(syncOpt == true){\n        block = this.$sync()\n      } else {\n        return this\n      }\n    }\n    console.log('sync2', block)\n    if(block instanceof Block){ \n      this.$posSize = _cloneDeep(block.$posSize)\n      //.. this.$sync    = this.$sync || block.$sync\n      this.$space = this.$space || block.$space \n      this.$mask = this.$mask || block.$mask \n    } else {\n      this.$posSize = hashMap(_cloneDeep(block), function (posSize){ return !isArray(posSize) ? [posSize, 0] : posSize })\n    }\n    console.log('sync3')\n    return this \n  },\n  clone      : function (){ return new Block(this) },\n  setPosition: function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[0] = value; return this },\n  setSize    : function (value, sel){ var $posSize = get(this.$posSize, sel); if($posSize instanceof Array) $posSize[1] = value; return this },\n  get        : function (){ return _cloneDeep(typeof this.$posSize === \"function\" ? this.$posSize() : this.$posSize) },\n  domainValue: function (){ return hashMap(_cloneDeep(this.get()), function (posSize){ return posSize[0] }) },\n  domainSize : function (){ return hashMap(_cloneDeep(this.get()), function (posSize){ return posSize[1] }) },\n  domainMap  : function (){\n    return hashMap(_cloneDeep(this.get()), function (posSize){\n      return {\n        start: posSize[0],\n        size : posSize[1],\n        end  : posSize[0] + posSize[1]\n      }\n    })\n  },\n  conflicts: function (otherBlocks, selector){\n    return asArray(otherBlocks).reduce(function (red, block){\n      var selectOtherBlock = get(block, selector)\n                  \n      if(selectOtherBlock instanceof Block){\n        //다른 블럭이 현재 블럭과 같거나 space가 다를때는 평가하지 않음\n        if((selectOtherBlock === this) || (selectOtherBlock.$space != this.$space)) return red\n                      \n        //\n        var inspectResult = []\n                      \n        hashMap(this.get(), function (thisPos, key){\n          var otherPos = get(selectOtherBlock.get(), key)\n          if(otherPos[0] < thisPos[0] && (otherPos[0] + otherPos[1]) <= thisPos[0]) return inspectResult.push(false)\n          if(otherPos[0] > thisPos[0] && (thisPos[0] + thisPos[1]) <= otherPos[0]) return inspectResult.push(false)\n          return inspectResult.push(true)\n        })\n                      \n        if(inspectResult.length && !hasValueProperty(inspectResult, false)){\n          red.push(block)\n        }\n      }\n      return red\n    }.bind(this), [])\n  },\n  hasConflicts: function (otherBlocks, selector){ return !!this.conflicts(otherBlocks, selector).length },\n  overflow    : function (mask){\n    var blockPosSize  = this.get()\n    var spaceDomain   = this.$space.getDomain()\n    var overflowDomain = (mask && _cloneDeep(mask)) || (this.$space && this.$space.getDomain()) || []\n    return hashMap(overflowDomain, function ($overflowSelected, sel){\n      var $posSize = get(blockPosSize, sel)\n      var $domain  = get(spaceDomain, sel)\n      return ($posSize[0] < get($overflowSelected[0], $domain[0]) || ($posSize[0] + $posSize[1]) > get($overflowSelected[1], $domain[1]))\n    })\n  },\n  isOverflow: function (mask){\n    var overflow = false\n    hashMap(this.overflow(mask), function (f){ if(f){ overflow = true } })\n    return overflow\n  },\n  maskOverflow  : function (mask){ return this.overflow(this.$mask || mask) },\n  isMaskOverflow: function (mask){ return this.isOverflow(this.$mask || mask) },\n  rangeStart    : function (){ return this.$space.domainRange(hashMap(this.get(), function (posSize){ return posSize[0] })) },\n  rangeSize     : function (){ return this.$space.domainRangeSize(hashMap(this.get(), function (posSize){ return posSize[1] })) },\n  rangeMap      : function (){\n    var rangeSize = this.rangeSize()\n              \n    return hashMap(this.rangeStart(), function ($start, sel){ \n      var $size = sel ? rangeSize[sel] : rangeSize\n      return {\n        start: $start,\n        size : $size,\n        end  : $start + $size\n      }\n    })\n  },\n  map: function (){\n    var domainMap  = this.domainMap()\n    var rangeMap = this.rangeMap()\n              \n    var blockMap = hashMap(rangeMap, function (map, key){\n      map.rangeStart = map.start\n      map.rangeSize = map.size\n      map.rangeEnd = map.end\n                  \n      var $domainMap  = get(domainMap, key)\n      map.domainStart = $domainMap.start\n      map.domainSize = $domainMap.size\n      map.domainEnd = $domainMap.end\n      \n      delete map.start\n      delete map.size\n      delete map.end\n      return map\n    })\n              \n    return blockMap\n  },\n  rangeEnd: function (){ return this.rangeMap(this.rangeMap(), function (map){ return map.end }) },\n  compute : function (func){\n    if(typeof func === \"function\"){ \n      this.$compute = func \n    } else {\n      this.$compute && this.$compute(this.map())\n    } \n    return this \n  },\n  call: function (f){ typeof f === \"function\" && f.call(this, this.rangeMap()) }\n}\n      \nconst Tracker = function (space, domainMask){\n  this.$space = space\n  this.$domainMask = hashMap(_cloneDeep(domainMask), function (mask, sel){\n    if(typeof mask === \"number\") mask = [mask]\n    if(mask instanceof Array){\n      if(!mask[0]) mask[0] = 0\n      if(!mask[1]) mask[1] = function (v){ return v }\n    }\n    return mask\n  })\n}\n      \nTracker.prototype = {\n  block: function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt) \n    block.$space = this.$space \n    block.$mask = this.$domainMask \n    return block\n  },\n  domainBlock: function (cursor, callback){\n    var domainGrid = hashMap(this.$space.getRange(), function (range){ return range[2] })\n    var block      = this.block(hashMap(this.$space.rangeDomain(cursor), function (cursorPoint, key){ return [cursorPoint, get(domainGrid, key)] }))\n    var blockMap   = block.map()\n              \n    callback && callback.call(block, blockMap, block)\n    return block\n  }\n}\n      \nconst Space = function (domain, range){\n  this.$niceDomain = true\n  this.$niceRange = true\n  \n  Object.defineProperties(this, {\n    $niceDomain: { enumerable: false, writable: true, value: true },\n    $niceRange : { enumerable: false, writable: true, value: true },\n    $domain    : { enumerable: false, writable: true, value: undefined },\n    $range     : { enumerable: false, writable: true, value: undefined },\n    domain     : {\n      set (domain){\n        domain = hashMap(domain, function (domain){\n          if(!domain[2]){ domain[2] = 1 }\n          return domain\n        })\n        this.$domain = domain\n      },\n      get (){\n        return hashMap(_cloneDeep(this.$domain), function (domain){\n          for(var i = 0, l = domain.length; i < l; i++) if(typeof domain[i] === \"function\") domain[i] = domain[i]()\n          return domain\n        })\n      }\n    },\n    range: {\n      set (range){\n        range = hashMap(range, function (range){\n          if(!range[2]){ range[2] = 1 }\n          return range\n        })\n        this.$range = range\n      },\n      get (){\n        return hashMap(_cloneDeep(this.$range), function (range){\n          for(var i = 0, l = range.length; i < l; i++) if(typeof range[i] === \"function\") range[i] = range[i]()\n          return range\n        })\n      }\n    }\n  })\n  \n  this.$domain = domain\n  this.$range = range\n}\n      \nSpace.prototype = {\n  domainRangeSize: function (vs){\n    return hashMap(vs, function (v, sel){\n      var $range  = sel ? this.getRange()[sel] : this.getRange()\n      var $domain = sel ? this.getDomain()[sel] : this.getDomain()\n      return (v / ($domain[1] - $domain[0])) * ($range[1] - $range[0])\n    }.bind(this))\n  },\n  domainRange: function (vs){ return domainRangeValue(this.getDomain(), this.getRange(), vs, this.$niceRange) },\n  rangeDomain: function (vs){ return domainRangeValue(this.getRange(), this.getDomain(), vs, this.$niceDomain) },\n  block      : function (posSize, syncOpt){\n    var block = new Block(posSize, syncOpt)\n    block.$space = this\n    return block\n  },\n  tracker: function (domainMask){\n    var tracker = new Tracker(this, domainMask)\n    return tracker\n  }\n}\n      \nexport const space = (function (){\n  return function (domain, range){\n    return new Space(domain, range)\n  }\n}())\n  \nexport const block = (function (){\n  return function (posSize, syncOpt){\n    return new Block(posSize, syncOpt)\n  }\n}())\n","import { \n  free,\n  cloneDeep as _cloneDeep,\n  get as _get,\n  isPlainObject as _isPlainObject,\n  isEqual as _isEqual\n} from '../functions'\n\nconst EDITABLE_DEFAULT_KEY = \"$editable\"\n\nconst isEditPossibleDataType = model=>_isPlainObject(model)\n\nconst isEditableState = model=>model[EDITABLE_DEFAULT_KEY] !== undefined\n\nconst editableModelize = function (model){\n  model[EDITABLE_DEFAULT_KEY] = []\n  return model\n}\n\nconst putEditModel = function (destModel, setModel){\n  const putModel = _cloneDeep(setModel)\n  \n  Object.keys(destModel).forEach(key=>{\n    if(key !== EDITABLE_DEFAULT_KEY){\n      destModel[key] = undefined\n    }\n  })\n\n  Object.keys(putModel).forEach(key=>{\n    if(key !== EDITABLE_DEFAULT_KEY){\n      destModel[key] = putModel[key]\n    }\n  })\n  \n  return destModel\n}\n\nconst cloneCurrentModel = function (model){\n  const currentModelValues = {}\n  Object.keys(model).forEach(key=>{\n    if(key !== EDITABLE_DEFAULT_KEY){\n      currentModelValues[key] = model[key]\n    }\n  })\n  return _cloneDeep(currentModelValues)\n}\n\nconst pushEditModel = function (model, pushModel){\n  if(!isEditableState(model)){\n    editableModelize(model)\n  }\n  const editableMeta = model[EDITABLE_DEFAULT_KEY]\n  editableMeta.push(cloneCurrentModel(pushModel))\n  return model\n}\n\nconst removeEditModel = function (model){\n  if(isEditPossibleDataType(model) && isEditableState(model)){\n    model[EDITABLE_DEFAULT_KEY] = undefined\n  }\n  return model\n}\n\nconst getOriginalModel = function (model){\n  return _get(model, `[${EDITABLE_DEFAULT_KEY}][0]`)\n}\n\nconst getLastModel = function (model){\n  const changeHistory = _get(model, `[${EDITABLE_DEFAULT_KEY}]`)\n  return changeHistory && changeHistory[changeHistory.length - 1]\n}\n\nexport const isEditable = function (model){\n  if(!isEditPossibleDataType(model)) return false\n  return isEditableState(model)\n}\n\nexport const enterEditable = function (model){\n  if(!isEditPossibleDataType(model)) return model\n  if(model[EDITABLE_DEFAULT_KEY] !== undefined){\n    return model\n  } else {\n    return pushEditModel(model, model)\n  }\n}\n\nexport const exitEditable = function (model, extendModel = undefined){\n  if(!isEditPossibleDataType(model)) return model\n  if(isEditPossibleDataType(extendModel)){\n    const currentExtendModel = cloneCurrentModel(extendModel)\n    Object.keys(currentExtendModel).forEach(key=>{\n      model[key] = currentExtendModel[key]\n    })\n  }\n  removeEditModel(model)\n  return model\n}\n\nexport const cancleEditable = function (model){\n  if(!isEditPossibleDataType(model)) return model\n  const originalModel = getOriginalModel(model)\n  removeEditModel(model)\n  putEditModel(model, originalModel)\n}\n\nexport const commitEditable = function (model){\n  if(!isEditPossibleDataType(model)) return model\n  return pushEditModel(model, model)\n}\n\nexport const changedEditable = function (model){\n  if(!isEditPossibleDataType(model) || !isEditable(model)) return false\n  return !_isEqual(cloneCurrentModel(model), getLastModel(model))\n}\n\nexport const beginEditable = function (model){\n  if(!isEditPossibleDataType(model)) return model\n  if(!isEditableState(model)){\n    enterEditable(model)\n  } else {\n    const historyMeta = model[EDITABLE_DEFAULT_KEY]\n    const beginModel  = historyMeta[0]\n    \n    historyMeta.splice(0, historyMeta.length, beginModel)\n    putEditModel(model, beginModel)\n  }\n  return model\n}\n\nexport const expandEditable = function (model){\n  if(!model.hasOwnProperty(EDITABLE_DEFAULT_KEY)){\n    model[EDITABLE_DEFAULT_KEY] = undefined\n  }\n  return model\n}\n\nexport const editable = function (model){\n  const editableQuery = {\n    isEditable: ()=>isEditable(model),\n    isChanged : ()=>changedEditable(model),\n    output    : ()=>cloneCurrentModel(model),\n    free      : ()=>free(model),\n    expand    : ()=>expandEditable(model),\n    begin     : ()=>{\n      beginEditable(model)\n      return editableQuery\n    },\n    enter: ()=>{\n      enterEditable(model)\n      return editableQuery\n    },\n    exit: (extendModel = undefined)=>{\n      exitEditable(model, extendModel)\n      return editableQuery\n    },\n    cancle: ()=>{\n      cancleEditable(model)\n      return editableQuery\n    },\n    commit: ()=>{\n      commitEditable(model)\n      return editableQuery\n    }\n  }\n  \n  return editableQuery\n}\n","import { likePromise } from '../../functions'\nexport const PromiseClass = Promise\n\nconst resolveFn = PromiseClass.resolve\nconst rejectFn = PromiseClass.reject\n\nexport const newPromise = (fn)=>(new PromiseClass((r, c)=>{\n  const maybeAwaiter = fn(r, c)\n  likePromise(maybeAwaiter) && maybeAwaiter.then(r).catch(c)\n}))\n\nexport const promise = (fn)=>newPromise(fn)\n\nconst PromiseFunction = promise\n\nexport const all     = Promise.all\nPromiseFunction.all = all\n\nexport const resolve    = resolveFn\nPromiseFunction.resolve = resolve\n\nexport const reject    = rejectFn\nPromiseFunction.reject = reject\n","import { promise as PromiseFunction, newPromise, PromiseClass } from './promiseEngine'\nimport { likePromise } from '../../functions'\n\nexport const defer = function (){\n  var resolve, reject\n  var promise = new PromiseClass(function (){\n    resolve = arguments[0]\n    reject = arguments[1]\n  })\n  return {\n    resolve: resolve,\n    reject : reject,\n    promise: promise\n  }\n}\n\nPromiseFunction.defer = defer\n\nexport const timeout = function (fn, time){\n  if(typeof fn === \"number\"){\n    return newPromise(resolve=>setTimeout(()=>resolve(time), fn))\n  } else {\n    return newPromise(resolve=>setTimeout(()=>resolve(typeof fn === \"function\" ? fn() : fn), time))\n  }\n}\nPromiseFunction.timeout = timeout\n\nexport const valueOf = function (maybeQ){\n  return newPromise(function (resolve, reject){\n    likePromise(maybeQ)\n      ? maybeQ.then(resolve).catch(reject)\n      : resolve(maybeQ) \n  })\n}\nPromiseFunction.valueOf = valueOf\n\nexport const promise = PromiseFunction\n","import { \n  asArray,\n  isNumber\n} from '../functions'\n\nexport const operate = (function (){\n  const PARENT_OUTPUT_UPDATED = \"ParentOutputUpdated\"\n  \n  const operate = function ({ input, output, concurrent, rescue, limitInput, limitOutput }){\n    this.parent = undefined\n    this.children = []\n    this.inputs = []\n    this.outputs = []\n    this.limitInput = isNumber(limitInput) || limitInput > 0 ? limitInput : Number.POSITIVE_INFINITY\n    this.limitOutput = isNumber(limitOutput) || limitOutput > 0 ? limitOutput : Number.POSITIVE_INFINITY\n    \n    //\n    let current = 0\n    concurrent = isNumber(concurrent) || concurrent > 0 ? concurrent : 1\n    \n    Object.defineProperty(this, \"avaliablePullCount\", {\n      get: ()=>{\n        let limit = this.limitInput - this.inputs.length\n        if(limit < 0) limit = 0\n        return limit\n      }\n    })\n    \n    Object.defineProperty(this, \"avaliableOutputCount\", {\n      get: ()=>{\n        return this.limitOutput + current + this.outputs.length\n      }\n    })\n    \n    const inputOutput = { input, output }\n    \n    const kickStart = ()=>{\n      let avaliableQueLength = concurrent - current\n      \n      // 작동가능한 큐\n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      // input의 길이로 확인하여 실행 가능한 큐\n      if(avaliableQueLength > this.inputs.length){\n        avaliableQueLength = this.inputs.length\n      }\n      \n      // output의 제한을 확인하여 사용 가능한 큐\n      if(avaliableQueLength > this.avaliableOutputCount){\n        avaliableQueLength = this.avaliableOutputCount\n      }\n      \n      if(avaliableQueLength < 1){\n        return\n      }\n      \n      Array(avaliableQueLength).fill(inputOutput).forEach(async ({input, output})=>{\n        let entry = this.inputs.shift()\n        current++\n        \n        const outputHandle = async (formInputDataum)=>{\n          /* TODO:lint\n          if(typeof output === \"function\"){\n            const out = await output({ entry: formInputDataum })\n          }\n          */\n          \n          this.outputs.push(formInputDataum)\n          current--\n        \n          this.children.forEach(child=>child.emit(PARENT_OUTPUT_UPDATED))\n          kickStart()\n        }\n        \n        if(input){\n          try {\n            outputHandle(await input({ entry }))\n          } catch (e){\n            if(typeof rescue === \"function\"){\n              rescue(e)\n            } else {\n              throw e\n            }\n            current--\n          }\n        } else {\n          outputHandle(entry)\n        }\n      })\n    }\n\n    Object.defineProperty(this, \"push\", {\n      value: (pushData)=>{\n        this.inputs.push(pushData)\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"concat\", {\n      value: (pushData)=>{\n        asArray(pushData).forEach(d=>this.inputs.push(d))\n        kickStart()\n        return this\n      }\n    })\n    \n    Object.defineProperty(this, \"emit\", {\n      value: (eventName, payload)=>{\n        switch (eventName){\n          case PARENT_OUTPUT_UPDATED:\n            if(this.avaliablePullCount < 1) return\n            let pullData = this.parent.pull(this.avaliablePullCount)\n            if(pullData.length < 1) return\n            pullData.forEach(datum=>this.inputs.push(datum))\n            kickStart()\n            break\n        }\n      }\n    })\n    \n    Object.defineProperty(this, \"pull\", {\n      value: (pullLength)=>{\n        if(!(isNumber(pullLength) || pullLength == Number.POSITIVE_INFINITY)) return []\n        const pullData = this.outputs.splice(0, pullLength)\n        //pullData.length && kickStart();\n        return pullData\n      }\n    })\n    \n    Object.defineProperty(this, \"clone\", {\n      value: (deep = true, parentOperate)=>{\n        let cloneOperate = operateFunction({ input, output, concurrent, rescue, limitInput, limitOutput })\n        \n        deep === true && this.children.forEach(child=>{\n          child.clone(true, cloneOperate)\n        })\n        \n        return cloneOperate\n      }\n    })\n  }\n  \n  operate.prototype = {\n    append: function (child){\n      child.parent = this\n      this.children.push(child)\n      return this\n    },\n    remove: function (child){\n      let index = this.children.indexOf(child)\n      if(index < 0) return this\n      child.parent = undefined\n      this.children.splice(index, 1)\n    },\n    operate: function (option){\n      return this.append(operateFunction(option))\n    }\n  }\n  \n  const operateFunction = function (option){\n    return new operate(Object.assign({}, option))\n  }\n  \n  return operateFunction\n}())\n","// promise utils\nimport { PromiseClass, newPromise } from './promiseEngine'\nimport { promise as PromiseFunction } from './promise'\nimport { asArray, asObject } from '../../functions/cast'\nimport { isNumber } from '../../functions/isLike'\nimport { turn } from '../../functions/nice'\nimport { argumentNamesBy } from '../../functions/hack'\n\nimport { operate } from '../operate'\n\nexport const promisify = function (asyncErrCallbackfn){\n  const argumentNames = argumentNamesBy(asyncErrCallbackfn).slice(1)\n  const promisified   = function (){\n    const args = Array.from(arguments)\n    return new Promise((resolve, reject)=>{\n      const applyParams = args.concat(function (){\n        const [error, ...callbakArgs] = Array.from(arguments)\n        if(error){\n          reject(error)\n        } else if(argumentNames.length && callbakArgs.length > 1){\n          resolve(argumentNames.reduce((dest, name, index)=>{\n            dest[name] = callbakArgs[index]\n            return dest\n          }, {}))\n        } else {\n          resolve(callbakArgs[0])\n        }\n      })\n      asyncErrCallbackfn.apply(this, applyParams)\n    })\n  }\n  return function (){\n    return promisified.apply(this, Array.from(arguments))\n  }\n}\n\nexport const until = function (tasks, option){\n  if(!(tasks instanceof Array)){\n    return PromiseFunction.reject(new Error(\"tasks must be array\"))\n  }\n\n  if(!tasks.length || !tasks.some(e=>typeof e === \"function\")){\n    return PromiseFunction.reject(new Error(\"not found wheel executable\"))\n  }\n\n  if(!tasks.some(e=>(typeof e !== \"function\" || typeof e !== \"number\"))){\n    return PromiseFunction.reject(new Error(\"wheel task only function or number executable\"))\n  }\n\n  if(typeof option !== \"object\"){\n    option = {}\n  }\n\n  let finished = false\n  let defer\n  const limit = (typeof option.limit === \"number\" && option.limit > 0) ? parseInt(option.limit, 10) : 10000\n  const taskLength = tasks.length\n  let wheelTick = 0\n  let resetScope = 0\n  const nextWheelTick = (tick, value, tickScope)=>{\n    const nowAction = tasks[turn(tick, taskLength, 1)]\n\n    const isActiveFn = ()=>{\n      return tickScope === resetScope\n    }\n\n    const nextTickFn = passValue=>{\n      // if reset called\n      if(!isActiveFn()) return\n      // if over tick\n      if(wheelTick > limit){\n        return defer.reject(new Error(\"limit\"))\n      }\n      if(finished === false){\n        nextWheelTick(wheelTick++, passValue, tickScope)\n      }\n    }\n\n    if(typeof nowAction === \"function\"){\n      nowAction(\n        {\n          value,\n          next    : nextTickFn,\n          isActive: isActiveFn,\n          resolve : defer.resolve,\n          reject  : defer.reject\n        },\n        Math.floor(tick / tasks.length),\n        tick\n      )\n    } else if(typeof nowAction === \"number\"){\n      setTimeout(()=>{ nextTickFn(value) }, nowAction)\n    }\n  }\n  \n  const thenStack  = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return e\n    }\n  ]\n  const catchStack = [\n    e=>{\n      if(finished === null) return abort()\n      finished = true\n      return PromiseFunction.reject(e)\n    }\n  ]\n  \n  const deferReset = (resetTick)=>{\n    defer && defer.stop()\n    //\n    defer = PromiseFunction.defer()\n    thenStack.forEach(fn=>defer.promise.then(fn))\n    catchStack.forEach(fn=>defer.promise.catch(fn))\n    \n    //\n    defer.stop = ()=>{\n      finished = null\n      resetScope += 1\n    }\n    \n    defer.start = (resetTick)=>{\n      if(finished === null){\n        finished = false\n        wheelTick = typeof resetTick === \"number\" ? resetTick : 0\n        nextWheelTick(wheelTick++, option.value, resetScope)\n      }\n    }\n    //\n    defer.reset = deferReset\n    //\n    finished = null\n    defer.start(resetTick)\n  }\n  \n  deferReset(0)\n  \n  const wheelControls = {\n    ...defer,\n    then (fn){\n      defer.promise.then(fn)\n      thenStack.push(fn)\n      return wheelControls\n    },\n    catch (fn){\n      defer.promise.catch(fn)\n      catchStack.push(fn)\n      return wheelControls\n    }\n  }\n  \n  return wheelControls\n}\n\nexport const batch = function (funcArray, opts){\n  return newPromise(function (resolve, reject){\n    const option = asObject(opts, \"concurrent\")\n      \n    if(option.concurrent === true){\n      option.concurrent = Number.POSITIVE_INFINITY\n    } else if(!isNumber(option.concurrent) || option.concurrent < 1){\n      option.concurrent = 1\n    }\n      \n    if(!isNumber(option.interval) || option.interval < -1){\n      option.interval = -1\n    }\n      \n    if(!isNumber(option.repeat) || option.repeat < 1){\n      option.repeat = 1\n    }\n      \n    //set task with repeat\n    const sequanceTaskEntries = Array(option.repeat)\n    .fill(asArray(funcArray))\n    .reduce((dest, tasks)=>{\n      tasks.forEach((fn, index)=>dest.push([index, fn]))\n      return dest\n    }, [])\n      \n    const sequanceLength = sequanceTaskEntries.length\n    let sequanceComplete = 0\n    const sequanceReseult = Array(sequanceTaskEntries.length)\n      \n    operate({\n      output: async ({ entry })=>{\n        if(option.interval > -1){\n          await PromiseFunction.timeout(option.interval)\n        }\n        return entry\n      },\n      limitOutput: 1\n    })\n    .operate({\n      concurrent: option.concurrent,\n      input     : async ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn] = entry\n        entry.push(await fn())\n        return entry\n      },\n      output: ({ entry })=>{\n        // eslint-disable-next-line no-unused-vars\n        const [index, fn, result] = entry\n        \n        sequanceReseult[index] = result\n        sequanceComplete++\n        \n        if(sequanceComplete === sequanceLength){\n          resolve(sequanceReseult)\n        }\n      }\n    })\n    .concat(sequanceTaskEntries)\n  })\n}\n\n\n// abort is deprecated\nconst abortMessage = new function (){\n  Object.defineProperty(this, \"message\", {\n    get: ()=>\":abort\"\n  })\n  Object.defineProperty(this, \"abort\", {\n    get: ()=>true\n  })\n}()\n\nexport const abort = function (notifyConsole = undefined){\n  return new PromiseClass((resolve, reject)=>{\n    if(notifyConsole === true){\n      console.warn(\"abort promise\")\n    }\n    reject(abortMessage)\n  })\n}\n","import {\n  promise,\n  valueOf as _valueOf,\n  abort as _abort,\n  reject as _reject\n} from './promise'\n\nimport {\n  alloc,\n  asArray,\n  cloneDeep as _cloneDeep\n} from '../functions/cast'\n\nimport {\n  isEqual as _isEqual\n} from '../functions/isLike'\n\nexport const awaitLeadOnly = function (func){\n  return alloc(function (){\n    let $pending = false\n    return function (...args){\n      if($pending === true){\n        return _abort()\n      } else {\n        $pending = true\n        return promise((resolve, reject)=>{\n          return _valueOf(func.apply(this, args)).then(resolve).catch(reject)\n        })\n        .then(e=>{\n          $pending = false\n          return e\n        })\n        .catch(e=>{\n          $pending = false\n          return _reject(e)\n        })\n      }\n    }\n  })\n}\n\nexport const awaitCompose = function (funcArgs){\n  return alloc(function (){\n    const composeFuncs = []\n\n    asArray(funcArgs).forEach(f=>{ typeof f === \"function\" && composeFuncs.push(f) })\n\n    return function (payload){\n      return promise((resolve, reject)=>{\n        function * iterator (){\n          for(let d = composeFuncs, i = 0, l = d.length; i < l; i++){\n            yield d[i]\n          }\n        }\n\n        const doWhile = ({ value: proc, done }, taskPayload)=>{\n          if(done){\n            resolve(taskPayload)\n          } else {\n            _valueOf(proc.call(this, taskPayload))\n            .then(nextPayload=>{\n              doWhile(iterator.next(), nextPayload)\n            })\n            .catch(reject)\n          }\n        }\n\n        doWhile.apply(iterator.next(), payload)\n      })\n    }\n  })\n}\n\n/*\n  수동 watch로직 입니다.\n  let watcher = watchChange(newValue=>{ doSomething... })\n  watcher.change(\"newValue\")\n*/\nexport const watchChange = function (){\n  const changeValue = function (watchman, newValue){\n    const countScope   = watchman.$count\n    const destOldValue = _cloneDeep(newValue)\n    \n    watchman.$setter.forEach(effect=>{\n      effect(newValue, watchman.$oldValue, countScope)\n    })\n    \n    watchman.$oldValue = destOldValue\n  }\n  \n  var Watchman = function (equalityLogic){\n    this.$setter = []\n    this.$oldValue = undefined\n    this.$count = 0\n    this.$equalityLogic = equalityLogic\n  }\n  \n  Watchman.prototype = {\n    setter (changeListeners){\n      asArray(changeListeners).forEach(fn=>{\n        if(typeof fn === \"function\"){\n          this.$setter.push(fn)\n        }\n      })\n    },\n    change (newValue){\n      var newValue\n      if(this.$equalityLogic){\n        if(!_isEqual(this.$oldValue, newValue)){\n          changeValue(this, newValue)\n        }\n      } else {\n        if(this.$oldValue != newValue){\n          changeValue(this, newValue)\n        }\n      }\n    }\n  }\n  return function (effect, equalityLogic){\n    const watch = new Watchman(equalityLogic)\n    watch.setter(effect)\n    return watch\n  }\n}\n","import { promise } from './promise'\n\nconst PaginateClass = function (opts){\n  // current page index\n  this.page = 0\n  // page per display item length\n  this.pagePer = 10\n  // paginate per display page length\n  this.paginatePer = 10\n  // totalItem count\n  this.totalItems = 0\n  // extra payload\n  this.parameters = {}\n  // pages ouput style ( all | existOnly )\n  this.pagesOutputStyle = 'existOnly'\n\n  this.$pending = false\n  this.$fetchFn = opts.fetch\n  this.$renderFn = opts.render\n\n  this.update(opts)\n  this.$fetchState = -1\n\n  if(typeof this.$fetchFn !== \"function\"){\n    console.error(\"paginate::fetch 초기 옵션에 반드시 합수를 선언해 주세요\")\n  }\n\n  if(typeof this.$renderFn !== \"function\"){\n    console.error(\"paginate::render 초기 옵션에 반드시 함수를 선언해 주세요\")\n  }\n}\n\nPaginateClass.prototype = {\n  isAllowPaginate (needTo){\n    return needTo > -1 && needTo < this.paginateLimit\n  },\n  isAllowIndex (needTo, pagelimit){\n    pagelimit = (typeof pagelimit === \"number\") ? pagelimit : this.pageLimit\n    if(pagelimit < 0) return false\n    return (needTo > -1 && needTo <= pagelimit)\n  },\n  fetch (payload){\n    if(this.$fetchState != -1){\n      return promise.reject(new Error(\"paginate::다른 페이징 작업 중에 페이징 처리를 할 수 없습니다.\"))\n    }\n\n    if(typeof payload === \"object\"){\n      payload = Object.assign(this.pageState, this.parameters, payload)\n    }\n\n    this.$fetchState = 0\n    this.$pending = true\n\n    return promise((resolve, reject)=>{\n      promise.valueOf(this.$fetchFn(payload))\n      .then(e=>{\n        if(this.$fetchState == 0){\n          console.warn(\"paginate::fetch중엔 반드시 update를 해 주십시오\")\n        }\n        this.$fetchState = -1\n        this.$pending = true\n        resolve(e)\n      })\n      .catch(e=>{\n        this.$fetchState = -1\n        this.$pending = true\n        reject(e)\n      })\n    })\n  },\n  update (updateOpts){\n    this.hasOwnProperty(\"$fetchState\") && this.$fetchState++\n\n    if(updateOpts === null || updateOpts === \"abort\"){\n      return\n    }\n\n    this.page = updateOpts.page > -1 ? updateOpts.page : this.page\n    this.pagePer = updateOpts.pagePer || this.pagePer\n    this.paginatePer = updateOpts.paginatePer || this.paginatePer\n    this.totalItems = (typeof updateOpts.totalItems === \"number\") ? updateOpts.totalItems : this.totalItems\n\n    if(typeof updateOpts.parameters === \"object\"){\n      this.parameters = Object.assign({}, this.parameters, updateOpts.parameters)\n    }\n\n    if(typeof this.$renderFn === \"function\"){\n      this.$renderFn(this)\n    } else {\n      console.warn(\"paginate::render 함수를 찾을수 없습니다. 반드시 설정해주세요.\")\n    }\n  },\n  params (parameters){\n    if(parameters === null){\n      this.parameters = {}\n    } else if(typeof parameters === \"object\"){\n      this.parameters = parameters\n    } else {\n      console.warn(\"paginate:parameters는 object 파라메터만 받을수 있습니다.\")\n    }\n    return this\n  },\n  refresh (){\n    return this.fetch({ page: this.page })\n  },\n  fetchIndex (pageIndex){\n    // 설정할수 있는 페이지보다 너무 높으면\n    if(pageIndex < 0){\n      return promise.reject(\"paginate::-1 이하로 페이지네이션에 접근 할 수 없습니다.\")\n    }\n\n    if(this.pageLimit < pageIndex){\n      pageIndex = this.pageLimit\n      if(pageIndex < 0){\n        pageIndex = 0\n      }\n    }\n    return this.fetch({ page: pageIndex })\n  },\n  fetchNext (){\n    return this.fetchIndex(this.page + 1)\n  },\n  fetchPrev (){\n    return this.fetchIndex(this.page - 1)\n  },\n  fetchTo (command){\n    let action\n    switch (command){\n      case \"next\": case \"nextPage\":\n        action = e=>this.fetchNext()\n        break\n      case \"prev\": case \"prevPage\":\n        action = e=>this.fetchPrev()\n        break\n      case \"firstPage\":\n        action = e=>this.fetchIndex(0)\n        break\n      case \"lastPage\":\n        action = e=>this.fetchIndex(this.pageLimit)\n        break\n      /* TODO : if needed\n      case \"nextPaginate\":\n        break;\n      case \"prevPaginate\":\n        break;\n        */\n      default:\n        if(typeof command === \"number\"){\n          action = e=>this.fetchIndex(command)\n        }\n    }\n    if(action){\n      return action()\n    } else {\n      return promise.reject(\"paginate::unknown command\", command)\n    }\n  }\n}\n\n// pagenation에서 이동 가능한 index의 크기를 반환함\nObject.defineProperty(PaginateClass.prototype, \"pageLimit\", {\n  get (){\n    const fixIndex = this.totalItems / this.pagePer\n    // polyfill Number.isInteger\n    if(typeof fixIndex === \"number\" && isFinite(fixIndex) && Math.floor(fixIndex) === fixIndex){\n      return fixIndex - 1\n    } else {\n      return Math.floor(fixIndex)\n    }\n  }\n})\n\n// pagenation에서 이동 가능한 paginate의 크기를 반환함\nObject.defineProperty(PaginateClass.prototype, \"paginateLimit\", {\n  get (){\n    return Math.ceil(this.totalItems / (this.pagePer * this.paginatePer))\n  }\n})\n\n// pagenation에서 이동 가능한 index의 크기를 반환함\nObject.defineProperty(PaginateClass.prototype, \"paginate\", {\n  get (){\n    let paginate = Math.floor((this.page) / this.paginatePer)\n    if(paginate < 0){ paginate = 0 }\n    return paginate\n  }\n})\n\n\nObject.defineProperty(PaginateClass.prototype, \"pageState\", {\n  get (){\n    return {\n      page       : this.page,\n      pagePer    : this.pagePer,\n      paginatePer: this.paginatePer,\n      totalItems : this.totalItems\n    }\n  }\n})\n\nObject.defineProperty(PaginateClass.prototype, \"pages\", {\n  get (){\n    // paginate 설정\n    var startPageIndex = (this.paginatePer * this.paginate)\n    var endPageIndex = startPageIndex + this.paginatePer\n\n    // 렌더링에 필요한 numberItems 생성\n    const numberItems = []\n    const pageLimit = this.pageLimit\n\n    for(;startPageIndex < endPageIndex; startPageIndex++){\n      numberItems.push({\n        index    : startPageIndex,\n        number   : startPageIndex + 1,\n        $disabled: !this.isAllowIndex(startPageIndex, pageLimit),\n        $active  : this.page == startPageIndex\n      })\n    }\n\n    // ui 페이지 번호 출력 보정\n    switch (this.pagesOutputStyle){\n      case \"existOnly\":\n        if(pageLimit < 1){\n          numberItems.splice(1, Number.POSITIVE_INFINITY)\n        } else {\n          var disabledStartIndex = 0\n          for(var d = numberItems, i = 0, l = d.length; i < l; i++){\n            if(d[i].$disabled == false) disabledStartIndex = i + 1\n          }\n          if(disabledStartIndex){\n            numberItems.splice(disabledStartIndex, Number.POSITIVE_INFINITY)\n          }\n        }\n        break\n      case \"all\":\n      default:\n      // is ok\n        break\n    }\n\n    return numberItems\n  }\n})\n\nObject.defineProperty(PaginateClass.prototype, \"allowNext\", {\n  get (){\n    return this.isAllowIndex(this.page + 1, this.pageLimit)\n  }\n})\n\nObject.defineProperty(PaginateClass.prototype, \"allowPrev\", {\n  get (){\n    return this.isAllowIndex(this.page - 1, this.pageLimit)\n  }\n})\n\nObject.defineProperty(PaginateClass.prototype, \"allowNextPaginate\", {\n  get (){\n    return this.isAllowPaginate(this.paginate + 1)\n  }\n})\n\nObject.defineProperty(PaginateClass.prototype, \"allowPrevPaginate\", {\n  get (){\n    return this.isAllowPaginate(this.paginate - 1)\n  }\n})\n\nObject.defineProperty(PaginateClass.prototype, \"viewmodel\", {\n  enumerable: false,\n  get (){\n    return {\n      page             : this.page,\n      pagePer          : this.pagePer,\n      paginatePer      : this.paginatePer,\n      totalItems       : this.totalItems,\n      allowNext        : this.allowNext,\n      allowPrev        : this.allowPrev,\n      allowNextPaginate: this.allowNextPaginate,\n      allowPrevPaginate: this.allowPrevPaginate,\n      pages            : this.pages,\n      parameters       : Object.keys(this.parameters).reduce((dest, name)=>{\n        dest[name] = this.parameters[name]\n        return dest\n      }, {})\n    }\n  }\n})\n\nconst paginateFactory = e=>new PaginateClass(e)\npaginateFactory.constructor = PaginateClass\n\nexport const Paginate = PaginateClass\nexport const paginate = paginateFactory\n","import { promise } from './promise'\n\nconst SESSION_STORE = {}\nconst STATE_STORE   = {}\n\n/*\nlet idx = 0;\nsession(\"scopeName\").open((name)=>{ id:idx++, name });\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"bob\");\nresolve(item);\n\nlet { item, resolve } = await session(\"scopeName\").spawn(\"cat\");\nresolve(item);\n\nsession(\"scopeName\").close()\n*/\n\nexport const session = function (name){\n  const inst = {\n    outputs: ()=>STATE_STORE[name].map(e=>e.output),\n    open   : (fn)=>{\n      SESSION_STORE[name] = fn\n      STATE_STORE[name] = []\n    },\n    close: ()=>{\n      const result = inst.outputs()\n      delete SESSION_STORE[name]\n      delete STATE_STORE[name]\n      return Promise.all(result)\n    },\n    spawn: (payload)=>{\n      if(typeof SESSION_STORE[name] !== \"function\"){\n        if(!SESSION_STORE[name]){\n          throw new Error(`session:: ${name} is not defined`)\n        } else {\n          throw new Error(`session:: ${name} is not function callback`)\n        }\n      }\n      \n      const input = promise.valueOf(SESSION_STORE[name](payload))\n      const managedSpawn = {\n        input,\n        output: undefined,\n        item  : undefined\n      }\n      \n      return input.then((item)=>{\n        const deferred      = promise.defer()\n        const deferPromise  = deferred.promise\n        managedSpawn.output = deferPromise\n        managedSpawn.item = item\n        \n        STATE_STORE[name].push(managedSpawn)\n        \n        return { \n          item,\n          resolve: deferred.resolve,\n          reject : deferred.reject\n        }\n      })\n    }\n  }\n  \n  return inst\n}\n","import { limitNumber, isAbsoluteNaN } from \"../functions\"\n\nexport const Limitter = function (max, min){\n  this.value = 0\n  if(typeof max !== \"number\" || isAbsoluteNaN(min)){\n    this.maximum = Number.POSITIVE_INFINITY\n  } else {\n    this.maximum = max\n  }\n  if(typeof min !== \"number\" || isAbsoluteNaN(min)){\n    this.minimum = 0\n  } else {\n    this.minimum = min\n  }\n}\n\nconst LimitterPrototype = {\n  expectIn (setValue){\n    return setValue === limitNumber(setValue, this.maximum, this.minimum)\n  },\n  expectOut (setValue){\n    return setValue !== limitNumber(setValue, this.maximum, this.minimum)\n  },\n  addExpectIn: function (addValue){\n    const destValue = this.value + addValue\n    return destValue === limitNumber(destValue, this.maximum, this.minimum)\n  },\n  addExpectOut: function (addValue){\n    const destValue = this.value + addValue\n    return destValue !== limitNumber(destValue, this.maximum, this.minimum)\n  },\n  set: function (setValue){\n    this.value = setValue\n    return this\n  },\n  add: function (addValue){\n    this.value = this.value + addValue\n    return this\n  }\n}\n\nObject.defineProperties(LimitterPrototype, {\n  done: {\n    get (){\n      return this.value === limitNumber(this.value, this.maximum, this.minimum)\n    }\n  }\n})\n\nLimitter.prototype = LimitterPrototype\n\nexport const ranger = function (max, min){\n  return new Limitter(max, min)\n}\n","import { asArray } from '../functions/cast'\nimport { times } from '../functions/enumerable'\nimport { turnTime } from '../functions/nice'\n\nexport const MatrixArray = (function (){\n  const MatrixArray = function (data, column, row){\n    asArray(data).forEach(datum=>{ this.push(datum) })\n    \n    Object.defineProperties(this, {\n      column: {\n        enumerable: false,\n        value     : column\n      },\n      row: {\n        enumerable: false,\n        value     : row\n      },\n      length: {\n        enumerable: false\n      }\n    })\n  }\n\n  MatrixArray.prototype = Object.assign([], {\n    toMatrix (eachResultHook){\n      const result = []\n      eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n\n      times(this.column * this.row, (index)=>{\n        const [ colIndex, rowIndex ] = turnTime(index, this.column)\n        const data       = this[index]\n        const dataResult = eachResultHook ? eachResultHook(data, index, colIndex, rowIndex) : data\n        if(!result[rowIndex]) result[rowIndex] = []\n        result[rowIndex].push(dataResult)\n      })\n      \n      return result\n    },\n    toArray (){\n      return Array.from(this)\n    },\n    eachColumn (eachFn){\n      const rows = this.toMatrix()\n      const columns = times(this.column, colIndex=>{\n        const colData = []\n        rows.forEach(row=>colData.push(row[colIndex]))\n        return colData\n      })\n      \n      return typeof eachFn === \"function\" ? columns.map(eachFn) : columns\n    },\n    eachRow (eachFn){\n      const rows = this.toMatrix()\n      return typeof eachFn === \"function\" ? rows.map(eachFn) : rows\n    },\n    multiply (){\n      //TODO\n    }\n  })\n  \n  return MatrixArray\n})()\n\nexport const makeMatrixArray = function (column, row, eachHook){\n  const matrixProto = times(column * row, (index)=>{\n    const [ colIndex, rowIndex ] = turnTime(index, column)\n    return eachHook(index, colIndex, rowIndex) || [colIndex, rowIndex]\n  })\n  \n  const matrixArray = new MatrixArray(matrixProto, column, row)\n  return matrixArray\n}\n","import { isArray, isNumber } from '../functions/isLike'\nimport { asArray } from '../functions/cast'\nimport { validMatrix, multiplyMatrix } from '../functions/matrix'\nimport { makeMatrixArray } from './matrix'\n\n\nconst likePoint = function (p){\n  return typeof p === \"object\" && p.hasOwnProperty(\"x\") && p.hasOwnProperty(\"y\")\n}\n\nconst calcTransformedPoint = (__ref, { matrix, perspectiveOrigin })=>{\n  // yet support affin\n  //let perspectiveVar = (this.meta && this.meta.perspective)\n  //perspectiveVar = !isNumber(perspectiveVar) ? 0 : perspectiveVar;\n  //perspectiveVar = -1/perspectiveVar;\n  //perspectiveVar = isInfinity(perspectiveVar) ? 0 : (perspectiveVar || 0) ;\n  if(!matrix) return\n  \n  const transformPoint = {}\n  const {x:px = 0, y:py = 0, z:pz = 0} = perspectiveOrigin || {x: 0, y: 0, z: 0}\n  const [[x], [y], [z], [w]] = multiplyMatrix(matrix, [[__ref.x - px], [__ref.y - py], [__ref.z - pz], [__ref.w]])\n  \n  transformPoint.x = x + px + matrix[0][3]\n  transformPoint.y = y + py + matrix[1][3]\n  transformPoint.z = z + pz + matrix[2][3]\n  transformPoint.w = w\n  \n  return transformPoint\n}\n\nconst Point = function (x = 0, y = 0, z = 0, w = 1, meta){\n  // base point config\n  const __ref = { x, y, z, w }\n  let __meta = {}\n  let __transformedPoint\n  \n  Object.defineProperties(this, {\n    x: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.x : __ref.x\n        }\n        return __ref.x\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.x = v\n      }\n    },\n    y: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.y : __ref.y\n        }\n        return __ref.y\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.y = v\n      }\n    },\n    z: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.z : __ref.z\n        }\n        return __ref.z\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.z = v\n      }\n    },\n    w: { \n      enumerable: true,\n      get       : ()=>{\n        if(this.transform === true){\n          !__transformedPoint && (__transformedPoint = calcTransformedPoint(__ref, this.meta))\n          return __transformedPoint ? __transformedPoint.w : __ref.w\n        }\n        return __ref.w\n      }, \n      set: v=>{\n        __transformedPoint = undefined\n        __ref.w = v\n      }\n    },\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        __transformedPoint = undefined\n        return __meta\n      }\n    },\n    transform: {\n      enumerable  : false,\n      configurable: false,\n      writable    : true,\n      value       : false\n    },\n    rx: { enumerable: false,\n      get       : ()=>{\n        const rangeWidth = (this.meta && this.meta.range && this.meta.range.width) || 0\n        return this.x / rangeWidth\n      }\n    },\n    ry: { \n      enumerable: false,\n      get       : ()=>{\n        const rangeHeight = (this.meta && this.meta.range && this.meta.range.height) || 0\n        return this.y / rangeHeight\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nPoint.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Point(this.x, this.y, this.z, this.w, this.meta)\n  },\n  call (fn){\n    if(typeof fn === \"function\"){\n      return fn(this) || this\n    }\n    return this\n  },\n  toJSON (withMeta){\n    const json = { x: this.x, y: this.y, z: this.z, w: this.w }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  pull (width = 0, angle = \"horizontal\"){\n    const { x, y, z, w } = this\n    switch (angle){\n      case \"h\": case \"horizontal\":\n        const xHalf = width <= 0 ? 0 : width / 2\n        return new Vertex([{x: x - xHalf, y, z, w}, {x: x + xHalf, y, z, w}])\n      default:\n    }\n  },\n  vertexWith (destPoint){\n    const points = asArray(destPoint)\n    points.unshift(this)\n    return new Vertex(points)\n  },\n  rectWith ({x, y}){\n    const [largeX, smallX] = this.x > x ? [ this.x, x ] : [ x, this.x ]\n    const [largeY, smallY] = this.y > y ? [ this.y, y ] : [ y, this.y ]\n    return new Rect(smallX, smallY, largeX - smallX, largeY - smallY, 0, 0)\n  },\n  applyTransform (matrix44 = this.meta.matrix){\n    if(!validMatrix(matrix44)){\n      this.transform = false\n      throw new Error('Point::applyTransform invalid matrix', matrix44)\n      return this\n    }\n    \n    this.meta.matrix = matrix44\n    this.transform = true\n    return this\n  }\n}\n\nconst Vertex = function (pointArray, meta){\n  let __meta\n  \n  Object.defineProperties(this, {\n    meta: {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ __meta = typeof it === \"object\" ? it : null; return __meta }\n    }\n  })\n  \n  this.meta = meta\n  \n  asArray(pointArray).forEach(point=>{\n    if(!likePoint(point)) return\n    const {x, y, z, w} = point\n    this.push(new Point(x, y, z, w, __meta))\n  })\n};\n\n(function (classFunction, methods){\n  const prototype = []\n  \n  classFunction.prototype = prototype\n  \n  Object.keys(methods).forEach(key=>{\n    prototype[key] = methods[key]\n  })\n  \n  Object.defineProperties(prototype, {\n    start: {\n      enumerable: false,\n      get (){\n        return this[0]\n      }\n    },\n    end: {\n      enumerable: false,\n      get (){\n        return !this.length ? void 0 : this[this.length - 1]\n      }\n    }\n  })\n}(Vertex, {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  toJSON (withMeta){\n    const result = []\n    this.forEach(p=>result.push(p.toJSON(withMeta)))\n    return result\n  },\n  clone (){\n    return new Vertex(this)\n  },\n  eq (index){\n    return this[index]\n  },\n  join: function (fn){\n    const joins = []\n    this.forEach((refp, i)=>{\n      joins.push(refp)\n      if(!this[i + 1]) return\n      const newp = fn(refp, this[i + 1], i)\n      if(!likePoint(newp)) return\n      const {x, y, z, w, meta} = newp\n      joins.push(new Point(x, y, z, w, meta))\n    })\n    this.splice(0, this.length)\n    joins.forEach(p=>this.push(p))\n    return this\n  },\n  point (order){\n    switch (order){\n      case \"e\": case \"end\":\n      case \"d\": case \"down\": case \"r\": case \"right\":\n        const { x:px, y:py, z:pz, w:pw } = this.end\n        return new Point(\n          px,\n          py,\n          pz,\n          pw,\n          this.meta\n        )\n      case \"c\": case \"m\": case \"center\": case \"middle\":\n        const { x:sx, y:sy, z:sz, w:sw } = this.start\n        const { x:ex, y:ey, z:ez, w:ew } = this.end\n        return new Point(\n          sx / 2 + ex / 2,\n          sy / 2 + ey / 2,\n          sz / 2 + ez / 2,\n          sw / 2 + ew / 2,\n          this.meta\n        )\n      case \"s\": case \"start\":\n      case \"u\": case \"up\": case \"l\": case \"left\":\n      default:\n        const { x, y, z, w } = this.start\n        return new Point(\n          x,\n          y,\n          z,\n          w,\n          this.meta\n        )\n    }\n  },\n  rect (){\n    const first = this[0]\n    \n    if(!first){\n      return new Rect(0, 0, 0, 0)\n    }\n    \n    let left = first.x\n    let right = first.x\n    let top = first.y\n    let bottom = first.y\n    \n    for(let d = this, i = 1, l = this.length; i < l; i++){\n      const p = d[i]\n      p.x < left && (left = p.x)\n      p.x > right && (right = p.x)\n      p.y < top && (top = p.y)\n      p.y > bottom && (bottom = p.y)\n    }\n    \n    return new Rect(left, top, right - left, bottom - top)\n  },\n  applyTransform (param){\n    this.forEach(p=>p.applyTransform(param))\n    return this\n  }\n}))\n\n\nconst Rect = function (left = 0, top = 0, width = 0, height = 0, meta = null){\n  const __ref = { left, top, width, height }\n  let __meta = {}\n  \n  Object.defineProperties(this, {\n    width: { \n      enumerable: true, \n      get (){ return __ref.width },\n      set (newValue){\n        const oldValue = __ref.width\n        __ref.width = newValue\n        __ref.right += newValue - oldValue\n        return newValue\n      }\n    },\n    height: { \n      enumerable: true, \n      get (){ return __ref.height },\n      set (newValue){\n        const oldValue = __ref.height\n        __ref.height = newValue\n        __ref.bottom += newValue - oldValue\n        return newValue\n      }\n    },\n    left  : { enumerable: true, get (){ return __ref.left } },\n    top   : { enumerable: true, get (){ return __ref.top } },\n    right : { enumerable: true, get (){ return this.left + this.width } },\n    bottom: { enumerable: true, get (){ return this.top + this.height } },\n    meta  : {\n      enumerable: false, \n      get (){ return __meta },\n      set (it){ \n        typeof it === \"object\" && Object.assign(__meta, it)\n        return __meta\n      }\n    }\n  })\n  \n  if(typeof meta === \"object\"){\n    this.meta = meta\n  }\n}\n\nconst splitCountParser = (split)=>{\n    //splitCount [ horizental, vertical ]\n    //1 = [ 1 ]\n    //[1, 2] = [1, 2]\n  const [ columnOrder, rowOrder ] = asArray(split)\n  return {\n    column: isNumber(columnOrder) && columnOrder > 0 ? parseInt(columnOrder, 10) : 1,\n    row   : isNumber(rowOrder) && rowOrder > 0 ? parseInt(rowOrder, 10) : 1\n  }\n}\n\nRect.prototype = {\n  addMeta (obj){\n    if(typeof obj === \"object\") this.meta = Object.assign(this.meta && this.meta || {}, obj)\n    return this\n  },\n  clone (){\n    return new Rect(this.left, this.top, this.width, this.height, this.meta)\n  },\n  toJSON (withMeta){\n    const json = {width: this.width, height: this.height, left: this.left, top: this.top, right: this.right, bottom: this.bottom }\n    if(withMeta === true && this.meta) json.meta = this.meta\n    return json\n  },\n  defaultPerspective (){\n    return {\n      perspective      : 0,\n      perspectiveOrigin: {\n        x: this.left + (this.width / 2),\n        y: this.top + (this.height / 2),\n        z: 0\n      }\n    }\n  },\n  findPoint (findWord){\n    const [ lineFind, pointFind ] = isArray(findWord) ? findWord : findWord.trim().split(/\\s+/)\n    return this.vertex(lineFind).point(pointFind)\n  },\n  vertex (order){\n    const inheritMeta = Object.assign(this.defaultPerspective(), this.meta)\n    \n    switch (order){\n      case \"right\": case \"r\":\n        return new Vertex([{x: this.right, y: this.top, z: 0, w: 0}, {x: this.right, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"bottom\": case \"b\":\n        return new Vertex([{x: this.left, y: this.bottom, z: 0, w: 0}, {x: this.right, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"left\": case \"l\":\n        return new Vertex([{x: this.left, y: this.top, z: 0, w: 0}, {x: this.left, y: this.bottom, z: 0, w: 0}], inheritMeta)\n      case \"top\": case \"t\":\n        return new Vertex([{x: this.left, y: this.top, z: 0, w: 0}, {x: this.right, y: this.top, z: 0, w: 0}], inheritMeta)\n      case \"middle\": case \"m\":\n        const middleY = this.height / 2 + this.top\n        return new Vertex(\n          [\n            {x: this.left, y: middleY, z: 0, w: 0},\n            {x: this.right, y: middleY, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n      case \"center\": case \"c\":\n        const centerX = this.width / 2 + this.x\n        return new Vertex(\n          [\n            {x: centerX, y: this.top, z: 0, w: 0},\n            {x: centerX, y: this.bottom, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n      default:\n        return new Vertex(\n          [\n            {x: this.left, y: this.top, z: 0, w: 0},\n            {x: this.left, y: this.bottom, z: 0, w: 0},\n            {x: this.right, y: this.bottom, z: 0, w: 0},\n            {x: this.right, y: this.top, z: 0, w: 0}\n          ],\n          inheritMeta\n        )\n    }\n  },\n  transformRect (){\n    this.vertex()\n  },\n  piecesWithCount (splitCount, eachResultHook){\n    const { column, row } = splitCountParser(splitCount)\n    const width = this.width\n    const height = this.height\n    const pieceWidth = width / column\n    const pieceHeight = height / row\n    eachResultHook = typeof eachResultHook === \"function\" ? eachResultHook : undefined\n    \n    \n    const pacExt = { ...this.defaultPerspective() }\n    \n    if(this.meta.matrix && this.meta.matrix instanceof Array){\n      Object.assign(pacExt, {\n        matrix: this.meta.matrix\n      })\n    }\n    \n    const pacResult = makeMatrixArray(column, row, (index, colIndex, rowIndex)=>{\n      const pacMeta = { \n        column: colIndex,\n        row   : rowIndex,\n        coords: [colIndex, rowIndex], \n        range : { width, height },\n        ...pacExt\n      }\n      \n      //\n      const result = new Rect(colIndex * pieceWidth, rowIndex * pieceHeight, pieceWidth, pieceHeight, pacMeta)\n      return eachResultHook ? eachResultHook(result, index, colIndex, rowIndex) : result\n    })\n    \n    return pacResult\n  },\n  diff ({ left:aleft, top:atop, width:awidth, height:aheight, right:aright, bottom:abottom }){\n    const diffResult = {}\n    const original = this.toJSON()\n    const offset = {left: 0, top: 0}\n    Object.defineProperties(diffResult, {\n      left: {\n        enumerable: true, \n        get       : ()=>original.left - aleft + offset.left,\n        set       : (want)=>{ offset.left = typeof want === \"number\" ? -original.left + want : 0 }\n      },\n      top: {\n        enumerable: true,\n        get       : ()=>original.top - atop + offset.top,\n        set       : (want)=>{ offset.top = typeof want === \"number\" ? -original.top + want : 0 }\n      },\n      width : { enumerable: true, get: ()=>original.width - awidth},\n      height: { enumerable: true, get: ()=>original.height - aheight},\n      right : { enumerable: true, get: ()=>original.right - aright + offset.left},\n      bottom: { enumerable: true, get: ()=>original.bottom - abottom + offset.top},\n      x     : { enumerable: false, get: ()=>offset.left},\n      y     : { enumerable: false, get: ()=>offset.top},\n      offset: {\n        enumerable: false,\n        get       : ()=>()=>({\n          x     : offset.left,\n          y     : offset.top,\n          right : diffResult.right,\n          bottom: diffResult.bottom,\n          over  : diffResult.right > diffResult.bottom ? diffResult.right : diffResult.bottom\n        })\n      },\n      move: {\n        enumerable: false,\n        get       : ()=>(nleft, ntop)=>{\n          diffResult.left = typeof nleft === \"number\" ? nleft : aleft\n          diffResult.top = typeof ntop === \"number\" ? ntop : atop\n          return diffResult\n        }\n      },\n      toJSON: {\n        enumerable: false,\n        get       : ()=>()=>({ ...diffResult })\n      }\n    })\n    \n    return diffResult\n  },\n  fit (rect){\n    if(typeof rect !== \"object\"){ throw new Error(\"fit::argument[0] is not object\") }\n    const { width, height } = rect\n    \n    if(!isNumber(width) || !isNumber(height)){ throw new Error(\"fit::argument[0] is not { width:Number, height:Number }\") }\n    const WHRatio = [ width / this.width, height / this.height ]\n    const transformRatio = WHRatio.sort()[0]\n    \n    this.width = (this.width * transformRatio) || 0\n    this.height = (this.height * transformRatio) || 0\n    \n    return this\n  },\n  //TODO : incompleted sticky(parent, position, offset);\n  sticky ({left:refX, top:refY, width:refWidth, height:refHeight}, position = \"bottom left\"){\n    const { left, top, width, height } = this\n    switch (position){\n      case \"bl\": case \"obl\": case \"bottom left\": case \"outer bottom left\":\n        return rect({\n          left: refX,\n          top : refY + refHeight,\n          width,\n          height\n        })\n      case \"c\": case \"m\": case \"mc\": case \"center\": case \"middle\": case \"middle center\":\n        return rect({\n          left: refX + refWidth / 2 - width / 2,\n          top : refY + refHeight / 2 - height / 2,\n          width,\n          height\n        })\n      default:\n        return rect({ left, top, width, height })\n    }\n  }\n}\n\nexport const point = function (x, y, z, w){\n  return typeof x === \"object\" \n    ? new Point(x.x, x.y, x.z, x.w) \n    : new Point(x, y, z, w)\n}\n\nexport const vertex = function (start, end){\n  return new Vertex([{x: start.x, y: start.y, z: start.z, w: start.w}, {x: end.x, y: end.y, z: end.z, w: end.w}])\n}\n\nexport const rect = function (left, top, width, height, x, y, valid){\n  return typeof left === \"object\"\n    ? new Rect(left.left, left.top, left.width, left.height, left.x, left.y, left.valid)\n    : new Rect(left, top, width, height, x, y, valid)\n}\n","import { cloneDeep } from '../functions'\n\nconst ManualReactive = function (watch, effect, judgeOfEqual){\n  this.watch = watch\n  this.effect = effect\n  this.judgeOfEqual = typeof judgeOfEqual === \"function\" ? judgeOfEqual : (a, b)=>a === b\n  this.oldValue = undefined\n}\n\nManualReactive.prototype = {\n  beginAffect (watchValue){\n    this.effect(watchValue, cloneDeep(this.oldValue))\n    this.oldValue = watchValue\n  },\n  digest (...args){\n    const watchResult = this.watch.apply(this, args)\n    return this.judgeOfEqual(this.oldValue, watchResult) ? false : (this.beginAffect(watchResult), true)\n  }\n}\n\nexport const affect = function (effect, judgeOfEqual){\n  let affectValue\n  const manualReactive = new ManualReactive(()=>affectValue, effect, judgeOfEqual)\n  return (value)=>{ affectValue = value; manualReactive.digest() }\n}\n","import * as functions from './index.js'\n\nlet Bow  = function (){}\nlet BowFactory = function (fns){\n  let BOX = function (payload){ return new Bow(payload) }\n  \n  function applyBoxFns (BowFns){ for(var name in BowFns) BOX[name] = BowFns[name] }\n  \n  applyBoxFns(fns)\n  \n  return BOX\n}\n\nlet DEFAULT = BowFactory({ ...functions })\n\nexport const factory = BowFactory\nexport default DEFAULT\n","import { factory } from './pado.core.js'\nimport * as functions from './index.js'\n\nconst DEFAULT = factory({ ...functions })\n\nexport default DEFAULT\n"],"names":["isAbsoluteNaN","it","isNone","data","undefined","isNumber","isInfinity","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","isInteger","value","trim","test","isNaN","parseInt","isArray","Array","isObject","isFunction","likeObject","likeString","likeNumber","String","parseFloat","likeArray","item","hasOwnProperty","length","isPlainObject","constructor","Object","isEnumerableObject","isNode","a","nodeType","isEmpty","RegExp","prop","isPresence","likeRegexp","s","eqof","typeIt","baseEq","other","filter","depth","strict","arguments","valueType","otherType","every","vValue","i","oValue","vKeys","keys","oKeys","sort","key","isEqual","likeEqual","values","eqeq","isExsist","notExsist","likePromise","target","asArray","defaultArray","toArray","option","prototype","slice","call","split","asObject","defaultKey","toNumber","v","d","vr","replace","dr","cleanObject","splice","forEach","clone","r","push","Date","setTime","getTime","k","console","error","cloneDeep","l","p","free","datum","dest","getKeyWithValue","obj","removeValue","detect","array","instance","func","proto","ins","DummyInstance","param","alloc","init","fn","rn","args","apply","filterExp","result","numberKey","entries","deepKeys","nestedDeepKeys","scope","total","child","useKey","currentScope","matchString","search","at","Error","substr","match","index","findIndex","__find_string","indexOf","__find_regexp","substring","findIndexes","c","idxs","next","all","deep","times","hashMap","object","readString","rebaseMatches","matches","text","castFn","props","payload","content","newMatchEntries","castingState","firstIndex","lastIndex","castingStart","cursor","start","open","matchEntries","parentScope","matchesMap","map","matchType","matchExp","firstMatch","aPriority","b","bPriority","matchIndex","matchSize","castStart","castEnd","castSize","skipSize","matching","casting","fork","needCursor","cursorTo","enter","enterMatches","enterCastFn","exit","more","readPath","__filterDotPath","dotPath","removeFirstDot","__filterBlockPath","blockPath","pathParam","path","stackCount","get","defaultValue","allget","name","hasProperty","hasValue","defaultObjectValueFunc","functionKeyObjectValueProc","functionKey","Boolean","selectKeyObjectValueProc","leftSelect","rightSelect","useLeftSelector","useRightSelector","getKey","proc","objKey","unique","findKey","uniqueSet","Set","keyPath","has","add","getKeyBy","clearOf","fillFn","sp","insertOf","moveOf","oldIndex","newIndex","concatOf","appends","filterOf","exitFn","exitCnt","ri","sortOf","rl","rebase","ref","refValue","refKey","assign","deepKey","NESTED_HAS_PROC","pointer","ki","diffStructure","before","after","afterKeys","beforeKeys","canDiff","analysis","concat","reduce","missing","surplus","diff","pass","fill","collection","fillLength","emptyDefault","dataLength","baseCut","cutLength","useFill","rest","cut","fillContent","cuts","rowIndex","enumFn","top","iteratee","topLength","limitNumber","limitOf","number","max","min","Infinity","numbers","accurateTimeout","originalTimeout","trigger","time","resolutionRatio","coverage","destTime","now","preparation","restTime","preparaTime","Math","floor","execution","setTimeout","turn","limit","ts","resultHook","abs","fixIndex","turnTime","toggle","toggleArgs","currentValue","step","val","rangeModel","sizeBase","end","reverse","range","stepSize","sizeBaseRange","warn","domainRangeValue","domain","vs","nice","sel","$range","$domain","dSize","sSize","dRate","calc","domainRangeInterpolate","_domain","_range","_nice","interpolate","matrixRange","scales","maxLength","selectLengthes","scaleIndex","rangeResult","redu","turnSize","scaleCase","scaleCaseLength","validMatrix","arr","from","some","likeError","asMatrix","columnSize","rowCount","ceil","column","ci","multiplyMatrix","aMatrix","bMatrix","columnLength","rRowIndex","columnResult","multiplied","dist","num","rColumnIndex","rand64","rand64Token","codeAt","codeLength","charAt","random","tokenize","seed","digits","sin","charCodeAt","toString","randRange","rangeValue","dateExp","dv","format","pad","join","dt","exec","getYear","getMonth","getDate","defineProperties","year","enumerable","month","date","hour","minute","second","timestampExp","exp","timescaleExp","scale","t","argumentNamesBy","getArgs","n","scopelizeBy","evalCommand","command","scopeBeforeFn","info","params","fnArgs","makeFn","Function","scoped","drawCircleVars","circleWidth","strokeWidth","drawRatio","circumference","radius","diameter","x","y","hasValueProperty","Block","posSize","syncOpt","$space","writable","$posSize","$mask","$compute","$sync","sync","block","log","_cloneDeep","setPosition","setSize","domainValue","domainSize","domainMap","size","conflicts","otherBlocks","selector","red","selectOtherBlock","inspectResult","thisPos","otherPos","bind","hasConflicts","overflow","mask","blockPosSize","spaceDomain","getDomain","overflowDomain","$overflowSelected","isOverflow","f","maskOverflow","isMaskOverflow","rangeStart","domainRange","rangeSize","domainRangeSize","rangeMap","$start","$size","blockMap","rangeEnd","$domainMap","domainStart","domainEnd","compute","Tracker","space","domainMask","$domainMask","domainBlock","callback","domainGrid","getRange","rangeDomain","cursorPoint","Space","$niceDomain","$niceRange","set","tracker","EDITABLE_DEFAULT_KEY","isEditPossibleDataType","_isPlainObject","model","isEditableState","editableModelize","putEditModel","destModel","setModel","putModel","cloneCurrentModel","currentModelValues","pushEditModel","pushModel","editableMeta","removeEditModel","getOriginalModel","_get","getLastModel","changeHistory","isEditable","enterEditable","exitEditable","extendModel","currentExtendModel","cancleEditable","originalModel","commitEditable","changedEditable","_isEqual","beginEditable","historyMeta","beginModel","expandEditable","editable","editableQuery","isChanged","output","expand","begin","cancle","commit","PromiseClass","Promise","resolveFn","resolve","rejectFn","reject","newPromise","maybeAwaiter","then","catch","promise","PromiseFunction","defer","timeout","valueOf","maybeQ","operate","PARENT_OUTPUT_UPDATED","input","concurrent","rescue","limitInput","limitOutput","parent","children","inputs","outputs","current","defineProperty","inputOutput","kickStart","avaliableQueLength","avaliableOutputCount","entry","shift","outputHandle","formInputDataum","emit","pushData","eventName","avaliablePullCount","pullData","pull","pullLength","parentOperate","cloneOperate","operateFunction","append","remove","abortMessage","abort","notifyConsole","awaitLeadOnly","$pending","_abort","_valueOf","e","_reject","awaitCompose","funcArgs","composeFuncs","iterator","doWhile","taskPayload","done","nextPayload","watchChange","changeValue","watchman","newValue","countScope","$count","destOldValue","$setter","effect","$oldValue","Watchman","equalityLogic","$equalityLogic","setter","changeListeners","change","watch","PaginateClass","opts","page","pagePer","paginatePer","totalItems","parameters","pagesOutputStyle","$fetchFn","fetch","$renderFn","render","update","$fetchState","isAllowPaginate","needTo","paginateLimit","isAllowIndex","pagelimit","pageLimit","pageState","updateOpts","refresh","fetchIndex","pageIndex","fetchNext","fetchPrev","fetchTo","action","isFinite","paginate","startPageIndex","endPageIndex","numberItems","$disabled","$active","disabledStartIndex","allowNext","allowPrev","allowNextPaginate","allowPrevPaginate","pages","paginateFactory","Paginate","SESSION_STORE","STATE_STORE","session","inst","close","spawn","managedSpawn","deferred","deferPromise","Limitter","maximum","minimum","LimitterPrototype","expectIn","setValue","expectOut","addExpectIn","addValue","destValue","addExpectOut","ranger","MatrixArray","row","toMatrix","eachResultHook","colIndex","dataResult","eachColumn","eachFn","rows","columns","colData","eachRow","multiply","makeMatrixArray","eachHook","matrixProto","matrixArray","likePoint","calcTransformedPoint","__ref","matrix","perspectiveOrigin","transformPoint","z","px","py","pz","w","Point","meta","__meta","__transformedPoint","transform","configurable","rx","rangeWidth","width","ry","rangeHeight","height","addMeta","toJSON","withMeta","json","angle","xHalf","Vertex","vertexWith","destPoint","points","unshift","rectWith","largeX","smallX","largeY","smallY","Rect","applyTransform","matrix44","pointArray","point","classFunction","methods","eq","joins","refp","newp","order","pw","sx","sy","sz","sw","ex","ey","ez","ew","rect","first","left","right","bottom","oldValue","splitCountParser","columnOrder","rowOrder","defaultPerspective","perspective","findPoint","findWord","lineFind","pointFind","vertex","inheritMeta","middleY","centerX","transformRect","piecesWithCount","splitCount","pieceWidth","pieceHeight","pacExt","pacResult","pacMeta","coords","aleft","atop","awidth","aheight","aright","abottom","diffResult","original","offset","want","over","move","nleft","ntop","fit","WHRatio","transformRatio","sticky","position","refX","refY","refWidth","refHeight","valid","ManualReactive","judgeOfEqual","beginAffect","watchValue","digest","watchResult","affect","affectValue","manualReactive","Bow","BowFactory","fns","BOX","applyBoxFns","BowFns","DEFAULT","functions","factory"],"mappings":"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"}
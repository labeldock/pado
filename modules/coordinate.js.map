{"version":3,"sources":["../.src/modules/coordinate.js"],"names":["Point","x","y","z","w","__ref","Object","defineProperties","enumerable","get","prototype","pull","width","angle","xHalf","Line","toObject","sx","sy","sz","sw","ex","ey","ez","ew","start","end","points","pointCount","divCount","dx","dy","dz","dw","Array","fill","map","v","i","point","order","px","py","pz","pw","Rect","left","top","height","valid","right","bottom","line","toJSON","Ponint","rect"],"mappings":"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","sourcesContent":["const Point = function(x=0,y=0,z=0,w=0){\n  const __ref = { x,y,z,w };\n  \n  Object.defineProperties(this,{\n    x:{ enumerable:true, get(){ return __ref.x; } },\n    y:{ enumerable:true, get(){ return __ref.y; } },\n    z:{ enumerable:true, get(){ return __ref.z; } },\n    w:{ enumerable:true, get(){ return __ref.w; } },\n  });\n};\n\nPoint.prototype = {\n  pull (width=0, angle=\"horizontal\"){\n    const { x, y, z, w } = this;\n    \n    switch(angle){\n      case \"h\": case \"horizontal\":\n        const xHalf = width <= 0 ? 0 : width/2;\n        return new Line(x-xHalf, y, z, w, x+xHalf, y, z, w);\n      default:\n    }\n  },\n  toObject (){\n    return {\n      x:this.x,\n      y:this.y,\n      z:this.z,\n      w:this.w\n    }\n  }\n};\n\nconst Line = function(sx,sy,sz,sw,ex,ey,ez,ew){\n  const __ref = { sx,sy,sz,sw,ex,ey,ez,ew };\n  \n  Object.defineProperties(this,{\n    start:{\n      enumerable:true,\n      get (){\n        return {\n          x:__ref.sx,\n          y:__ref.sy,\n          w:__ref.sw,\n          z:__ref.sz\n        }\n      }\n    },\n    end:{\n      enumerable:true,\n      get (){\n        return {\n          x:__ref.ex,\n          y:__ref.ey,\n          w:__ref.ew,\n          z:__ref.ez\n        }\n      }\n    }\n  });\n};\n\nLine.prototype =  {\n  points:function(pointCount=2){\n    const { start:{x:sx,y:sy,z:sz,w:sw}, end:{x:ex,y:ey,z:ez,w:ew} } = this;\n    const divCount = pointCount-1;\n    const [dx, dy, dz, dw]=[\n      ex-sx/divCount,\n      ey-sy/divCount,\n      ez-sz/divCount,\n      ew-sw/divCount\n    ];\n    \n    return Array(2).fill().map((v,i)=>new Point(sx+(dx*i),sy+(dy*i),sz+(dz*i),sw+(dw*i)));\n  },\n  point:function(order){\n    switch(order){\n    case \"e\": case \"end\":\n      const { x:px,y:py,z:pz,w:pw } = this.end;\n      return new Point(px,py,pz,pw);\n    case \"c\": case \"m\": case \"center\": case \"middle\":\n      const { x:sx, y:sy, z:sz, w:sw } = this.start;\n      const { x:ex, y:ey, z:ez, w:ew } = this.end;\n      return new Point(\n        sx/2 + ex/2,\n        sy/2 + ey/2,\n        sz/2 + ez/2,\n        sw/2 + ew/2\n      );\n    case \"s\": case \"start\":\n    default:\n      const { x,y,z,w } = this.start;\n      return new Point(x,y,z,w);\n    }\n  }\n};\n\n\n\n\nconst Rect = function(left=0,top=0,width=0,height=0,x,y,valid=true){\n  const __ref = { left,top,width,height,x,y,valid }\n  \n  Object.defineProperties(this,{\n    x:{ enumerable:true, get(){ return typeof __ref.x === \"number\" ? __ref.x : __ref.left; } },\n    y:{ enumerable:true, get(){ return typeof __ref.y === \"number\" ? __ref.y : __ref.top; } },\n    width:{ enumerable:true, get(){ return __ref.width; } },\n    height:{ enumerable:true, get(){ return __ref.height; } },\n    left:{ enumerable:true, get(){ return __ref.left; } },\n    top:{ enumerable:true, get(){ return __ref.top; } },\n    right:{ enumerable:true, get(){ return this.left + this.width; } },\n    bottom:{ enumerable:true, get(){ return this.top + this.height; } },\n    valid:{ get(){ return typeof __ref.valid === \"boolean\" ? __ref.valid : (\n      typeof __ref.left === \"number\" &&\n      typeof __ref.top === \"number\" &&\n      __ref.width >= 0 &&\n      __ref.height >= 0\n    ) } }\n  });\n};\n\nRect.prototype = {\n  point (){\n    return new Point(this.x,this.y);\n  },\n  line (order){\n    switch(order){\n    case \"top\": case \"t\":\n      return new Line(this.left,this.top,0,0,this.right,this.top,0,0);\n    case \"right\": case \"r\":\n      return new Line(this.right,this.top,0,0,this.right,this.bottom,0,0);\n    case \"bottom\": case \"b\":\n      return new Line(this.left,this.bottom,0,0,this.right,this.bottom,0,0);\n    case \"left\": case \"l\":\n      return new Line(this.left,this.top,0,0,this.left,this.bottom,0,0);\n    }\n  },\n  toJSON (){\n    return {\n      x:this.x,\n      y:this.y,\n      width:this.width,\n      height:this.height,\n      left:this.left,\n      top:this.top,\n      right:this.right,\n      bottom:this.bottom,\n      valid:this.valid\n    }\n  }\n};\n\nexport const point = function(x,y,z,w){\n  return typeof x === \"object\" ? \n  new Ponint(x.x,x.y,x.z,x.w) : \n  new Ponint(x,y,z,w);\n};\n\nexport const line = function(start,end){\n  new Line(start.x,start.y,start.z,start.w,end.x,end.y,end.z,end.w);\n};\n\nexport const rect = function(left,top,width,height,x,y,valid){\n  return typeof left === \"object\" ?\n  new Rect(left.left,left.top,left.width,left.height,left.x,left.y,left.valid) :\n  new Rect(left,top,width,height,x,y,valid);\n};\n"],"file":"coordinate.js"}
{"version":3,"sources":["../.src/modules/dimension.js"],"names":["likePoint","p","hasOwnProperty","Point","x","y","z","w","__ref","Object","defineProperties","enumerable","get","set","v","prototype","clone","toJSON","pull","width","angle","xHalf","Vertex","vertexWith","destPoint","points","unshift","rectWith","largeX","smallX","largeY","smallY","Rect","translate","rotate","angleX","angleY","angleZ","x1","y1","z1","cr","Math","cos","cp","cy","sr","sin","sp","sy","m0","m1","m2","m4","m5","m6","m8","m9","m10","transform","pointArray","forEach","point","push","classFunction","methods","keys","key","start","end","length","result","eq","index","join","fn","joins","refp","i","newp","splice","order","px","py","pz","pw","sx","sz","sw","ex","ey","ez","ew","rect","useRect","left","top","height","originX","originY","valid","newValue","oldValue","offsetValue","right","bottom","findPoint","findWord","trim","split","lineFind","pointFind","vertex","sticky","position","refX","refY","refWidth","refHeight"],"mappings":"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","sourcesContent":["import { isArray } from '../functions/isLike';\nimport { asArray } from '../functions/cast';\n\nconst likePoint = function(p){\n  return typeof p === \"object\" && p.hasOwnProperty(\"x\") && p.hasOwnProperty(\"y\");\n}\n\nconst Point = function(x=0,y=0,z=0,w=0){\n  const __ref = { x,y,z,w };\n  Object.defineProperties(this,{\n    x:{ enumerable:true, get(){ return __ref.x; }, set(v){ return __ref.x = v; }},\n    y:{ enumerable:true, get(){ return __ref.y; }, set(v){ return __ref.y = v; }},\n    z:{ enumerable:true, get(){ return __ref.z; }, set(v){ return __ref.z = v; }},\n    w:{ enumerable:true, get(){ return __ref.w; }, set(v){ return __ref.w = v; }},\n  });\n};\n\nPoint.prototype = {\n  clone (){\n    return new Point(this.x,this.y,this.z,this.w);\n  },\n  toJSON (){\n    return {\n      x:this.x,\n      y:this.y,\n      z:this.z,\n      w:this.w\n    }\n  },\n  pull (width=0, angle=\"horizontal\"){\n    const { x, y, z, w } = this;\n    switch(angle){\n      case \"h\": case \"horizontal\":\n        const xHalf = width <= 0 ? 0 : width/2;\n        return new Vertex([{x:x-xHalf, y, z, w}, {x:x+xHalf, y, z, w}]);\n      default:\n    }\n  },\n  vertexWith (destPoint){\n    const points = asArray(destPoint);\n    points.unshift(this);\n    return new Vertex(points);\n  },\n  rectWith ({x, y}){\n    const [largeX, smallX] = this.x > x ? [ this.x, x ] : [ x, this.x ];\n    const [largeY, smallY] = this.y > y ? [ this.y, y ] : [ y, this.y ];\n    return new Rect(smallX,smallY,largeX-smallX,largeY-smallY,0,0);\n  },\n  translate ({x=0, y=0, z=0}){\n    this.x = this.x + x;\n    this.y = this.y + y;\n    this.z = this.z + z;\n    return this;\n  },\n  rotate ({x:angleX=0, y:angleY=0, z:angleZ=0}){\n    let x1 = this.x,\n        y1 = this.y,\n        z1 = this.z,\n\n        cr = Math.cos(angleX),\n        cp = Math.cos(angleY),\n        cy = Math.cos(angleZ),\n        sr = Math.sin(angleX),\n        sp = Math.sin(angleY),\n        sy = Math.sin(angleZ),\n\n        w = cr * cp * cy + -sr * sp * -sy,\n        x = sr * cp * cy - -cr * sp * -sy,\n        y = cr * sp * cy + sr * cp * sy,\n        z = cr * cp * sy - -sr * sp * -cy,\n\n        m0 = 1 - 2 * ( y * y + z * z ),\n        m1 = 2 * (x * y + z * w),\n        m2 = 2 * (x * z - y * w),\n\n        m4 = 2 * ( x * y - z * w ),\n        m5 = 1 - 2 * ( x * x + z * z ),\n        m6 = 2 * (z * y + x * w ),\n\n        m8 = 2 * ( x * z + y * w ),\n        m9 = 2 * ( y * z - x * w ),\n        m10 = 1 - 2 * ( x * x + y * y );\n        \n    this.x = x1 * m0 + y1 * m4 + z1 * m8;\n    this.y = x1 * m1 + y1 * m5 + z1 * m9;\n    this.z = x1 * m2 + y1 * m6 + z1 * m10;\n    return this;\n  },\n  transform (transform){\n    const { rotate, translate } = transform;\n    this.rotate(rotate);\n    this.translate(translate);\n    return this;\n  }\n};\n\nconst Vertex = function(pointArray){\n  asArray(pointArray).forEach(point=>{\n    if(!likePoint(point)) return;\n    const {x,y,z,w} = point;\n    this.push(new Point(x,y,z,w));\n  });\n};\n\n(function(classFunction, methods){\n  const prototype = [];\n  \n  classFunction.prototype = prototype;\n  Object.keys(methods).forEach(key=>{\n    prototype[key] = methods[key]\n  });\n  \n  Object.defineProperties(prototype,{\n    start:{\n      enumerable:false,\n      get (){\n        return this[0];\n      }\n    },\n    end:{\n      enumerable:false,\n      get (){\n        return !this.length ? void 0 : this[this.length-1];\n      }\n    }\n  });\n}(Vertex, {\n  toJSON (){\n    const result = [];\n    this.forEach(p=>result.push(p.toJSON()));\n    return result;\n  },\n  clone (){\n    return new Vertex(this);\n  },\n  eq (index){\n    return this[index];\n  },\n  join:function(fn){\n    const joins = [];\n    this.forEach((refp,i)=>{\n      joins.push(refp);\n      if(!this[i+1]) return;\n      const newp = fn(refp, this[i+1], i);\n      if(!likePoint(newp)) return;\n      const {x,y,z,w} = newp;\n      joins.push(new Point(x,y,z,w));\n    });\n    this.splice(0,this.length);\n    joins.forEach(p=>this.push(p));\n    return this;\n  },\n  point (order){\n    switch(order){\n    case \"e\": case \"end\":\n    case \"d\": case \"down\": case \"r\": case \"right\":\n      const { x:px,y:py,z:pz,w:pw } = this.end;\n      return new Point(px,py,pz,pw);\n    case \"c\": case \"m\": case \"center\": case \"middle\":\n      const { x:sx, y:sy, z:sz, w:sw } = this.start;\n      const { x:ex, y:ey, z:ez, w:ew } = this.end;\n      return new Point(\n        sx/2 + ex/2,\n        sy/2 + ey/2,\n        sz/2 + ez/2,\n        sw/2 + ew/2\n      );\n    case \"s\": case \"start\":\n    case \"u\": case \"up\": case \"l\": case \"left\":\n    default:\n      const { x,y,z,w } = this.start;\n      return new Point(x,y,z,w);\n    }\n  },\n  transform (transform,rect){\n    const useRect = !!rect;\n    \n    if(useRect){\n      const { left, top, width, height } = rect;;\n      \n      //rotateOrigin\n      const originX = left + width/2;\n      const originY = top + height/2;\n      \n      this.forEach(point=>{\n        const { left, top } = rect;\n        point.translate({ x:-originX, y:-originY });\n        point.transform(transform);\n        point.translate({ x:originX, y:originY });\n      });\n    } else {\n      this.forEach(point=>{\n        point.transform(transform)\n      });\n    }\n    return this;\n  }\n}));\n\n\n\nconst Rect = function(left=0,top=0,width=0,height=0,x,y,valid=true){\n  const __ref = { left,top,width,height,x,y,valid }\n  \n  Object.defineProperties(this,{\n    x:{ enumerable:true, get(){ return typeof __ref.x === \"number\" ? __ref.x : __ref.left; } },\n    y:{ enumerable:true, get(){ return typeof __ref.y === \"number\" ? __ref.y : __ref.top; } },\n    width:{ \n        enumerable:true, \n        get(){ return __ref.width; },\n        set(newValue){\n            const oldValue = __ref.width;\n            const offsetValue = newValue - oldValue;\n            __ref.width = newValue;\n            __ref.right += offsetValue;\n            return newValue;\n        }\n    },\n    height:{ \n        enumerable:true, \n        get(){ return __ref.height; },\n        set(newValue){\n            const oldValue = __ref.height;\n            const offsetValue = newValue - oldValue;\n            __ref.height = newValue;\n            __ref.bottom    += offsetValue;\n            return newValue;\n        }\n    },\n    left:{ enumerable:true, get(){ return __ref.left; } },\n    top:{ enumerable:true, get(){ return __ref.top; } },\n    right:{ enumerable:true, get(){ return this.left + this.width; } },\n    bottom:{ enumerable:true, get(){ return this.top + this.height; } },\n    valid:{ get(){ return typeof __ref.valid === \"boolean\" ? __ref.valid : (\n      typeof __ref.left === \"number\" &&\n      typeof __ref.top === \"number\" &&\n      __ref.width >= 0 &&\n      __ref.height >= 0\n    ) } }\n  });\n};\n\nRect.prototype = {\n  findPoint (findWord){\n    const [ lineFind, pointFind ] = isArray(findWord) ? findWord : findWord.trim().split(/\\s+/);\n    return this.vertex(lineFind).point(pointFind);\n  },\n  vertex (order){\n    switch(order){\n    case \"right\": case \"r\":\n      return new Vertex([{x:this.right, y:this.top, z:0, w:0},{x:this.right,y:this.bottom,z:0,w:0}]);\n    case \"bottom\": case \"b\":\n      return new Vertex([{x:this.left, y:this.bottom, z:0, w:0},{x:this.right,y:this.bottom,z:0,w:0}]);\n    case \"left\": case \"l\":\n      return new Vertex([{x:this.left, y:this.top, z:0, w:0},{x:this.left,y:this.bottom,z:0,w:0}]);\n    case \"top\": case \"t\":\n      return new Vertex([{x:this.left, y:this.top, z:0, w:0},{x:this.right,y:this.top,z:0,w:0}]);\n    default:\n      return new Vertex([{x:this.left, y:this.top, z:0, w:0},{x:this.left,y:this.bottom,z:0,w:0},{x:this.right,y:this.bottom,z:0,w:0},{x:this.right, y:this.top, z:0, w:0}]);\n    }\n  },\n  //TODO : incompleted sticky(parent, position, offset);\n  sticky ({left:refX, top:refY, width:refWidth, height:refHeight}, position=\"bottom left\"){\n    const { left, top, width, height } = this;\n    switch(position){\n    case \"bl\": case \"obl\": case \"bottom left\": case \"outer bottom left\":\n      return rect({\n        left:refX,\n        top:refY+refHeight,\n        width,\n        height\n      });\n    case \"c\": case \"m\": case \"mc\": case \"center\": case \"middle\": case \"middle center\":\n      return rect({\n        left:refX + refWidth/2 - width/2,\n        top:refY + refHeight/2 - height/2,\n        width,\n        height\n      });\n    default:\n      return rect({ left, top, width, height });\n    }\n  },\n  toJSON (){\n    return { x:this.x, y:this.y, width:this.width, height:this.height, left:this.left, top:this.top, right:this.right, bottom:this.bottom, valid:this.valid };\n  }\n};\n\nexport const point = function(x,y,z,w){\n  return typeof x === \"object\" ? \n  new Point(x.x,x.y,x.z,x.w) : \n  new Point(x,y,z,w);\n};\n\nexport const vertex = function(start,end){\n  new Vertex([{x:start.x,y:start.y,z:start.z,w:start.w},{x:end.x,y:end.y,z:end.z,w:end.w}]);\n};\n\nexport const rect = function(left,top,width,height,x,y,valid){\n  return typeof left === \"object\" ?\n  new Rect(left.left,left.top,left.width,left.height,left.x,left.y,left.valid) :\n  new Rect(left,top,width,height,x,y,valid);\n};\n"],"file":"dimension.js"}
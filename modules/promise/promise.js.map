{"version":3,"sources":["../../.src/modules/promise/promise.js"],"names":["defer","resolve","reject","promise","PromiseClass","arguments","PromiseFunction","timeout","fn","time","setTimeout","valueOf","maybeQ","then","catch"],"mappings":";;;;;;;;;;;;;;;;;;;;AAGO,MAAMA,QAAQ,SAARA,KAAQ,GAAW;AAC9B,QAAIC,OAAJ,EAAaC,MAAb;AACA,QAAIC,UAAU,IAAIC,2BAAJ,CAAiB,YAAW;AACxCH,gBAAUI,UAAU,CAAV,CAAV;AACAH,eAASG,UAAU,CAAV,CAAT;AACD,KAHa,CAAd;AAIA,WAAO;AACLJ,eAASA,OADJ;AAELC,cAASA,MAFJ;AAGLC,eAASA;AAHJ,KAAP;AAKD,GAXM;;;AAaPG,yBAAgBN,KAAhB,GAAwBA,KAAxB;;AAEO,MAAMO,UAAU,SAAVA,OAAU,CAAUC,EAAV,EAAcC,IAAd,EAAmB;AACxC,QAAG,OAAOD,EAAP,KAAc,QAAjB,EAA0B;AACxB,aAAO,+BAAW;AAAA,eAASE,WAAW;AAAA,iBAAIT,QAAQQ,IAAR,CAAJ;AAAA,SAAX,EAA8BD,EAA9B,CAAT;AAAA,OAAX,CAAP;AACD,KAFD,MAEO;AACL,aAAO,+BAAW;AAAA,eAASE,WAAW;AAAA,iBAAIT,QAAQ,OAAOO,EAAP,KAAc,UAAd,GAA2BA,IAA3B,GAAkCA,EAA1C,CAAJ;AAAA,SAAX,EAA8DC,IAA9D,CAAT;AAAA,OAAX,CAAP;AACD;AACF,GANM;;;AAOPH,yBAAgBC,OAAhB,GAA0BA,OAA1B;;AAEO,MAAMI,UAAU,SAAVA,OAAU,CAAUC,MAAV,EAAiB;AACtC,WAAO,+BAAW,UAAUX,OAAV,EAAmBC,MAAnB,EAA0B;AAC1C,kCAAYU,MAAZ,IACIA,OAAOC,IAAP,CAAYZ,OAAZ,EAAqBa,KAArB,CAA2BZ,MAA3B,CADJ,GAEID,QAAQW,MAAR,CAFJ;AAGD,KAJM,CAAP;AAKD,GANM;;;AAOPN,yBAAgBK,OAAhB,GAA0BA,OAA1B;AAEO,MAAMR,UAAUG,sBAAhB","sourcesContent":["import { promise as PromiseFunction, newPromise, PromiseClass } from './promiseEngine'\nimport { likePromise } from '../../functions'\n\nexport const defer = function (){\n  var resolve, reject\n  var promise = new PromiseClass(function (){\n    resolve = arguments[0]\n    reject = arguments[1]\n  })\n  return {\n    resolve: resolve,\n    reject : reject,\n    promise: promise\n  }\n}\n\nPromiseFunction.defer = defer\n\nexport const timeout = function (fn, time){\n  if(typeof fn === \"number\"){\n    return newPromise(resolve=>setTimeout(()=>resolve(time), fn))\n  } else {\n    return newPromise(resolve=>setTimeout(()=>resolve(typeof fn === \"function\" ? fn() : fn), time))\n  }\n}\nPromiseFunction.timeout = timeout\n\nexport const valueOf = function (maybeQ){\n  return newPromise(function (resolve, reject){\n    likePromise(maybeQ)\n      ? maybeQ.then(resolve).catch(reject)\n      : resolve(maybeQ) \n  })\n}\nPromiseFunction.valueOf = valueOf\n\nexport const promise = PromiseFunction\n"],"file":"promise.js"}